(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ffcc5282","chunk-2d0bdf09"],{"13d2":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-select",{attrs:{value:e.arrayValue,mode:"multiple",placeholder:e.placeholder},on:{change:e.onChange}},e._l(e.options,(function(t,n){return a("a-select-option",{key:n,attrs:{value:t.value}},[e._v("\n    "+e._s(t.text||t.label)+"\n  ")])})),1)},i=[],l=(a("28a5"),{name:"JSelectMultiple",props:{placeholder:{type:String,default:"",required:!1},value:{type:String,required:!1},readOnly:{type:Boolean,required:!1,default:!1},options:{type:Array,required:!0},triggerChange:{type:Boolean,required:!1,default:!1}},data:function(){return{arrayValue:this.value?this.value.split(","):[]}},watch:{value:function(e){this.arrayValue=e?this.value.split(","):[]}},methods:{onChange:function(e){this.triggerChange?this.$emit("change",e.join(",")):this.$emit("input",e.join(","))}}}),r=l,o=a("2877"),s=Object(o["a"])(r,n,i,!1,null,null,null);t["default"]=s.exports},"2dab":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-date-picker",{attrs:{disabled:e.disabled||e.readOnly,placeholder:e.placeholder,value:e.momVal,showTime:e.showTime,format:e.dateFormat,getCalendarContainer:e.getCalendarContainer},on:{change:e.handleDateChange}})},i=[],l={name:"JDate",props:{placeholder:{type:String,default:"",required:!1},value:{type:String,required:!1},dateFormat:{type:String,default:"YYYY-MM-DD",required:!1},triggerChange:{type:Boolean,required:!1,default:!1},readOnly:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},showTime:{type:Boolean,required:!1,default:!1},getCalendarContainer:{type:Function,default:function(){return document.body}}},data:function(){var e=this.value;return{decorator:"",momVal:e?moment(e,this.dateFormat):null}},watch:{value:function(e){this.momVal=e?moment(e,this.dateFormat):null}},methods:{moment:moment,handleDateChange:function(e,t){this.$emit("change",t)}},model:{prop:"value",event:"change"}},r=l,o=a("2877"),s=Object(o["a"])(r,n,i,!1,null,null,null);t["default"]=s.exports},"3b7e":function(e,t,a){},4165:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-tree-select",{staticStyle:{width:"100%"},attrs:{allowClear:"",labelInValue:"",disabled:e.disabled,dropdownStyle:{maxHeight:"400px",overflow:"auto"},placeholder:e.placeholder,loadData:e.asyncLoadTreeData,value:e.treeValue,treeData:e.treeData},on:{change:e.onChange,search:e.onSearch}})},i=[],l=(a("ac4d"),a("8a81"),a("ac6a"),a("75fc")),r=(a("7f7f"),a("0fea")),o={name:"JTreeDict",data:function(){return{treeData:[],treeValue:null,url_root:"/sys/category/loadTreeRoot",url_children:"/sys/category/loadTreeChildren",url_view:"/sys/category/loadOne"}},props:{value:{type:String,required:!1},placeholder:{type:String,default:"请选择",required:!1},parentCode:{type:String,default:"",required:!1},field:{type:String,default:"id",required:!1},root:{type:Object,required:!1,default:function(){return{pid:"0"}}},async:{type:Boolean,default:!1,required:!1},disabled:{type:Boolean,default:!1,required:!1}},watch:{root:{handler:function(e){console.log("root-change",e)},deep:!0},parentCode:{handler:function(){this.loadRoot()}},value:{handler:function(){this.loadViewInfo()}}},created:function(){this.loadRoot(),this.loadViewInfo()},model:{prop:"value",event:"change"},methods:{loadViewInfo:function(){var e=this;if(this.value&&"0"!=this.value){var t={field:this.field,val:this.value};Object(r["getAction"])(this.url_view,t).then((function(t){t.success&&(e.treeValue={value:e.value,label:t.result.name})}))}else this.treeValue=null},loadRoot:function(){var e=this,t={async:this.async,pcode:this.parentCode};Object(r["getAction"])(this.url_root,t).then((function(t){t.success?(e.handleTreeNodeValue(t.result),console.log("aaaa",t.result),e.treeData=Object(l["a"])(t.result)):e.$message.error(t.message)}))},asyncLoadTreeData:function(e){var t=this;return new Promise((function(a){if(t.async)if(e.$vnode.children)a();else{var n=e.$vnode.key,i={pid:n};Object(r["getAction"])(t.url_children,i).then((function(e){e.success&&(t.handleTreeNodeValue(e.result),t.addChildren(n,e.result,t.treeData),t.treeData=Object(l["a"])(t.treeData)),a()}))}else a()}))},addChildren:function(e,t,a){if(a&&a.length>0){var n=!0,i=!1,l=void 0;try{for(var r,o=a[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value;if(s.key==e){t&&0!=t.length?s.children=t:s.leaf=!0;break}this.addChildren(e,t,s.children)}}catch(u){i=!0,l=u}finally{try{n||null==o.return||o.return()}finally{if(i)throw l}}}},handleTreeNodeValue:function(e){var t="code"==this.field?"code":"key",a=!0,n=!1,i=void 0;try{for(var l,r=e[Symbol.iterator]();!(a=(l=r.next()).done);a=!0){var o=l.value;o.value=o[t],o.isLeaf=!!o.leaf,o.children&&o.children.length>0&&this.handleTreeNodeValue(o.children)}}catch(s){n=!0,i=s}finally{try{a||null==r.return||r.return()}finally{if(n)throw i}}},onChange:function(e){console.log(e),this.$emit("change",e.value),this.treeValue=e},onSearch:function(e){console.log(e)},getCurrTreeData:function(){return this.treeData}}},s=o,u=a("2877"),c=Object(u["a"])(s,n,i,!1,null,null,null);t["default"]=c.exports},4201:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gc-canvas",on:{click:e.reloadPic}},[a("canvas",{attrs:{id:"gc-canvas",width:e.contentWidth,height:e.contentHeight}})])},i=[],l=(a("6c7b"),a("c5f6"),a("0fea")),r={name:"JGraphicCode",props:{length:{type:Number,default:4},fontSizeMin:{type:Number,default:20},fontSizeMax:{type:Number,default:45},backgroundColorMin:{type:Number,default:180},backgroundColorMax:{type:Number,default:240},colorMin:{type:Number,default:50},colorMax:{type:Number,default:160},lineColorMin:{type:Number,default:40},lineColorMax:{type:Number,default:180},dotColorMin:{type:Number,default:0},dotColorMax:{type:Number,default:255},contentWidth:{type:Number,default:136},contentHeight:{type:Number,default:38},remote:{type:Boolean,default:!1,required:!1}},methods:{randomNum:function(e,t){return Math.floor(Math.random()*(t-e)+e)},randomColor:function(e,t){var a=this.randomNum(e,t),n=this.randomNum(e,t),i=this.randomNum(e,t);return"rgb("+a+","+n+","+i+")"},drawPic:function(){var e=this;this.randomCode().then((function(){var t=document.getElementById("gc-canvas"),a=t.getContext("2d");a.textBaseline="bottom",a.fillStyle=e.randomColor(e.backgroundColorMin,e.backgroundColorMax),a.fillRect(0,0,e.contentWidth,e.contentHeight);for(var n=0;n<e.code.length;n++)e.drawText(a,e.code[n],n);e.drawLine(a),e.drawDot(a),e.$emit("success",e.code)}))},drawText:function(e,t,a){e.fillStyle=this.randomColor(this.colorMin,this.colorMax);var n=this.randomNum(this.fontSizeMin,this.fontSizeMax);e.font=n+"px SimHei";var i=10,l=(this.contentWidth-40)/(this.code.length-1),r=i;a>0&&(r=i+a*l);var o=this.randomNum(this.fontSizeMax,this.contentHeight-5);n>40&&(o=40);var s=this.randomNum(-10,10);e.translate(r,o),e.rotate(s*Math.PI/180),e.fillText(t,0,0),e.rotate(-s*Math.PI/180),e.translate(-r,-o)},drawLine:function(e){for(var t=0;t<1;t++)e.strokeStyle=this.randomColor(this.lineColorMin,this.lineColorMax),e.beginPath(),e.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),e.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),e.stroke()},drawDot:function(e){for(var t=0;t<100;t++)e.fillStyle=this.randomColor(0,255),e.beginPath(),e.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),e.fill()},reloadPic:function(){this.drawPic()},randomCode:function(){var e=this;return new Promise((function(t){1==e.remote?Object(l["getAction"])("/sys/getCheckCode").then((function(a){console.log("aaaaa",a),a.success?(e.checkKey=a.result.key,e.code=window.atob(a.result.code),t()):(e.$message.error("生成验证码错误,请联系系统管理员"),e.code="BUG",t())})).catch((function(){console.log("生成验证码连接服务器异常"),e.code="BUG",t()})):(e.randomLocalCode(),t())}))},randomLocalCode:function(){for(var e="",t="QWERTYUPLKJHGFDSAZXCVBNMqwertyupkjhgfdsazxcvbnm1234567890",a=0;a<this.length;a++){var n=Math.floor(57*Math.random());e+=t[n]}this.code=e},getLoginParam:function(){return{checkCode:this.code,checkKey:this.checkKey}}},mounted:function(){this.drawPic()},data:function(){return{code:"",checkKey:""}}},o=r,s=a("2877"),u=Object(s["a"])(o,n,i,!1,null,"6b5c5669",null);t["default"]=u.exports},"480d":function(e,t,a){"use strict";var n=a("3b7e"),i=a.n(n);i.a},"81ac":function(e,t,a){"use strict";var n=a("a6cf"),i=a.n(n);i.a},a6cf:function(e,t,a){},a726:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-checkbox-group",e._b({attrs:{options:e.options,value:e.checkboxArray},on:{change:e.onChange}},"a-checkbox-group",e.$attrs,!1))},i=[],l=(a("28a5"),{name:"JCheckbox",props:{value:{type:String,required:!1},options:{type:Array,required:!0}},data:function(){return{checkboxArray:this.value?this.value.split(","):[]}},watch:{value:function(e){this.checkboxArray=e?this.value.split(","):[]}},methods:{onChange:function(e){this.$emit("change",e.join(","))}},model:{prop:"value",event:"change"}}),r=l,o=a("2877"),s=Object(o["a"])(r,n,i,!1,null,null,null);t["default"]=s.exports},a876:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._b({},"div",e.fullScreenParentProps,!1),[e.fullScreen?a("a-icon",{staticClass:"full-screen-icon",attrs:{type:"fullscreen"},on:{click:function(){return e.fullCoder=!e.fullCoder}}}):e._e(),a("div",{staticClass:"code-editor-cust full-screen-child"},[a("textarea",{ref:"textarea"}),a("span",{staticClass:"null-tip",class:{"null-tip-hidden":e.hasCode},style:e.nullTipStyle,on:{click:e.nullTipClick}},[e._v(e._s(e.placeholderShow))]),e.languageChange?[a("a-select",{staticClass:"code-mode-select",attrs:{size:"small",placeholder:"请选择主题"},on:{change:e.changeMode},model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}},e._l(e.modes,(function(t){return a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v("\n          "+e._s(t.label)+"\n        ")])})),1)]:e._e()],2)],1)},i=[],l=(a("7514"),a("c5f6"),a("bf73")),r=a.n(l),o=(a("a7be"),a("fade"),a("f6b6"),a("f9d4"),a("7b00"),a("d5e0"),a("4ba6"),a("959b"),a("db91"),a("903e"),a("02f0"),a("ffda"),a("c0e2"),a("693d"),window.CodeMirror||r.a),s={name:"JCodeEditor",props:{value:{type:String,default:""},language:{type:String,default:null},languageChange:{type:Boolean,default:!1,required:!1},placeholder:{type:String,default:null},lineNumbers:{type:Boolean,default:!0},fullScreen:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:999}},data:function(){return{code:"",hasCode:!1,mode:"javascript",coder:null,options:{tabSize:2,theme:"panda-syntax",line:!0,hintOptions:{tables:{users:["name","score","birthDate"],countries:["name","population","size"]}}},modes:[{value:"css",label:"CSS"},{value:"javascript",label:"Javascript"},{value:"html",label:"XML/HTML"},{value:"x-java",label:"Java"},{value:"x-objectivec",label:"Objective-C"},{value:"x-python",label:"Python"},{value:"x-rsrc",label:"R"},{value:"x-sh",label:"Shell"},{value:"x-sql",label:"SQL"},{value:"x-swift",label:"Swift"},{value:"x-vue",label:"Vue"},{value:"markdown",label:"Markdown"}],fullCoder:!1}},watch:{language:{immediate:!0,handler:function(e){var t=this;this._getCoder().then((function(){if(e){var a=t._getLanguage(e);a&&(t.mode=a.label,t.coder.setOption("mode","text/".concat(a.value)))}}))}}},computed:{placeholderShow:function(){return null==this.placeholder?"请在此输入".concat(this.language,"代码"):this.placeholder},nullTipStyle:function(){return this.lineNumbers?{left:"36px"}:{left:"12px"}},coderOptions:function(){return{tabSize:this.options.tabSize,theme:this.options.theme,lineNumbers:this.lineNumbers,line:!0,hintOptions:this.options.hintOptions}},fullScreenParentProps:function(){var e={class:["full-screen-parent",this.fullCoder?"full-screen":""],style:{}};return this.fullCoder&&(e.style["z-index"]=this.zIndex),e}},mounted:function(){this._initialize()},methods:{_initialize:function(){var e=this;this.coder=o.fromTextArea(this.$refs.textarea,this.coderOptions),this.value||this.code?(this.hasCode=!0,this.coder.setValue(this.value||this.code)):(this.coder.setValue(""),this.hasCode=!1),this.coder.on("change",(function(t){e.code=t.getValue(),e.code?e.hasCode=!0:e.hasCode=!1,e.$emit&&e.$emit("input",e.code)})),this.coder.on("focus",(function(){e.hasCode=!0})),this.coder.on("blur",(function(){e.code?e.hasCode=!0:e.hasCode=!1}))},getCodeContent:function(){return this.code},setCodeContent:function(e){var t=this;setTimeout((function(){e?t.coder.setValue(e):t.coder.setValue("")}),300)},_getLanguage:function(e){return this.modes.find((function(t){var a=e.toLowerCase(),n=t.label.toLowerCase(),i=t.value.toLowerCase();return n===a||i===a}))},_getCoder:function(){var e=this;return new Promise((function(t){(function a(){e.coder?t(e.coder):setTimeout(a,10)})()}))},changeMode:function(e){this.coder.setOption("mode","text/".concat(e));var t=this._getLanguage(e).label.toLowerCase();this.$emit("language-change",t)},nullTipClick:function(){this.coder.focus()}}},u=s,c=(a("480d"),a("2877")),d=Object(c["a"])(u,n,i,!1,null,null,null);t["default"]=d.exports},ae14:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"dragDiv",staticClass:"drag"},[a("div",{staticClass:"drag_bg"}),a("div",{staticClass:"drag_text"},[e._v(e._s(e.confirmWords))]),a("div",{ref:"moveDiv",staticClass:"handler handler_bg",class:{handler_ok_bg:e.confirmSuccess},staticStyle:{border:"0.5px solid #fff",height:"34px",position:"absolute",top:"0px",left:"0px"},on:{mousedown:function(t){return e.mousedownFn(t)}}})])},i=[],l={name:"JSlider",data:function(){return{beginClientX:0,mouseMoveStata:!1,maxwidth:"",confirmWords:"拖动滑块验证",confirmSuccess:!1}},methods:{isSuccess:function(){return this.confirmSuccess},mousedownFn:function(e){this.confirmSuccess||(e.preventDefault&&e.preventDefault(),this.mouseMoveStata=!0,this.beginClientX=e.clientX)},successFunction:function(){this.confirmSuccess=!0,this.confirmWords="验证通过",window.addEventListener?(document.getElementsByTagName("html")[0].removeEventListener("mousemove",this.mouseMoveFn),document.getElementsByTagName("html")[0].removeEventListener("mouseup",this.moseUpFn)):document.getElementsByTagName("html")[0].removeEventListener("mouseup",(function(){})),document.getElementsByClassName("drag_text")[0].style.color="#fff",document.getElementsByClassName("handler")[0].style.left=this.maxwidth+"px",document.getElementsByClassName("drag_bg")[0].style.width=this.maxwidth+"px",this.$emit("onSuccess",!0)},mouseMoveFn:function(e){if(this.mouseMoveStata){var t=e.clientX-this.beginClientX;t>0&&t<=this.maxwidth?(document.getElementsByClassName("handler")[0].style.left=t+"px",document.getElementsByClassName("drag_bg")[0].style.width=t+"px"):t>this.maxwidth&&this.successFunction()}},moseUpFn:function(e){this.mouseMoveStata=!1;var t=e.clientX-this.beginClientX;if(t<this.maxwidth){var a=document.getElementsByClassName("handler")[0];a&&(a.style.left="0px",document.getElementsByClassName("drag_bg")[0].style.width="0px")}}},mounted:function(){this.maxwidth=this.$refs.dragDiv.clientWidth-this.$refs.moveDiv.clientWidth,document.getElementsByTagName("html")[0].addEventListener("mousemove",this.mouseMoveFn),document.getElementsByTagName("html")[0].addEventListener("mouseup",this.moseUpFn)}},r=l,o=(a("81ac"),a("2877")),s=Object(o["a"])(r,n,i,!1,null,"a5aa9694",null);t["default"]=s.exports},b098:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-tree-select",{staticStyle:{width:"100%"},attrs:{allowClear:"",labelInValue:"",disabled:e.disabled,dropdownStyle:{maxHeight:"400px",overflow:"auto"},placeholder:e.placeholder,loadData:e.asyncLoadTreeData,value:e.treeValue,treeData:e.treeData,multiple:e.multiple},on:{change:e.onChange,search:e.onSearch}})},i=[],l=a("7618"),r=(a("ac4d"),a("8a81"),a("ac6a"),a("75fc")),o=(a("28a5"),a("0fea")),s={name:"JTreeSelect",props:{value:{type:String,required:!1},placeholder:{type:String,default:"请选择",required:!1},dict:{type:String,default:"",required:!1},pidField:{type:String,default:"pid",required:!1},pidValue:{type:String,default:"",required:!1},disabled:{type:Boolean,default:!1,required:!1},hasChildField:{type:String,default:"",required:!1},condition:{type:String,default:"",required:!1},multiple:{type:Boolean,default:!1},loadTriggleChange:{type:Boolean,default:!1,required:!1}},data:function(){return{treeValue:null,treeData:[],url:"/sys/dict/loadTreeData",view:"/sys/dict/loadDictItem/",tableName:"",text:"",code:""}},watch:{value:function(){this.loadItemByCode()},dict:function(){this.initDictInfo(),this.loadRoot()}},created:function(){var e=this;this.validateProp().then((function(){e.initDictInfo(),e.loadRoot(),e.loadItemByCode()}))},methods:{loadItemByCode:function(){var e=this;this.value&&"0"!=this.value?Object(o["getAction"])("".concat(this.view).concat(this.dict),{key:this.value}).then((function(t){if(t.success){var a=e.value.split(",");e.treeValue=t.result.map((function(e,t){return{key:a[t],value:a[t],label:e}})),e.onLoadTriggleChange(t.result[0])}})):this.treeValue=null},onLoadTriggleChange:function(e){!this.multiple&&this.loadTriggleChange&&this.$emit("change",this.value,e)},initDictInfo:function(){var e=this.dict.split(",");this.tableName=e[0],this.text=e[1],this.code=e[2]},asyncLoadTreeData:function(e){var t=this;return new Promise((function(a){if(e.$vnode.children)a();else{var n=e.$vnode.key,i={pid:n,tableName:t.tableName,text:t.text,code:t.code,pidField:t.pidField,hasChildField:t.hasChildField,condition:t.condition};Object(o["getAction"])(t.url,i).then((function(e){if(e.success){var i=!0,l=!1,o=void 0;try{for(var s,u=e.result[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;c.value=c.key,0==c.leaf?c.isLeaf=!1:1==c.leaf&&(c.isLeaf=!0)}}catch(d){l=!0,o=d}finally{try{i||null==u.return||u.return()}finally{if(l)throw o}}t.addChildren(n,e.result,t.treeData),t.treeData=Object(r["a"])(t.treeData)}a()}))}}))},addChildren:function(e,t,a){if(a&&a.length>0){var n=!0,i=!1,l=void 0;try{for(var r,o=a[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value;if(s.key==e){t&&0!=t.length?s.children=t:s.isLeaf=!0;break}this.addChildren(e,t,s.children)}}catch(u){i=!0,l=u}finally{try{n||null==o.return||o.return()}finally{if(i)throw l}}}},loadRoot:function(){var e=this,t={pid:this.pidValue,tableName:this.tableName,text:this.text,code:this.code,pidField:this.pidField,hasChildField:this.hasChildField,condition:this.condition};Object(o["getAction"])(this.url,t).then((function(t){if(t.success&&t.result){var a=!0,n=!1,i=void 0;try{for(var l,o=t.result[Symbol.iterator]();!(a=(l=o.next()).done);a=!0){var s=l.value;s.value=s.key,0==s.leaf?s.isLeaf=!1:1==s.leaf&&(s.isLeaf=!0)}}catch(u){n=!0,i=u}finally{try{a||null==o.return||o.return()}finally{if(n)throw i}}e.treeData=Object(r["a"])(t.result)}else console.log("数根节点查询结果-else",t)}))},onChange:function(e){e?e instanceof Array?(this.$emit("change",e.map((function(e){return e.value})).join(",")),this.treeValue=e):(this.$emit("change",e.value,e.label),this.treeValue=e):(this.$emit("change",""),this.treeValue=null)},onSearch:function(e){console.log(e)},getCurrTreeData:function(){return this.treeData},validateProp:function(){var e=this,t=this.condition;return new Promise((function(a,n){if(t)try{var i=JSON.parse(t);console.log("aaaaasdsdd",Object(l["a"])(i)),"object"==Object(l["a"])(i)&&i?a():(e.$message.error("组件JTreeSelect-condition传值有误，需要一个json字符串!"),n())}catch(r){e.$message.error("组件JTreeSelect-condition传值有误，需要一个json字符串!"),n()}else a()}))}},model:{prop:"value",event:"change"}},u=s,c=a("2877"),d=Object(c["a"])(u,n,i,!1,null,null,null);t["default"]=d.exports},cf74:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-upload",{attrs:{name:"file",multiple:!0,action:e.uploadAction,headers:e.headers,data:{biz:e.bizPath},fileList:e.fileList,beforeUpload:e.beforeUpload,disabled:e.disabled,returnUrl:e.returnUrl},on:{change:e.handleChange}},[a("a-button",[a("a-icon",{attrs:{type:"upload"}}),e._v("\n    "+e._s(e.text)+"\n  ")],1)],1)},i=[],l=(a("7f7f"),a("28a5"),a("a481"),a("3b2b"),a("9fb0")),r=a("0fea"),o="all",s="image",u="file",c=function(){return"-"+parseInt(1e4*Math.random()+1,10)},d=function(e){if(e.lastIndexOf("\\")>=0){var t=new RegExp("\\\\","g");e=e.replace(t,"/")}return e.substring(e.lastIndexOf("/")+1)},h={name:"JUpload",data:function(){return{uploadAction:window._CONFIG["uploadURL"]+"/sys/common/upload",urlDownload:window._CONFIG["staticDomainURL"],headers:{},fileList:[],newFileList:[]}},props:{text:{type:String,required:!1,default:"点击上传"},fileType:{type:String,required:!1,default:o},bizPath:{type:String,required:!1,default:"temp"},value:{type:[String,Array],required:!1},disabled:{type:Boolean,required:!1,default:!1},triggerChange:{type:Boolean,required:!1,default:!1},returnUrl:{type:Boolean,required:!1,default:!0}},watch:{value:function(e){e instanceof Array?this.returnUrl?this.initFileList(e.join(",")):this.initFileListArr(e):this.initFileList(e)}},created:function(){try{var e=Vue.ls.get(l["a"]);this.headers={"X-Access-Token":e}}catch(t){console.log(t)}},methods:{initFileListArr:function(e){if(e&&0!=e.length){for(var t=[],a=0;a<e.length;a++)t.push({uid:c(),name:e[a].fileName,status:"done",url:e[a].filePath,response:{status:"history",message:e[a].filePath}});this.fileList=t}else this.fileList=[]},initFileList:function(e){if(e&&0!=e.length){for(var t=[],a=e.split(","),n=0;n<a.length;n++){var i=Object(r["getFileAccessHttpUrl"])(a[n],this.urlDownload,"http");t.push({uid:c(),name:d(a[n]),status:"done",url:i,response:{status:"history",message:a[n]}})}this.fileList=t}else this.fileList=[]},handlePathChange:function(){var e=this.fileList,t="";e&&0!=e.length||(t="");for(var a=[],n=0;n<e.length;n++)a.push(e[n].response.message);a.length>0&&(t=a.join(",")),this.$emit("change",t)},beforeUpload:function(e){var t=e.type;if(t===s){if(t.indexOf("image")<0)return this.$message.warning("请上传图片"),!1}else if(t===u&&t.indexOf("image")>=0)return this.$message.warning("请上传文件"),!1;return!0},handleChange:function(e){var t=this;console.log("--文件列表改变--");var a=e.fileList;"done"===e.file.status?e.file.response.success&&(a=a.map((function(e){if(e.response){var a=e.response.message;e.url=Object(r["getFileAccessHttpUrl"])(a,t.urlDownload,"http")}return e}))):"error"===e.file.status?this.$message.error("".concat(e.file.name," 上传失败.")):"removed"===e.file.status&&this.handleDelete(e.file),this.fileList=a,"done"!==e.file.status&&"removed"!==e.file.status||(this.returnUrl?this.handlePathChange():a=a.filter((function(e){return!!e.response&&!0===e.response.success})).map((function(e){var a={fileName:e.name,filePath:e.response.message,fileSize:e.size};t.newFileList.push(a),t.$emit("change",t.newFileList)})))},handleDelete:function(e){console.log(e)}},model:{prop:"value",event:"change"}},f=h,m=a("2877"),p=Object(m["a"])(f,n,i,!1,null,"0f95ccd1",null);t["default"]=p.exports},d579:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-tooltip",{attrs:{placement:"topLeft"}},[a("template",{slot:"title"},[a("span",[e._v(e._s(e.value))])]),e._v("\n  "+e._s(e._f("ellipsis")(e.value,e.length))+"\n")],2)},i=[],l=(a("c5f6"),{name:"JEllipsis",props:{value:{type:String,required:!1},length:{type:Number,required:!1,default:25}}}),r=l,o=a("2877"),s=Object(o["a"])(r,n,i,!1,null,"4de15389",null);t["default"]=s.exports},e610:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-upload",{attrs:{name:"file",listType:"picture-card",multiple:e.isMultiple,action:e.uploadAction,headers:e.headers,data:{biz:e.bizPath},fileList:e.fileList,beforeUpload:e.beforeUpload,disabled:e.disabled,isMultiple:e.isMultiple,showUploadList:e.isMultiple},on:{change:e.handleChange,preview:e.handlePreview}},[!e.isMultiple&&e.picUrl?a("img",{staticStyle:{height:"104px","max-width":"300px"},attrs:{src:e.getAvatarView()}}):a("div",[a("a-icon",{attrs:{type:e.uploadLoading?"loading":"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v(e._s(e.text))])],1),a("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:function(t){return e.handleCancel()}}},[a("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.previewImage}})])],1)},i=[],l=(a("7f7f"),a("28a5"),a("a481"),a("3b2b"),a("9fb0")),r=a("0fea"),o=function(){return"-"+parseInt(1e4*Math.random()+1,10)},s=function(e){if(e.lastIndexOf("\\")>=0){var t=new RegExp("\\\\","g");e=e.replace(t,"/")}return e.substring(e.lastIndexOf("/")+1)},u={name:"JImageUpload",data:function(){return{uploadAction:window._CONFIG["uploadURL"]+"/sys/common/upload",urlView:window._CONFIG["staticDomainURL"],uploadLoading:!1,picUrl:!1,headers:{},fileList:[],previewImage:"",previewVisible:!1}},props:{text:{type:String,required:!1,default:"上传"},bizPath:{type:String,required:!1,default:"temp"},value:{type:[String,Array],required:!1},disabled:{type:Boolean,required:!1,default:!1},isMultiple:{type:Boolean,required:!1,default:!1}},watch:{value:function(e){e instanceof Array?this.initFileList(e.join(",")):this.initFileList(e)}},created:function(){try{var e=Vue.ls.get(l["a"]);this.headers={"X-Access-Token":e}}catch(t){console.error(t)}},methods:{initFileList:function(e){if(e&&0!=e.length){this.picUrl=!0;for(var t=[],a=e.split(","),n=0;n<a.length;n++){var i=Object(r["getFileAccessHttpUrl"])(a[n],this.urlView,"http");t.push({uid:o(),name:s(a[n]),status:"done",url:i,response:{status:"history",message:a[n]}})}this.fileList=t}else this.fileList=[]},beforeUpload:function(e){var t=e.type;if(t.indexOf("image")<0)return this.$message.warning("请上传图片"),!1},handleChange:function(e){this.picUrl=!1;var t=e.fileList;"done"===e.file.status?e.file.response.success&&(this.picUrl=!0,t=t.map((function(e){return e.response&&(e.url=e.response.message),e}))):"error"===e.file.status?this.$message.error("".concat(e.file.name," 上传失败.")):"removed"===e.file.status&&this.handleDelete(e.file),this.fileList=t,"done"!==e.file.status&&"removed"!==e.file.status||this.handlePathChange()},handlePreview:function(e){this.previewImage=e.url||e.thumbUrl,this.previewVisible=!0},getAvatarView:function(){if(this.fileList.length>0){var e=this.fileList[0].url;return Object(r["getFileAccessHttpUrl"])(e,this.urlView,"http")}},handlePathChange:function(){var e=this.fileList,t="";e&&0!=e.length||(t="");var a=[];if(this.isMultiple)for(var n=0;n<e.length;n++)a.push(e[n].response.message);else a.push(e[e.length-1].response.message);a.length>0&&(t=a.join(",")),this.$emit("change",t)},handleDelete:function(e){console.log(e)},handleCancel:function(){this.close(),this.previewVisible=!1},close:function(){}},model:{prop:"value",event:"change"}},c=u,d=a("2877"),h=Object(d["a"])(c,n,i,!1,null,"46b1a830",null);t["default"]=h.exports}}]);