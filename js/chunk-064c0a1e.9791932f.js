(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-064c0a1e","chunk-064c0a1e"],{8172:function(e,t,a){"use strict";var s=a("ae82"),n=a.n(s);n.a},9527:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"index"},[s("a-spin",{attrs:{spinning:e.windowLoading}},[s("a-layout",{class:e.layoutClass,attrs:{id:"layout"}},[s("a-layout-header",{class:{collapsed:e.collapsed}},[s("div",{staticClass:"logo",on:{click:e.toHome}},[s("img",{staticClass:"logo-img",attrs:{src:a("bae8"),alt:""}}),e.system?s("span",{staticClass:"title"},[e._v("\n            "+e._s(e.system.app_name)+"\n            "),s("span",{staticClass:"version"},[e._v(e._s(e.system.app_version))])]):e._e()]),s("a-menu",{style:{lineHeight:"63px",paddingLeft:"15px"},attrs:{mode:"horizontal"},on:{click:e.menuModelClick,openChange:e.onModelOpenChange},model:{value:e.selectedModelKeys,callback:function(t){e.selectedModelKeys=t},expression:"selectedModelKeys"}},e._l(e.menu,(function(t,a){return s("a-menu-item",{key:t.id.toString(),attrs:{disabled:!t.status}},[t.icon?s("a-icon",{attrs:{type:t.icon}}):e._e(),s("span",[e._v(e._s(t.title))])],1)})),1),s("div",{staticClass:"right-menu"},[e.config.WS_URI?s("div",{staticClass:"m-r-lg"},[s("a-badge",{attrs:{title:"当前在线",count:e.online,showZero:"",numberStyle:{backgroundColor:"#52c41a"},offset:[10,0]}},[s("a-icon",{attrs:{type:"team"}})],1)],1):e._e(),e.organizationList.length>1?s("div",{staticClass:"action action-organization"},[s("header-select")],1):e._e(),s("div",{staticClass:"action"},[s("header-notice")],1),s("div",{staticClass:"action action-avatar"},[s("header-avatar")],1)])],1),s("a-layout",{staticStyle:{"padding-top":"65px"}},[s("a-sider",{attrs:{mode:"inline",breakpoint:"md",collapsible:""},model:{value:e.collapsed,callback:function(t){e.collapsed=t},expression:"collapsed"}},e._l(e.menus,(function(t){return s("a-menu",{key:t.id.toString(),attrs:{theme:e.theme,openKeys:e.openKeys,mode:"inline"},on:{click:function(a){return e.menuClick(a,t)},openChange:e.onOpenChange},model:{value:e.selectedKeys,callback:function(t){e.selectedKeys=t},expression:"selectedKeys"}},[t.children||t.is_inner||"#"==t.node?e._e():s("a-menu-item",{key:t.id,attrs:{disabled:!t.status}},[s("a-icon",{attrs:{type:t.icon}}),s("span",[e._v(e._s(t.title))])],1),t.children&&!t.is_inner?s("a-sub-menu",{key:t.id.toString()},[s("span",{attrs:{slot:"title"},slot:"title"},[s("a-icon",{attrs:{type:t.icon}}),s("span",[e._v(e._s(t.title))])],1),e._l(t.children,(function(t,a){return t.is_inner?e._e():s("a-menu-item",{key:t.id.toString(),attrs:{disabled:!t.status}},[e._v(e._s(t.title))])}))],2):e._e()],1)})),1),s("a-layout",{staticClass:"main-content",style:e.collapsed?{paddingLeft:"80px"}:{paddingLeft:"256px"}},[s("a-layout-content",[s("transition",{attrs:{name:"router-fade",mode:"out-in"}},[s("a-spin",{attrs:{spinning:e.pageLoading}},[s("router-view")],1)],1)],1)],1)],1)],1),e.config.WS_URI?s("Socket",{ref:"socket"}):e._e()],1),s("v-uploader")],1)},n=[],i=(a("8e6e"),a("456d"),a("7514"),a("6b54"),a("ac6a"),a("7f7f"),a("bd86")),r=a("5880"),o=a("98c5"),l=a("e84e"),c=a("0600"),d=a("10bd"),m=a("8215"),u=a("cef1"),p=a("a078"),_=a("97a8"),f=(a("68fe"),a("ba2f"));function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){Object(i["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v=o["a"].Sider,b=o["a"].Footer,y={name:"index",components:{HeaderNotice:l["default"],HeaderAvatar:c["default"],HeaderSelect:d["default"],ALayout:o["a"],ASider:v,AFooter:b,Socket:u["default"],VUploader:m["default"]},data:function(){return{menus:[],collapsed:!1,inline:1,openKeys:[],openKeysTemp:[],selectedKeys:[],selectedModelKeys:[],breadCrumbInfo:[],config:p["a"],online:0}},computed:h({},Object(r["mapState"])({theme:function(e){return e.theme},logged:function(e){return e.logged},menu:function(e){return e.menu.menu},system:function(e){return e.system},pageLoading:function(e){return e.pageLoading},windowLoading:function(e){return e.windowLoading},organizationList:function(e){return e.organizationList},socketAction:function(e){return e.socketAction}}),{layoutClass:function(){var e="layout-"+this.theme;return this.$route.meta.info.show_slider||(e+=" hide"),e}}),created:function(){this.checkLayout(),this.$route.query.logged&&this.$store.dispatch("checkLogin"),this.$route.query.message&&Object(_["b"])({title:this.$route.query.message},"notice"),this.logged&&Object(f["a"])()},watch:{$route:function(e,t){this.checkLayout()},collapsed:function(e){e?(this.openKeysTemp=JSON.parse(JSON.stringify(this.openKeys)),this.openKeys=[]):this.openKeys=JSON.parse(JSON.stringify(this.openKeysTemp))},logged:function(e){e||this.$router.push({name:"login"})},socketAction:function(e){"connect"!==e.action&&"onClose"!==e.action||(this.online=e.data.online)}},methods:{footerClick:function(){autoPlay("order");this.$refs.socket;this.$websocket.send(JSON.stringify({uid:this.$store.state.userInfo.id}))},checkLayout:function(){var e=this,t=(this.$route.name,this.$route.path),a=this.$route.meta,s=this.$route.meta.info;e.breadCrumbInfo=[],e.breadCrumbInfo.push({title:s.title,path:"/"+s.fullUrl}),s.is_inner||(e.openKeys=[],e.selectedKeys=[]);var n=null;function i(e,t){e.forEach((function(e){e.id==t&&(n=e),e.children&&i(e.children,t)}))}if(a.model){if(i(e.menu,a.model),!n)return!1;e.breadCrumbInfo.push({title:n.title,path:"/"+n.fullUrl}),n.pid&&i(e.menu,n.pid)}else i(e.menu,a.info.id);return e.breadCrumbInfo.push({title:n.title,path:"/"+n.fullUrl}),this.selectedModelKeys=[n.id.toString()],n.children?(e.menus=n.children,!s.is_inner&&(e.menus.forEach((function(a){a.pid==e.selectedModelKeys&&(a.children?a.children.forEach((function(a){"/"+a.fullUrl==t&&(e.selectedKeys.push(a.id.toString()),e.collapsed?e.openKeysTemp=[a.pid.toString()]:e.openKeys.push(a.pid.toString()))})):e.selectedKeys.push(a.id.toString()))})),void e.$store.dispatch("setBreadCrumbInfo",e.breadCrumbInfo))):(e.menus=[],!1)},menuClick:function(e,t){var a=this,s=[];s=this.openKeys.length?JSON.parse(JSON.stringify(a.openKeys)):[t.id.toString()],a.menus.forEach((function(t){if(t.id==s){var n="/";t.children?t.children.forEach((function(t){t.id==e.key&&(n+=t.fullUrl)})):n+=t.fullUrl,a.$router.push(n)}}))},menuModelClick:function(e){var t=this;t.menu.forEach((function(a,s){if(a.id==e.key){t.menus=a.children;var n="/";if(a.children?a.children[0].children?n+=a.children[0].children[0].fullUrl:n+=a.children[0].fullUrl:n+=a.fullUrl,"/home"==n)return t.toHome(),!1;"/#"!=n&&t.$router.push(n)}}))},onModelOpenChange:function(e){},onOpenChange:function(e){var t=this,a=this,s=e.find((function(e){return-1===t.openKeys.indexOf(e)})),n=!1;this.menus.forEach((function(e,t){e.id==s&&(a.openKeys=s?[s]:[],n=!0)})),n||(a.openKeys=e)}}},k=y,w=a("2877"),j=Object(w["a"])(k,s,n,!1,null,null,null);t["default"]=j.exports},ae82:function(e,t,a){},b0d8:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"install",staticStyle:{height:"100%"}},[a("user-layout",{attrs:{desc:"正在安装Pear Project项目管理系统"}},[a("div",{staticClass:"main"},[a("a-form",{staticClass:"user-layout-login",attrs:{layout:"horizontal",form:e.form},on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[a("a-form-item",{attrs:{labelCol:{span:6},wrapperCol:{span:18},label:"数据库地址"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mysqlHost",{rules:[{required:!0,message:"请输入MySQL 数据库地址"}],validateTrigger:"change",initialValue:"127.0.0.1"}],expression:"[\n                              'mysqlHost',\n                              {rules: [{ required: true, message: '请输入MySQL 数据库地址' }], validateTrigger: 'change',initialValue: '127.0.0.1'}\n                          ]"}],attrs:{size:"large",type:"text",placeholder:"MySQL 数据库地址"}})],1),a("a-form-item",{attrs:{labelCol:{span:6},wrapperCol:{span:18},label:"数据库名"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mysqlDatabase",{rules:[{required:!0,message:"请输入MySQL 数据库名"}],validateTrigger:"change",initialValue:"pearproject"}],expression:"[\n                              'mysqlDatabase',\n                              {rules: [{ required: true, message: '请输入MySQL 数据库名' }], validateTrigger: 'change',initialValue: 'pearproject'}\n                          ]"}],attrs:{size:"large",type:"text",placeholder:"MySQL 数据库名"}})],1),a("a-form-item",{attrs:{labelCol:{span:6},wrapperCol:{span:18},label:"用户名"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mysqlUsername",{rules:[{required:!0,message:"请输入MySQL 用户名"}],validateTrigger:"change",initialValue:"root"}],expression:"[\n                              'mysqlUsername',\n                              {rules: [{ required: true, message: '请输入MySQL 用户名' }], validateTrigger: 'change',initialValue: 'root'}\n                          ]"}],attrs:{size:"large",type:"text",placeholder:"MySQL 用户名"}})],1),a("a-form-item",{attrs:{labelCol:{span:6},wrapperCol:{span:18},label:"密码"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mysqlPassword"],expression:"[\n                              'mysqlPassword',\n                          ]"}],attrs:{size:"large",type:"password",placeholder:"MySQL 密码"}})],1),a("a-form-item",{attrs:{labelCol:{span:6},wrapperCol:{span:18},label:"数据表前缀"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mysqlPrefix",{rules:[{required:!0,message:"请输入MySQL 数据表前缀"}],validateTrigger:"change",initialValue:"pear_"}],expression:"[\n                              'mysqlPrefix',\n                              {rules: [{ required: true, message: '请输入MySQL 数据表前缀' }], validateTrigger: 'change',initialValue: 'pear_'}\n                          ]"}],attrs:{size:"large",type:"text",placeholder:"MySQL 数据表前缀"}})],1),a("a-form-item",{attrs:{labelCol:{span:6},wrapperCol:{span:18},label:"端口号"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mysqlHostport",{rules:[{required:!0,message:"请输入MySQL 端口号"}],validateTrigger:"change",initialValue:"3306"}],expression:"[\n                              'mysqlHostport',\n                              {rules: [{ required: true, message: '请输入MySQL 端口号' }], validateTrigger: 'change',initialValue: '3306'}\n                          ]"}],attrs:{size:"large",type:"text",placeholder:"MySQL 端口号"}})],1),a("a-form-item",{attrs:{label:"清除数据",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-checkbox",{directives:[{name:"decorator",rawName:"v-decorator",value:["initData",{initialValue:!1}],expression:"[\n                              'initData',\n                              {initialValue: false}\n                          ]"}]},[e._v("勾选后将清除预置数据")])],1),a("a-form-item",{staticStyle:{"margin-top":"24px"},attrs:{labelCol:{span:6},wrapperCol:{span:18,offset:6}}},[a("a-button",{staticClass:"middle-btn",attrs:{size:"large",type:"primary",htmlType:"submit",loading:e.loading,disabled:e.loading,block:""}},[e.loading?a("span",[e._v("正在安装，请稍后...")]):a("span",[e._v("立即安装")])])],1)],1)],1)])],1)},n=[],i=a("efb5"),r=a("2f14"),o=a("4677"),l={components:{UserLayout:o["default"]},data:function(){return{loading:!1,form:this.$form.createForm(this),installInfo:{mysqlHost:"",mysqlDatabase:"",mysqlUsername:"",mysqlPassword:"",mysqlPrefix:"",mysqlHostport:"",initData:!1}}},created:function(){this.checkInstall()},mounted:function(){var e=this;setTimeout((function(){e.form=e.$form.createForm(e)}),500)},methods:{handleSubmit:function(){var e=this;this.form.validateFields((function(t,a){t||(e.installInfo=a,e.install())}))},install:function(){var e=this;this.loading=!0,this.installInfo.initData=this.installInfo.initData?1:0,Object(i["b"])(this.installInfo).then((function(t){if(e.loading=!1,!Object(r["a"])(t))return!1;e.$router.push({name:"login"})})).catch((function(){e.loading=!1}))},checkInstall:function(){var e=this;Object(i["a"])().then((function(t){Object(r["a"])(t)&&e.$router.push({name:"login"})}))}}},c=l,d=a("2877"),m=Object(d["a"])(c,s,n,!1,null,null,null);t["default"]=m.exports},b2c7:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-403"},[s("ErrorPage",{attrs:{code:"404",desc:"抱歉，你访问的页面不存在"}},[s("img",{attrs:{slot:"img",src:a("f1d3"),alt:""},slot:"img"})])],1)},n=[],i=a("4b21"),r={components:{ErrorPage:i["default"]}},o=r,l=a("2877"),c=Object(l["a"])(o,s,n,!1,null,null,null);t["default"]=c.exports},b759:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-403"},[s("ErrorPage",[s("img",{attrs:{slot:"img",src:a("a769"),alt:""},slot:"img"})])],1)},n=[],i=a("4b21"),r={components:{ErrorPage:i["default"]}},o=r,l=a("2877"),c=Object(l["a"])(o,s,n,!1,null,null,null);t["default"]=c.exports},be07:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-403"},[s("ErrorPage",{attrs:{code:"403",desc:"抱歉，你无权访问该页面"}},[s("img",{attrs:{slot:"img",src:a("b0ad"),alt:""},slot:"img"})])],1)},n=[],i=a("4b21"),r={components:{ErrorPage:i["default"]}},o=r,l=a("2877"),c=Object(l["a"])(o,s,n,!1,null,null,null);t["default"]=c.exports},ccce:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home-index"},[a("div",{staticClass:"page-header",staticStyle:{"margin-top":"-10px",position:"relative"}},[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},[a("div",{staticClass:"header-content"},[a("div",{staticClass:"ant-breadcrumb-title"},[a("span",[e._v("首页")]),a("span",{staticClass:"ant-breadcrumb-separator"},[e._v("/")]),a("span",{staticClass:"ant-breadcrumb-link"},[e._v("任务管理")]),a("span",{staticClass:"ant-breadcrumb-separator"},[e._v("/")]),a("span",{staticClass:"ant-breadcrumb-link"},[e._v("任务中心")])]),a("div",{staticClass:"page-wrapper",staticStyle:{position:"absolute",top:"40px",left:"35px"}},[a("div",{staticClass:"left-content"},[a("div",{staticClass:"avatar"},[a("a-avatar",{attrs:{size:64,src:e.avatar}},[e._v("\n                  "+e._s(e.userInfo.realname)+"\n                ")])],1)]),a("div",{staticClass:"right-content"},[a("div",{staticClass:"content-item"},[a("div",{staticClass:"item-title muted"},[e._v("团队数目")]),a("div",{staticClass:"item-text"},[a("span",[e._v(e._s(e.accountsTotal))])])]),a("div",{staticClass:"content-item"},[a("div",{staticClass:"item-title muted"},[e._v("项目数目")]),a("div",{staticClass:"item-text"},[a("span",[e._v(e._s(e.projectTotal))])])]),a("div",{staticClass:"content-item"},[a("div",{staticClass:"item-title muted"},[e._v("任务数目")]),a("div",{staticClass:"item-text"},[a("span",[e._v(e._s(e.tasksTotal))])])])])])])])],1)],1),a("div",{staticClass:"page-wrapper"},[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{xl:16,lg:24,md:24,sm:24,xs:24}},[a("a-card",{staticClass:"project-list",staticStyle:{"margin-bottom":"24px"},attrs:{loading:e.loading,bordered:!1,title:"进行中的项目","body-style":{padding:0}}},[a("router-link",{attrs:{slot:"extra",to:"/project/list/my"},slot:"extra"},[e._v("全部项目")]),a("div",[e._l(e.projectList,(function(t,s){return a("a-card-grid",{key:s,staticClass:"project-card-grid"},[a("a-card",{attrs:{bordered:!1,"body-style":{padding:0}},on:{click:function(a){return e.routerLink("/project/space/task/"+t.code)}}},[a("a-card-meta",[a("div",{staticClass:"card-title",attrs:{slot:"title"},slot:"title"},[a("a-avatar",{attrs:{size:"small",src:t.cover}}),a("router-link",{attrs:{to:"/project/space/task/"+t.code}},[a("a-icon",{directives:[{name:"show",rawName:"v-show",value:t.collected,expression:"item.collected"}],staticStyle:{color:"#ffaf38","margin-right":"6px"},attrs:{type:"star",theme:"filled"}}),e._v("\n                      "+e._s(t.name)+"\n                    ")],1)],1),a("div",{staticClass:"card-description",attrs:{slot:"description"},slot:"description"},[a("a-tooltip",{attrs:{mouseEnterDelay:.3,title:t.description}},[a("span",{staticClass:"description-text"},[t.description?a("span",[e._v("\n                          "+e._s(t.description)+"\n                        ")]):a("span",[e._v("暂无介绍")])])]),a("a-tooltip",{attrs:{placement:"right",mouseEnterDelay:.3,title:"当前进度："+t.schedule+"%"}},[a("a-progress",{attrs:{strokeWidth:2,showInfo:!1,percent:t.schedule}})],1)],1)]),a("div",{staticClass:"project-item"},[a("a",{attrs:{href:"/#/"}},[e._v(e._s(t.owner_name))]),a("span",{staticClass:"datetime"},[e._v("\n                    "+e._s(e.formatTime(t.create_time))+"\n                  ")])])],1)],1)})),e.projectList.length?e._e():a("p",{staticClass:"muted text-center m-t-md m-b-md"},[e._v("暂无项目")])],2)],1),a("a-card",{staticClass:"activities-list",attrs:{loading:e.loading,title:"动态",bordered:!1}},[a("a-list",e._l(e.activities,(function(t,s){return a("a-list-item",{key:s},[a("a-list-item-meta",[a("a-avatar",{attrs:{slot:"avatar",src:t.member_avatar},slot:"avatar"}),a("div",{attrs:{slot:"title"},slot:"title"},[a("span",[e._v(e._s(t.member_name))]),0==t.is_comment?a("span",[a("span",{domProps:{innerHTML:e._s(t.remark)}})]):e._e(),e._v(" \n                  "),1==t.is_comment?[e._v("\n                    发表了评论\n                    "),a("p",{staticClass:"comment-text"},[e._v(e._s(t.content))])]:e._e(),a("router-link",{staticClass:"right-item",attrs:{target:"_blank",to:"/project/space/task/"+t.project_code+"/detail/"+t.source_code}},[e._v("「 "+e._s(t.task_name)+" 」")])],2),a("div",{attrs:{slot:"description"},slot:"description"},[e._v("\n                  "+e._s(e.formatTime(t.create_time))+" -\n                  "),a("router-link",{staticClass:"muted",attrs:{target:"_blank",to:"/project/space/task/"+t.project_code}},[e._v(e._s(t.project_name))])],1)],1)],1)})),1)],1)],1),a("a-col",{staticStyle:{padding:"0 12px"},attrs:{xl:8,lg:24,md:24,sm:24,xs:24}},[a("a-card",{staticClass:"tasks-list",staticStyle:{"margin-bottom":"24px"},attrs:{title:"我的任务 · "+e.tasks.length,bordered:!1,loading:e.loading}},[a("a-list",e._l(e.tasks,(function(t,s){return a("a-list-item",{key:s},[a("a-list-item-meta",[a("div",{staticStyle:{float:"left"},attrs:{slot:"title"},slot:"title"},[a("a-tag",{attrs:{color:e.tags[t.pri].color}},[e._v("\n                    "+e._s(e.tags[t.pri].name)+"\n                  ")]),a("router-link",{attrs:{target:"_blank",to:"/project/space/task/"+t.projectInfo.code+"/detail/"+t.code}},[e._v(e._s(t.name))])],1),a("div",{staticStyle:{float:"right"},attrs:{slot:"description"},slot:"description"},[t.end_time?a("span",{staticClass:"label m-r-xs",class:e.showTimeLabel(t.end_time)},[e._v(e._s(e.showTaskTime(t.begin_time,t.end_time)))]):e._e(),a("router-link",{staticClass:"muted",attrs:{target:"_blank",to:"/project/space/task/"+t.projectInfo.code}},[e._v(e._s(t.projectInfo.name))])],1)])],1)})),1)],1),a("a-card",{attrs:{loading:e.loading,title:"团队",bordered:!1}},[a("div",{staticClass:"members"},[a("a-row",e._l(e.accounts,(function(t,s){return a("a-col",{key:s,attrs:{span:12}},[a("a",{staticStyle:{display:"flex","align-items":"center"},on:{click:function(a){return e.routerLink("/members/profile/"+t.membar_account_code+"?key=3")}}},[a("a-avatar",{attrs:{size:"small",src:t.avatar}}),a("span",{staticClass:"member"},[e._v(e._s(t.name))])],1)])})),1)],1)])],1)],1)],1)])},n=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("7f7f"),a("96cf"),a("3b8d")),r=a("bd86"),o=a("5880"),l=(a("b5f1"),a("81fe")),c=(a("6be7"),a("0672"),a("1b80")),d=(a("ca8d"),a("5d2d")),m=a("0fea");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _={components:{},mixins:[c["a"]],data:function(){return{loading:!1,yiyan:{},projectList:[],projectTotal:0,activities:[],tasks:[],tasksTotal:0,accounts:[],userInfo:{},avatar:"",tags:{0:{name:"普通",color:"green"},1:{name:"紧急",color:"orange"},2:{name:"非常紧急",color:"red"}}}},computed:p({},Object(o["mapState"])({socketAction:function(e){return e.socketAction}}),{helloTime:function(){return Object(l["d"])()}}),created:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.userInfo=d["e"]("cur_user"),e.prev=1,e.next=4,m["queryUserInfoByView"](this.userInfo.username);case 4:this.v_user=e.sent,this.postName=this.v_user[0]["post"],this.departName=this.v_user[0]["name"],this.address=this.v_user[0]["address"],this.bio=this.v_user[0]["bio"],this.avatar=this.userInfo.avatar=window._CONFIG["imgDomainURL"]+"/"+this.v_user[0]["avatar"],e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),console.log("工作台设置员工岗位信息/部门信息异常："+e.t0);case 15:try{this.init()}catch(t){console.error(t)}case 16:case"end":return e.stop()}}),e,this,[[1,12]])})));function t(){return e.apply(this,arguments)}return t}(),watch:{$route:function(e,t){this.init()},socketAction:function(e){console.log(e),"organization:task"===e.action&&this.init(!1,!1)}},methods:{init:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&(this.projectList=[],this.pagination.page=1,this.pagination.pageSize=9);try{this.getProjectList(t)}catch(a){console.error(a)}try{this.getTasks()}catch(a){console.error(a)}try{this.getTaskLog()}catch(a){console.error(a)}try{this.getAccountList()}catch(a){console.error(a)}},getProjectList:function(e){e&&(this.loading=!0);var t=JSON.parse('{"code":200,"msg":"","data":{"list":[{"id":15566,"cover":"https://beta.vilson.xyz/static/image/default/project-cover.png","name":"yunwisdom","code":"vu7x3wgk1jq9slhf8odpzbnm","description":"","access_control_type":"open","white_list":null,"order":0,"deleted":0,"template_code":"","schedule":90,"create_time":"2020-02-29 14:53:50","organization_code":"3c6wv21apdm0ro84jbxqeylk","deleted_time":null,"private":0,"prefix":"TESTProjec","open_prefix":1,"archive":0,"archive_time":null,"open_begin_time":1,"open_task_private":0,"task_board_theme":"simple","begin_time":null,"end_time":null,"auto_update_schedule":0,"collected":1,"owner_name":"yunwisdom"}],"total":1}}');this.projectList=t.data.list,this.projectTotal=t.data.total,this.loading=!1},getTasks:function(){var e=JSON.parse('{"code":200,"msg":"","data":{"list":[{"id":18301,"code":"il8vco3qyd2fkgnersp4w79a","project_code":"vu7x3wgk1jq9slhf8odpzbnm","name":"少时诵诗书","pri":2,"execute_status":"wait","description":"","create_by":"9opr8l5caxq4sd6m37hbiz1t","done_by":null,"done_time":null,"create_time":"2020-02-29 14:54:12","assign_to":"9opr8l5caxq4sd6m37hbiz1t","deleted":0,"stage_code":"uv1qs06lirwt752b8gxh9ozk","task_tag":null,"done":0,"begin_time":"","end_time":"","remind_time":null,"pcode":"","sort":2,"like":0,"star":0,"deleted_time":null,"private":0,"id_num":3,"path":"","schedule":90,"version_code":"0","features_code":"0","work_time":0,"status":0,"cover":"https://beta.vilson.xyz/static/image/default/project-cover.png","access_control_type":"open","white_list":null,"order":0,"template_code":"","organization_code":"3c6wv21apdm0ro84jbxqeylk","prefix":"TESTProjec","open_prefix":1,"archive":0,"archive_time":null,"open_begin_time":1,"open_task_private":0,"task_board_theme":"simple","auto_update_schedule":0,"priText":"普通","executor":{"name":"yunwisdom","avatar":"https://static.vilson.online/cover.png"},"projectInfo":{"name":"yunwisdom","code":"vu7x3wgk1jq9slhf8odpzbnm"}},{"id":18300,"code":"nb3y2xd7sfgmz9ch6al5w14q","project_code":"vu7x3wgk1jq9slhf8odpzbnm","name":"asdfasdf","pri":0,"execute_status":"wait","description":"","create_by":"9opr8l5caxq4sd6m37hbiz1t","done_by":null,"done_time":null,"create_time":"2020-02-29 14:54:05","assign_to":"9opr8l5caxq4sd6m37hbiz1t","deleted":0,"stage_code":"uv1qs06lirwt752b8gxh9ozk","task_tag":null,"done":0,"begin_time":"","end_time":"","remind_time":null,"pcode":"","sort":0,"like":0,"star":0,"deleted_time":null,"private":0,"id_num":2,"path":"","schedule":90,"version_code":"0","features_code":"0","work_time":0,"status":0,"cover":"https://beta.vilson.xyz/static/image/default/project-cover.png","access_control_type":"open","white_list":null,"order":0,"template_code":"","organization_code":"3c6wv21apdm0ro84jbxqeylk","prefix":"TESTProjec","open_prefix":1,"archive":0,"archive_time":null,"open_begin_time":1,"open_task_private":0,"task_board_theme":"simple","auto_update_schedule":0,"priText":"普通","executor":{"name":"yunwisdom","avatar":"https://static.vilson.online/cover.png"},"projectInfo":{"name":"yunwisdom","code":"vu7x3wgk1jq9slhf8odpzbnm"}},{"id":18299,"code":"xt9630ybg412jovrscp8iknz","project_code":"vu7x3wgk1jq9slhf8odpzbnm","name":"asdfasdf","pri":1,"execute_status":"wait","description":"","create_by":"9opr8l5caxq4sd6m37hbiz1t","done_by":null,"done_time":null,"create_time":"2020-02-29 14:54:02","assign_to":"9opr8l5caxq4sd6m37hbiz1t","deleted":0,"stage_code":"uv1qs06lirwt752b8gxh9ozk","task_tag":null,"done":0,"begin_time":"","end_time":"","remind_time":null,"pcode":"","sort":1,"like":0,"star":0,"deleted_time":null,"private":0,"id_num":1,"path":"","schedule":90,"version_code":"0","features_code":"0","work_time":0,"status":0,"cover":"https://beta.vilson.xyz/static/image/default/project-cover.png","access_control_type":"open","white_list":null,"order":0,"template_code":"","organization_code":"3c6wv21apdm0ro84jbxqeylk","prefix":"TESTProjec","open_prefix":1,"archive":0,"archive_time":null,"open_begin_time":1,"open_task_private":0,"task_board_theme":"simple","auto_update_schedule":0,"priText":"普通","executor":{"name":"yunwisdom","avatar":"https://static.vilson.online/cover.png"},"projectInfo":{"name":"yunwisdom","code":"vu7x3wgk1jq9slhf8odpzbnm"}}],"total":3}}');this.tasks=e.data.list,this.tasksTotal=e.data.total},getTaskLog:function(){var e=JSON.parse('{"code":200,"msg":"","data":[{"remark":"将任务移动到 已完成","content":"asdfasdf","is_comment":0,"create_time":"2020-04-03 10:12:42","project_name":"yunwisdom","task_name":"asdfasdf","source_code":"xt9630ybg412jovrscp8iknz","project_code":"vu7x3wgk1jq9slhf8odpzbnm","member_avatar":"https://static.vilson.online/cover.png","member_name":"yunwisdom"},{"remark":"将任务移动到 已完成","content":"asdfasdf","is_comment":0,"create_time":"2020-04-03 10:12:39","project_name":"yunwisdom","task_name":"asdfasdf","source_code":"nb3y2xd7sfgmz9ch6al5w14q","project_code":"vu7x3wgk1jq9slhf8odpzbnm","member_avatar":"https://static.vilson.online/cover.png","member_name":"yunwisdom"},{"remark":"将任务移动到 进行中","content":"asdfasdf","is_comment":0,"create_time":"2020-02-29 14:54:14","project_name":"yunwisdom","task_name":"asdfasdf","source_code":"xt9630ybg412jovrscp8iknz","project_code":"vu7x3wgk1jq9slhf8odpzbnm","member_avatar":"https://static.vilson.online/cover.png","member_name":"yunwisdom"},{"remark":"认领了任务 ","content":"","is_comment":0,"create_time":"2020-02-29 14:54:12","project_name":"yunwisdom","task_name":"少时诵诗书","source_code":"il8vco3qyd2fkgnersp4w79a","project_code":"vu7x3wgk1jq9slhf8odpzbnm","member_avatar":"https://static.vilson.online/cover.png","member_name":"yunwisdom"},{"remark":"创建了任务 ","content":"少时诵诗书","is_comment":0,"create_time":"2020-02-29 14:54:12","project_name":"yunwisdom","task_name":"少时诵诗书","source_code":"il8vco3qyd2fkgnersp4w79a","project_code":"vu7x3wgk1jq9slhf8odpzbnm","member_avatar":"https://static.vilson.online/cover.png","member_name":"yunwisdom"},{"remark":"认领了任务 ","content":"","is_comment":0,"create_time":"2020-02-29 14:54:05","project_name":"yunwisdom","task_name":"asdfasdf","source_code":"nb3y2xd7sfgmz9ch6al5w14q","project_code":"vu7x3wgk1jq9slhf8odpzbnm","member_avatar":"https://static.vilson.online/cover.png","member_name":"yunwisdom"},{"remark":"创建了任务 ","content":"asdfasdf","is_comment":0,"create_time":"2020-02-29 14:54:05","project_name":"yunwisdom","task_name":"asdfasdf","source_code":"nb3y2xd7sfgmz9ch6al5w14q","project_code":"vu7x3wgk1jq9slhf8odpzbnm","member_avatar":"https://static.vilson.online/cover.png","member_name":"yunwisdom"},{"remark":"认领了任务 ","content":"","is_comment":0,"create_time":"2020-02-29 14:54:02","project_name":"yunwisdom","task_name":"asdfasdf","source_code":"xt9630ybg412jovrscp8iknz","project_code":"vu7x3wgk1jq9slhf8odpzbnm","member_avatar":"https://static.vilson.online/cover.png","member_name":"yunwisdom"},{"remark":"创建了任务 ","content":"asdfasdf","is_comment":0,"create_time":"2020-02-29 14:54:02","project_name":"yunwisdom","task_name":"asdfasdf","source_code":"xt9630ybg412jovrscp8iknz","project_code":"vu7x3wgk1jq9slhf8odpzbnm","member_avatar":"https://static.vilson.online/cover.png","member_name":"yunwisdom"}]}');this.activities=e.data},getAccountList:function(){var e=JSON.parse('{"code":200,"msg":"","data":{"total":1,"page":"1","list":[{"id":2288,"code":"due6mrhp58yqwbktcv3l7x9o","member_code":"9opr8l5caxq4sd6m37hbiz1t","organization_code":"3c6wv21apdm0ro84jbxqeylk","department_code":"","authorize":null,"is_owner":1,"name":"yunwisdom","mobile":null,"email":"qq695926920@163.com","create_time":"2020-02-29 14:53:17","last_login_time":null,"status":1,"description":null,"avatar":"https://static.vilson.online/cover.png","position":"资深工程师","department":"某某公司－某某某事业群－某某平台部－某某技术部－BM","membar_account_code":"due6mrhp58yqwbktcv3l7x9o","departments":"","statusText":"使用中","authorizeArr":[]}],"authList":[{"id":"3584","title":"管理员","status":1,"sort":0,"desc":"管理员","create_by":0,"create_at":"2018-08-01 14:20:46","organization_code":"3c6wv21apdm0ro84jbxqeylk","is_default":1,"type":"admin","canDelete":0},{"id":"3585","title":"技术开发","status":1,"sort":0,"desc":"技术开发人员","create_by":0,"create_at":"2018-12-20 13:39:59","organization_code":"3c6wv21apdm0ro84jbxqeylk","is_default":0,"type":"member","canDelete":0}]}}');this.accounts=e.data.list,this.accountsTotal=e.data.total},formatTime:function(e){return Object(l["c"])(e)},showTaskTime:function(e,t){return Object(l["a"])(e,t)},showTimeLabel:function(e){var t="label-primary";if(null==e)return t;var a=moment(moment(e).format("YYYY-MM-DD")).diff(moment().format("YYYY-MM-DD"),"days");return a<0?t="label-danger":0==a?t="label-warning":a>7&&(t="label-normal"),t}}},f=_,g=(a("8172"),a("2877")),h=Object(g["a"])(f,s,n,!1,null,null,null);t["default"]=h.exports}}]);