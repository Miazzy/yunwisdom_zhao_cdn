(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1487e614"],{"06db":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{centered:"",title:e.title,width:1200,visible:e.visible,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[a("a-row",{attrs:{gutter:18}},[a("a-col",{attrs:{span:16}},[a("a-card",{attrs:{title:"选择人员",bordered:!0}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:10}},[a("a-form-item",{attrs:{label:"姓名"}},[a("a-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),a("a-col",{attrs:{span:8}},[a("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[a("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),a("div",[a("a-table",{attrs:{size:"small",bordered:"",rowKey:"id",columns:e.columns1,dataSource:e.dataSource1,pagination:e.ipagination,loading:e.loading,scroll:{y:240},rowSelection:{selectedRowKeys:e.selectedRowKeys,onSelectAll:e.onSelectAll,onSelect:e.onSelect,onChange:e.onSelectChange}},on:{change:e.handleTableChange}})],1)])],1),a("a-col",{attrs:{span:8}},[a("a-card",{attrs:{title:"用户选择",bordered:!0}},[a("div",[a("a-table",{attrs:{size:"small",bordered:"",rowKey:"id",columns:e.columns2,dataSource:e.dataSource2,loading:e.loading,scroll:{y:240}},scopedSlots:e._u([{key:"action",fn:function(t,n){return a("span",{},[a("a-button",{attrs:{type:"primary",size:"small",icon:"delete"},on:{click:function(t){return e.handleDelete(n)}}},[e._v("删除")])],1)}}])})],1)])],1)],1)],1)},i=[],r=(a("ac6a"),a("456d"),a("96cf"),a("3b8d")),s=a("ca00"),l=a("0fea"),o={name:"JSelectMultiUserModal",data:function(){return{title:"用户列表",names:[],visible:!1,placement:"right",description:"人员管理页面",queryParam:{},columns1:[{title:"用户代码",align:"center",width:100,dataIndex:"username"},{title:"用户名称",align:"center",width:100,dataIndex:"realname"},{title:"邮箱",align:"center",width:180,dataIndex:"email"}],columns2:[{title:"用户账号",align:"center",width:100,dataIndex:"username"},{title:"操作",dataIndex:"action",align:"center",width:100,scopedSlots:{customRender:"action"}}],dataSource1:[],dataSource2:[],ipagination:{current:1,pageSize:30,pageSizeOptions:["30","50","80"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},isorter:{column:"username",order:"desc"},loading:!1,selectedRowKeys:[],selectedRows:[]}},created:function(){this.loadData()},methods:{searchQuery:function(){this.loadData(1)},searchReset:function(){this.queryParam={},this.loadData(1)},handleCancel:function(){this.visible=!1},handleOk:function(){this.$emit("selectFinished",this.dataSource2),this.visible=!1},add:function(){this.visible=!0},loadData:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return 1===t&&(this.ipagination.current=1),a=this.getQueryParams(),e.next=4,Object(l["queryUserList"])(a);case 4:n=e.sent,this.dataSource1=n.records,this.ipagination.total=n.total;case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getQueryParams:function(){var e=Object.assign({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,Object(s["h"])(e)},getQueryField:function(){},onSelectAll:function(e,t,a){if(!0===e)for(var n=0;n<a.length;n++)this.dataSource2.push(a[n]);else for(var i=0;i<a.length;i++)this.dataSource2.splice(this.dataSource2.indexOf(a[i]),1)},onSelect:function(e,t){if(!0===t)this.dataSource2.push(e);else{var a=this.dataSource2.indexOf(e);a>=0&&this.dataSource2.splice(this.dataSource2.indexOf(e),1)}},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t},onClearSelected:function(){this.selectedRowKeys=[],this.selectionRows=[]},handleDelete:function(e){this.dataSource2.splice(this.dataSource2.indexOf(e),1)},handleTableChange:function(e,t,a){console.log(a),Object.keys(a).length>0&&(this.isorter.column=a.field,this.isorter.order="ascend"==a.order?"asc":"desc"),this.ipagination=e,this.loadData()}}},c=o,d=(a("407a"),a("2877")),u=Object(d["a"])(c,n,i,!1,null,"f9ef3a76",null);t["default"]=u.exports},"0f9d":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-select-biz-component",e._g(e._b({attrs:{value:e.value,listUrl:e.url.list,columns:e.columns}},"j-select-biz-component",e.attrs,!1),e.$listeners))},i=[],r=a("b296"),s={name:"JSelectMultiUser",components:{JSelectBizComponent:r["default"]},props:["value"],data:function(){return{url:{list:"/sys/user/list"},columns:[{title:"姓名",align:"center",width:"20%",widthRight:"70%",dataIndex:"realname"},{title:"账号",align:"center",width:"20%",dataIndex:"username"},{title:"电话",align:"center",width:"23%",dataIndex:"phone"},{title:"出生日期",align:"center",width:"23%",dataIndex:"birthday"}],default:{name:"用户",width:1e3,displayKey:"realname",returnKeys:["id","username"],queryParamText:"账号"}}},computed:{attrs:function(){return Object.assign(this.default,this.$attrs)}}},l=s,o=a("2877"),c=Object(o["a"])(l,n,i,!1,null,"ad206824",null);t["default"]=c.exports},"1e8c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-select-biz-component",e._g(e._b({attrs:{value:e.value,name:"角色",displayKey:"roleName",returnKeys:e.returnKeys,listUrl:e.url.list,columns:e.columns,queryParamText:"角色编码"}},"j-select-biz-component",e.$attrs,!1),e.$listeners))},i=[],r=a("b296"),s={name:"JSelectMultiUser",components:{JSelectBizComponent:r["default"]},props:["value"],data:function(){return{returnKeys:["id","roleCode"],url:{list:"/sys/role/list"},columns:[{title:"角色名称",dataIndex:"roleName",align:"center",width:120},{title:"角色编码",dataIndex:"roleCode",align:"center",width:120}]}}},l=s,o=a("2877"),c=Object(o["a"])(l,n,i,!1,null,"644277f2",null);t["default"]=c.exports},"407a":function(e,t,a){"use strict";var n=a("57b0"),i=a.n(n);i.a},4505:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("iframe",{staticStyle:{"background-color":"#fff"},attrs:{id:e.id,src:e.url,frameborder:"0",width:"100%",height:"800px",scrolling:"auto"}})},i=[],r=(a("b445"),a("501f"),{name:"IframePageContent",data:function(){return{url:"",id:""}},created:function(){this.goUrl()},updated:function(){this.goUrl()},watch:{$route:function(e,t){this.goUrl()}},methods:{goUrl:function(){var e=this.$route.meta.url,t=this.$route.path;this.id=t,console.log("------url------"+e),null!==e&&void 0!==e&&(this.url=e)}}}),s=r,l=a("2877"),o=Object(l["a"])(s,n,i,!1,null,null,null);t["default"]=o.exports},"57b0":function(e,t,a){},"61fc":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-select-biz-component",e._g(e._b({attrs:{width:1e3}},"j-select-biz-component",e.configs,!1),e.$listeners))},i=[],r=a("b296"),s={name:"JSelectPosition",components:{JSelectBizComponent:r["default"]},props:["value"],data:function(){return{settings:{name:"职务",displayKey:"name",returnKeys:["id","code"],listUrl:"/sys/position/list",queryParamCode:"name",queryParamText:"职务名称",columns:[{title:"职务名称",dataIndex:"name",align:"center",width:"30%",widthRight:"70%"},{title:"职务编码",dataIndex:"code",align:"center",width:"35%"},{title:"职级",dataIndex:"rank_dictText",align:"center",width:"25%"}]}}},computed:{configs:function(){return Object.assign({value:this.value},this.settings,this.$attrs)}}},l=s,o=a("2877"),c=Object(o["a"])(l,n,i,!1,null,"09d7ae7b",null);t["default"]=c.exports},"6d9b":function(e,t,a){"use strict";var n=a("8805"),i=a.n(n);i.a},8805:function(e,t,a){},9884:function(e,t,a){"use strict";var n=a("9dfd"),i=a.n(n);i.a},"9caf":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"用户列表",width:1e3,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("a-table",{ref:"table",attrs:{bordered:"",size:"middle",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}}})],1)},i=[],r=a("4ec3"),s=a("b65a"),l={name:"SelectUserListModal",mixins:[s["a"]],data:function(){return{title:"操作",visible:!1,model:{},confirmLoading:!1,url:{add:"/act/model/create",list:"/sys/user/list"},columns:[{title:"用户账号",align:"center",dataIndex:"username",fixed:"left",width:200},{title:"用户姓名",align:"center",dataIndex:"realname"},{title:"性别",align:"center",dataIndex:"sex_dictText"},{title:"手机号码",align:"center",dataIndex:"phone"},{title:"邮箱",align:"center",dataIndex:"email"},{title:"状态",align:"center",dataIndex:"status_dictText"}]}},created:function(){var e=this;Object(r["z"])().then((function(t){t.success&&(e.dataSource=t.result.records,e.ipagination.total=t.result.total)}))},methods:{open:function(){this.visible=!0,this.selectedRowKeys=[],this.selectedRows=[]},close:function(){this.$emit("close"),this.visible=!1},handleChange:function(e){var t=e.file;t.response.success?(this.$message.success(t.response.message),this.$emit("ok"),this.close()):(this.$message.warn(t.response.message),this.close())},handleCancel:function(){this.close()},handleSubmit:function(){this.$emit("ok",this.selectionRows),this.close()}}},o=l,c=a("2877"),d=Object(c["a"])(o,n,i,!1,null,null,null);t["default"]=d.exports},"9dfd":function(e,t,a){},a505:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{staticStyle:{"margin-top":"-70px"},attrs:{width:e.modalWidth,visible:e.visible,title:e.title,cancelText:"关闭",wrapClassName:"ant-modal-cust-warp"},on:{ok:e.handleSubmit,cancel:e.close}},[a("a-row",{staticStyle:{"background-color":"#ececec",padding:"10px",margin:"-10px"},attrs:{gutter:10}},[a("a-col",{attrs:{md:6,sm:24}},[a("a-card",{attrs:{bordered:!1}},[a("a-directory-tree",{attrs:{selectable:"",selectedKeys:e.selectedDepIds,checkStrictly:!0,dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.departTree,expandAction:!1,expandedKeys:e.expandedKeys},on:{"update:expandedKeys":function(t){e.expandedKeys=t},"update:expanded-keys":function(t){e.expandedKeys=t},select:e.onDepSelect}})],1)],1),a("a-col",{attrs:{md:18,sm:24}},[a("a-card",{attrs:{bordered:!1}},[e._v("\n        用户账号:\n        "),a("a-input-search",{style:{width:"150px",marginBottom:"15px"},attrs:{placeholder:"请输入账号"},on:{search:e.onSearch},model:{value:e.queryParam.username,callback:function(t){e.$set(e.queryParam,"username",t)},expression:"queryParam.username"}}),a("a-button",{staticStyle:{"margin-left":"20px"},attrs:{icon:"redo"},on:{click:function(t){return e.searchReset(1)}}},[e._v("重置")]),a("a-table",{ref:"table",attrs:{scroll:e.scrollTrigger,size:"middle",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange,type:e.getType},loading:e.loading},on:{change:e.handleTableChange}})],1)],1)],1)],1)},i=[],r=(a("6b54"),a("6762"),a("2fdb"),a("456d"),a("96cf"),a("3b8d")),s=(a("ac6a"),a("28a5"),a("ca00")),l=a("4ec3"),o={name:"JSelectUserByDepModal",components:{},props:["modalWidth","multi","userIds"],data:function(){return{queryParam:{username:""},columns:[{title:"用户账号",align:"center",dataIndex:"username"},{title:"用户姓名",align:"center",dataIndex:"realname"},{title:"性别",align:"center",dataIndex:"sex",customRender:function(e){return 1===e?"男":2===e?"女":e}},{title:"手机",align:"center",dataIndex:"phone"},{title:"部门",align:"center",dataIndex:"orgCode"}],scrollTrigger:{},dataSource:[],selectedRowKeys:[],selectUserRows:[],selectUserIds:[],title:"根据部门选择用户",ipagination:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},isorter:{column:"createTime",order:"desc"},selectedDepIds:[],departTree:[],visible:!1,form:this.$form.createForm(this),loading:!1,expandedKeys:[]}},computed:{getType:function(){return 1==this.multi?"checkbox":"radio"}},watch:{userIds:{immediate:!0,handler:function(){this.initUserNames()}}},created:function(){this.resetScreenSize(),this.loadData()},methods:{initUserNames:function(){var e=this;if(this.userIds){var t=this.userIds.split(",")+",";Object(l["z"])({username:t,pageNo:1,pageSize:t.length}).then((function(t){if(t.success){var a=[],n=[];t.result.records.forEach((function(e){n.push(e["realname"]),a.push(e["id"])})),e.selectedRowKeys=a,e.$emit("initComp",n.join(","))}}))}else this.$emit("initComp","")},loadData:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1===t&&(this.ipagination.current=1),!(this.selectedDepIds&&this.selectedDepIds.length>0)){e.next=6;break}return e.next=4,this.initQueryUserByDepId(this.selectedDepIds);case 4:e.next=10;break;case 6:return this.loading=!0,a=this.getQueryParams(),e.next=10,Object(l["z"])(a).then((function(e){e.success&&(n.dataSource=e.result.records,n.ipagination.total=e.result.total)})).finally((function(){n.loading=!1}));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),resetScreenSize:function(){var e=document.body.clientWidth;this.scrollTrigger=e<500?{x:800}:{}},showModal:function(){this.visible=!0,this.queryDepartTree(),this.initUserNames(),this.loadData(),this.form.resetFields()},getQueryParams:function(){var e=Object.assign({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,Object(s["h"])(e)},getQueryField:function(){for(var e="id,",t=0;t<this.columns.length;t++)e+=","+this.columns[t].dataIndex;return e},searchReset:function(e){var t=this;0!==e&&(t.queryParam={},t.loadData(1)),t.selectedRowKeys=[],t.selectUserIds=[],t.selectedDepIds=[]},close:function(){this.searchReset(0),this.visible=!1},handleTableChange:function(e,t,a){Object.keys(a).length>0&&(this.isorter.column=a.field,this.isorter.order="ascend"===a.order?"asc":"desc"),this.ipagination=e,this.loadData()},handleSubmit:function(){var e=this;this.getSelectUserRows(),e.$emit("ok",e.selectUserRows,e.selectUserIds),e.searchReset(0),e.close()},getSelectUserRows:function(e){var t=this.dataSource,a="";this.selectUserRows=[];for(var n=0,i=t.length;n<i;n++)this.selectedRowKeys.includes(t[n].id)&&(this.selectUserRows.push(t[n]),a=a+","+t[n].username);this.selectUserIds=a.substring(1)},onDepSelect:function(e){null!=e[0]&&(this.initQueryUserByDepId(e),this.selectedDepIds[0]!==e[0]&&(this.selectedDepIds=[e[0]]))},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t},onSearch:function(){this.loadData(1)},initQueryUserByDepId:function(e){var t=this;return this.loading=!0,Object(l["M"])({id:e.toString()}).then((function(e){e.success&&(t.dataSource=e.result,t.ipagination.total=e.result.length)})).finally((function(){t.loading=!1}))},queryDepartTree:function(){var e=this;Object(l["C"])().then((function(t){t.success&&(e.departTree=t.result,e.expandedKeys=e.departTree.map((function(e){return e.id})))}))},modalFormOk:function(){this.loadData()}}},c=o,d=(a("6d9b"),a("2877")),u=Object(d["a"])(c,n,i,!1,null,"0c7059f2",null);t["default"]=u.exports},b0cd:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"选择部门",width:e.modalWidth,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("a-spin",{attrs:{tip:"Loading...",spinning:!1}},[a("a-input-search",{staticStyle:{"margin-bottom":"1px"},attrs:{placeholder:"请输入部门名称按回车进行搜索"},on:{search:e.onSearch}}),a("a-tree",{attrs:{checkable:"",treeData:e.treeData,checkStrictly:!0,autoExpandParent:e.autoExpandParent,expandedKeys:e.expandedKeys,checkedKeys:e.checkedKeys},on:{check:e.onCheck,select:e.onSelect,expand:e.onExpand},scopedSlots:e._u([{key:"title",fn:function(t){var n=t.title;return[n.indexOf(e.searchValue)>-1?a("span",[e._v("\n          "+e._s(n.substr(0,n.indexOf(e.searchValue)))+"\n          "),a("span",{staticStyle:{color:"#f50"}},[e._v(e._s(e.searchValue))]),e._v("\n          "+e._s(n.substr(n.indexOf(e.searchValue)+e.searchValue.length))+"\n        ")]):a("span",[e._v(e._s(n))])]}}])})],1)],1)},i=[],r=(a("ac4d"),a("8a81"),a("ac6a"),a("75fc")),s=(a("28a5"),a("4ec3")),l={name:"JSelectDepartModal",props:["modalWidth","multi","rootOpened","departId"],data:function(){return{visible:!1,confirmLoading:!1,treeData:[],autoExpandParent:!0,expandedKeys:[],dataList:[],checkedKeys:[],checkedRows:[],searchValue:""}},created:function(){this.loadDepart()},watch:{departId:function(){this.initDepartComponent()},visible:{handler:function(){this.departId?this.checkedKeys=this.departId.split(","):this.checkedKeys=[]}}},methods:{show:function(){this.visible=!0,this.checkedRows=[],this.checkedKeys=[]},loadDepart:function(){var e=this;Object(s["C"])().then((function(t){if(t.success){var a=Object(r["a"])(t.result);e.reWriterWithSlot(a),e.treeData=a,e.initDepartComponent(),e.rootOpened&&e.initExpandedKeys(t.result)}}))},initDepartComponent:function(){var e="";if(this.departId){var t=this.departId,a=!0,n=!1,i=void 0;try{for(var r,s=this.dataList[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var l=r.value;t.indexOf(l.key)>=0&&(e+=","+l.title)}}catch(o){n=!0,i=o}finally{try{a||null==s.return||s.return()}finally{if(n)throw i}}e&&(e=e.substring(1))}this.$emit("initComp",e)},reWriterWithSlot:function(e){var t=!0,a=!1,n=void 0;try{for(var i,r=e[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var s=i.value;if(s.children&&s.children.length>0){this.reWriterWithSlot(s.children);var l=Object.assign({},s);l.children={},this.dataList.push(l)}else this.dataList.push(s),s.scopedSlots={title:"title"}}}catch(o){a=!0,n=o}finally{try{t||null==r.return||r.return()}finally{if(a)throw n}}},initExpandedKeys:function(e){if(e&&e.length>0){var t=[],a=!0,n=!1,i=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var l=r.value;l.children&&l.children.length>0&&t.push(l.id)}}catch(o){n=!0,i=o}finally{try{a||null==s.return||s.return()}finally{if(n)throw i}}this.expandedKeys=[].concat(t)}else this.expandedKeys=[]},onCheck:function(e,t){var a=this;if(this.multi)this.checkedKeys=e.checked,this.checkedRows=this.getCheckedRows(this.checkedKeys);else{var n=e.checked.filter((function(e){return a.checkedKeys.indexOf(e)<0}));this.checkedKeys=Object(r["a"])(n),this.checkedRows=0===this.checkedKeys.length?[]:[t.node.dataRef]}},onSelect:function(e,t){var a=[];if(a.push(e[0]),this.checkedKeys&&0!==this.checkedKeys.length&&this.multi){var n,i=t.node.dataRef.key;if(this.checkedKeys.indexOf(i)>=0)this.checkedKeys=this.checkedKeys.filter((function(e){return e!==i}));else(n=this.checkedKeys).push.apply(n,a)}else this.checkedKeys=[].concat(a),this.checkedRows=[t.node.dataRef];this.checkedRows=this.getCheckedRows(this.checkedKeys)},onExpand:function(e){this.expandedKeys=e,this.autoExpandParent=!1},handleSubmit:function(){this.checkedKeys&&0!=this.checkedKeys.length?this.$emit("ok",this.checkedRows,this.checkedKeys.join(",")):this.$emit("ok",""),this.handleClear()},handleCancel:function(){this.handleClear()},handleClear:function(){this.visible=!1,this.checkedKeys=[]},getParentKey:function(e,t){for(var a,n=0;n<t.length;n++){var i=t[n];i.children&&(i.children.some((function(t){return t.key===e}))?a=i.key:this.getParentKey(e,i.children)&&(a=this.getParentKey(e,i.children)))}return a},onSearch:function(e){var t=this,a=this.dataList.map((function(a){return a.title.indexOf(e)>-1?t.getParentKey(a.key,t.treeData):null})).filter((function(e,t,a){return e&&a.indexOf(e)===t}));Object.assign(this,{expandedKeys:a,searchValue:e,autoExpandParent:!0})},getCheckedRows:function(e){var t=function e(t,a){var n=!0,i=!1,r=void 0;try{for(var s,l=t[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var o=s.value;if(o.id===a)return o;if(o.children instanceof Array){var c=e(o.children,a);if(null!=c)return c}}}catch(d){i=!0,r=d}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return null},a=[],n=!0,i=!1,r=void 0;try{for(var s,l=e[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var o=s.value,c=t(this.treeData,o);null!=c&&a.push(c)}}catch(d){i=!0,r=d}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return a}}},o=l,c=a("2877"),d=Object(c["a"])(o,n,i,!1,null,"4907a211",null);t["default"]=d.exports},c14a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-input-search",{attrs:{placeholder:"请先选择用户",disabled:""},on:{search:e.onSearchDepUser},model:{value:e.userNames,callback:function(t){e.userNames=t},expression:"userNames"}},[a("a-button",{attrs:{slot:"enterButton",disabled:e.disabled},slot:"enterButton"},[e._v("选择用户")])],1),a("j-select-user-by-dep-modal",{ref:"selectModal",attrs:{"modal-width":e.modalWidth,multi:e.multi,"user-ids":e.value},on:{ok:e.selectOK,initComp:e.initComp}})],1)},i=[],r=(a("ac4d"),a("8a81"),a("ac6a"),a("c5f6"),a("a505")),s={name:"JSelectUserByDep",components:{JSelectUserByDepModal:r["default"]},props:{modalWidth:{type:Number,default:1250,required:!1},value:{type:String,required:!1},disabled:{type:Boolean,required:!1,default:!1},multi:{type:Boolean,default:!0,required:!1}},data:function(){return{userIds:"",userNames:""}},mounted:function(){this.userIds=this.value},watch:{value:function(e){this.userIds=e}},model:{prop:"value",event:"change"},methods:{initComp:function(e){this.userNames=e},onSearchDepUser:function(){this.$refs.selectModal.showModal()},selectOK:function(e,t){if(console.log("当前选中用户",e),console.log("当前选中用户ID",t),e){var a="",n=!0,i=!1,r=void 0;try{for(var s,l=e[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var o=s.value;a+=","+o.realname}}catch(c){i=!0,r=c}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}this.userNames=a.substring(1),this.userIds=t}else this.userNames="",this.userIds="";this.$emit("change",this.userIds)}}},l=s,o=a("2877"),c=Object(o["a"])(l,n,i,!1,null,"f1b0565a",null);t["default"]=c.exports},e6b8:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("iframe",{attrs:{id:e.id,src:e.url,frameborder:"0",width:"100%",height:"800px",scrolling:"auto"}})},i=[],r=(a("a481"),a("9fb0")),s=(a("b445"),a("501f"),{name:"IframePageContent",inject:["closeCurrent"],data:function(){return{url:"",id:""}},created:function(){this.goUrl()},updated:function(){this.goUrl()},watch:{$route:function(e,t){this.goUrl()}},methods:{goUrl:function(){var e=this.$route.meta.url,t=this.$route.path;if(this.id=t,console.log("------url------"+e),null!==e&&void 0!==e&&(this.url=e,void 0!=this.$route.meta.internalOrExternal&&1==this.$route.meta.internalOrExternal)){this.closeCurrent();var a="${token}";if(-1!=e.indexOf(a))try{var n=Vue.ls.get(r["a"]);this.url=e.replace(a,n)}catch(i){console.log(i)}window.open(this.url)}}}}),l=s,o=a("2877"),c=Object(o["a"])(l,n,i,!1,null,null,null);t["default"]=c.exports},fe54:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"components-input-demo-presuffix"},[a("a-input",{attrs:{placeholder:"请点击选择部门",readOnly:"",disabled:e.disabled},on:{click:e.openModal},model:{value:e.departNames,callback:function(t){e.departNames=t},expression:"departNames"}},[a("a-icon",{attrs:{slot:"prefix",type:"cluster",title:"部门选择控件"},slot:"prefix"}),e.departIds?a("a-icon",{attrs:{slot:"suffix",type:"close-circle",title:"清空"},on:{click:e.handleEmpty},slot:"suffix"}):e._e()],1),a("j-select-depart-modal",{ref:"innerDepartSelectModal",attrs:{"modal-width":e.modalWidth,multi:e.multi,rootOpened:e.rootOpened,"depart-id":e.departIds},on:{ok:e.handleOK,initComp:e.initComp}})],1)},i=[],r=(a("c5f6"),a("b0cd")),s={name:"JSelectDepart",components:{JSelectDepartModal:r["default"]},props:{modalWidth:{type:Number,default:500,required:!1},multi:{type:Boolean,default:!1,required:!1},rootOpened:{type:Boolean,default:!0,required:!1},value:{type:String,required:!1},disabled:{type:Boolean,required:!1,default:!1},customReturnField:{type:String,default:"id"}},data:function(){return{visible:!1,confirmLoading:!1,departNames:"",departIds:""}},mounted:function(){this.departIds=this.value},watch:{value:function(e){"id"===this.customReturnField&&(this.departIds=e)}},methods:{initComp:function(e){this.departNames=e},openModal:function(){this.$refs.innerDepartSelectModal.show()},handleOK:function(e,t){var a=this,n="";!e&&e.length<=0?(this.departNames="",this.departIds=""):(n=e.map((function(e){return e[a.customReturnField]})).join(","),this.departNames=e.map((function(e){return e["departName"]})).join(","),this.departIds=t),this.$emit("change",n)},getDepartNames:function(){return this.departNames},handleEmpty:function(){this.handleOK("")}},model:{prop:"value",event:"change"}},l=s,o=(a("9884"),a("2877")),c=Object(o["a"])(l,n,i,!1,null,"4d448922",null);t["default"]=c.exports}}]);