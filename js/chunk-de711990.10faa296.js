(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-de711990","chunk-de711990","chunk-de711990"],{4237:function(t,n,e){e("be7f")},"84ec8":function(t,n,e){e("2401")},be7f:function(t,n,e){(function(t){(function(n){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.util.VK"),o=function(t){if(null===t)return"null";var n=typeof t;return"object"===n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===n&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":n},i=function(t){return function(n){return o(n)===t}},u=i("string"),a=i("array"),c=i("boolean"),l=i("function"),f=function(t){var n=t.getParam("link_assume_external_targets",!1);return c(n)&&n?1:!u(n)||"http"!==n&&"https"!==n?0:n},s=function(t){return t.getParam("link_context_toolbar",!1,"boolean")},d=function(t){return t.getParam("link_list")},m=function(t){return t.getParam("default_link_target")},g=function(t){return t.getParam("target_list",!0)},h=function(t){return t.getParam("rel_list",[],"array")},p=function(t){return t.getParam("link_class_list",[],"array")},v=function(t){return t.getParam("link_title",!0,"boolean")},y=function(t){return t.getParam("allow_unsafe_link_target",!1,"boolean")},k=function(t){return t.getParam("link_quicklink",!1,"boolean")},w=function(t){return t.getParam("link_default_protocol","http","string")},x={assumeExternalTargets:f,hasContextToolbar:s,getLinkList:d,getDefaultLinkTarget:m,getTargetList:g,getRelList:h,getLinkClassList:p,shouldShowLinkTitle:v,allowUnsafeLinkTarget:y,useQuickLink:k,getDefaultLinkProtocol:w},T=function(t,e){n.document.body.appendChild(t),t.dispatchEvent(e),n.document.body.removeChild(t)},b=function(t){var e=n.document.createElement("a");e.target="_blank",e.href=t,e.rel="noreferrer noopener";var r=n.document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,n.window,0,0,0,0,0,!1,!1,!1,!1,0,null),T(e,r)},_={open:b},L=function(){return L=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e],n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},L.apply(this,arguments)},A=function(){},O=function(t){return function(){return t}},C=O(!1),E=O(!0),S=function(){return P},P=function(){var t=function(t){return t.isNone()},n=function(t){return t()},e=function(t){return t},r={fold:function(t,n){return t()},is:C,isSome:C,isNone:E,getOr:e,getOrThunk:n,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:O(null),getOrUndefined:O(void 0),or:e,orThunk:n,map:S,each:A,bind:S,exists:C,forall:E,filter:S,equals:t,equals_:t,toArray:function(){return[]},toString:O("none()")};return Object.freeze&&Object.freeze(r),r}(),R=function(t){var n=O(t),e=function(){return o},r=function(n){return n(t)},o={fold:function(n,e){return e(t)},is:function(n){return t===n},isSome:E,isNone:C,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:e,orThunk:e,map:function(n){return R(n(t))},each:function(n){n(t)},bind:r,exists:r,forall:r,filter:function(n){return n(t)?o:P},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(n){return n.is(t)},equals_:function(n,e){return n.fold(C,(function(n){return e(t,n)}))}};return o},D=function(t){return null===t||void 0===t?P:R(t)},N={some:R,none:S,from:D},I=Array.prototype.slice,j=Array.prototype.indexOf,F=Array.prototype.push,U=function(t,n){return j.call(t,n)},M=function(t,n){return U(t,n)>-1},z=function(t,n){for(var e=t.length,r=new Array(e),o=0;o<e;o++){var i=t[o];r[o]=n(i,o)}return r},q=function(t,n){for(var e=0,r=t.length;e<r;e++){var o=t[e];n(o,e)}},B=function(t,n,e){return q(t,(function(t){e=n(e,t)})),e},K=function(t){for(var n=[],e=0,r=t.length;e<r;++e){if(!a(t[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+t);F.apply(n,t[e])}return n},H=function(t,n){return K(z(t,n))},V=(l(Array.from)&&Array.from,function(t,n){for(var e=0;e<t.length;e++){var r=n(t[e],e);if(r.isSome())return r}return N.none()}),W=tinymce.util.Tools.resolve("tinymce.util.Tools"),G=function(t){return/^\w+:/i.test(t)},J=function(t){var n=t.getAttribute("data-mce-href");return n||t.getAttribute("href")},Q=function(t,n){var e=["noopener"],r=t?t.split(/\s+/):[],o=function(t){return W.trim(t.sort().join(" "))},i=function(t){return t=u(t),t.length>0?t.concat(e):e},u=function(t){return t.filter((function(t){return-1===W.inArray(e,t)}))},a=n?i(r):u(r);return a.length>0?o(a):""},$=function(t){return t.replace(/\uFEFF/g,"")},X=function(t,n){return n=n||t.selection.getNode(),et(n)?t.dom.select("a[href]",n)[0]:t.dom.getParent(n,"a[href]")},Y=function(t,n){var e=n?n.innerText||n.textContent:t.getContent({format:"text"});return $(e)},Z=function(t){return t&&"A"===t.nodeName&&!!J(t)},tt=function(t){return W.grep(t,Z).length>0},nt=function(t){return!(/</.test(t)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(t)||-1===t.indexOf("href=")))},et=function(t){return t&&"FIGURE"===t.nodeName&&/\bimage\b/i.test(t.className)},rt=function(t){return B(["title","rel","class","target"],(function(n,e){return t[e].each((function(t){n[e]=t.length>0?t:null})),n}),{href:t.href})},ot=function(t,n){return"http"!==n&&"https"!==n||G(t)?t:n+"://"+t},it=function(t,n){var e=L({},n);if(!(x.getRelList(t).length>0)&&!1===x.allowUnsafeLinkTarget(t)){var r=Q(e.rel,"_blank"===e.target);e.rel=r||null}return N.from(e.target).isNone()&&!1===x.getTargetList(t)&&(e.target=x.getDefaultLinkTarget(t)),e.href=ot(e.href,x.assumeExternalTargets(t)),e},ut=function(t,n,e,r){e.each((function(t){n.hasOwnProperty("innerText")?n.innerText=t:n.textContent=t})),t.dom.setAttribs(n,r),t.selection.select(n)},at=function(t,n,e,r){et(n)?st(t,n,r):e.fold((function(){t.execCommand("mceInsertLink",!1,r)}),(function(n){t.insertContent(t.dom.createHTML("a",r,t.dom.encode(n)))}))},ct=function(t,n,e){var r=t.selection.getNode(),o=X(t,r),i=it(t,rt(e));t.undoManager.transact((function(){e.href===n.href&&n.attach(),o?(t.focus(),ut(t,o,e.text,i)):at(t,r,e.text,i)}))},lt=function(t){t.undoManager.transact((function(){var n=t.selection.getNode();if(et(n))ft(t,n);else{var e=t.dom.getParent(n,"a[href]",t.getBody());e&&t.dom.remove(e,!0)}t.focus()}))},ft=function(t,n){var e=t.dom.select("img",n)[0];if(e){var r=t.dom.getParents(e,"a[href]",n)[0];r&&(r.parentNode.insertBefore(e,r),t.dom.remove(r))}},st=function(t,n,e){var r=t.dom.select("img",n)[0];if(r){var o=t.dom.create("a",e);r.parentNode.insertBefore(o,r),o.appendChild(r)}},dt={link:ct,unlink:lt,isLink:Z,hasLinks:tt,getHref:J,isOnlyTextSelected:nt,getAnchorElement:X,getAnchorText:Y,applyRelTargetRules:Q,hasProtocol:G},mt=function(t){for(var n=[],e=function(t){n.push(t)},r=0;r<t.length;r++)t[r].each(e);return n},gt=function(t){return u(t.value)?t.value:""},ht=function(t,n){var e=[];return W.each(t,(function(t){var r=u(t.text)?t.text:u(t.title)?t.title:"";if(void 0!==t.menu);else{var o=n(t);e.push({text:r,value:o})}})),e},pt=function(t){return void 0===t&&(t=gt),function(n){return N.from(n).map((function(n){return ht(n,t)}))}},vt=function(t){return pt(gt)(t)},yt=function(t,n){return function(e){return{name:t,type:"selectbox",label:n,items:e}}},kt={sanitize:vt,sanitizeWith:pt,createUi:yt,getValue:gt},wt=function(t){var n=t,e=function(){return n},r=function(t){n=t},o=function(){return wt(e())};return{get:e,set:r,clone:o}},xt=function(t,n){return V(n,(function(n){return N.some(n).filter((function(n){return n.value===t}))}))},Tt=function(t,n,e,r){var o=r[n],i=t.length>0;return void 0!==o?xt(o,e).map((function(n){return{url:{value:n.value,meta:{text:i?t:n.text,attach:A}},text:i?t:n.text}})):N.none()},bt=function(t,n){return"link"===n?t.catalogs.link:"anchor"===n?t.catalogs.anchor:N.none()},_t=function(t,n){var e=wt(t.text),r=function(t){if(e.get().length<=0){var n=void 0!==t.url.meta.text?t.url.meta.text:t.url.value,r=void 0!==t.url.meta.title?t.url.meta.title:"";return N.some({text:n,title:r})}return N.none()},o=function(t,r){var o=bt(n,r.name).getOr([]);return Tt(e.get(),r.name,o,t)},i=function(t,n){return"url"===n.name?r(t()):M(["anchor","link"],n.name)?o(t(),n):"text"===n.name?(e.set(t().text),N.none()):N.none()};return{onChange:i}},Lt={init:_t,getDelta:Tt},At={},Ot={exports:At};(function(n,e,r,o){(function(o){if("object"===typeof e&&"undefined"!==typeof r)r.exports=o();else if("function"===typeof n&&n.amd)n([],o);else{var i;i="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:this,i.EphoxContactWrapper=o()}})((function(){return function(){function t(n,e,r){function i(a,c){if(!e[a]){if(!n[a]){var l="function"==typeof o&&o;if(!c&&l)return l(a,!0);if(u)return u(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var s=e[a]={exports:{}};n[a][0].call(s.exports,(function(t){var e=n[a][1][t];return i(e||t)}),s,s.exports,t,n,e,r)}return e[a].exports}for(var u="function"==typeof o&&o,a=0;a<r.length;a++)i(r[a]);return i}return t}()({1:[function(t,n,e){var r,o,i=n.exports={};function u(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(r===setTimeout)return setTimeout(t,0);if((r===u||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(n){try{return r.call(null,t,0)}catch(n){return r.call(this,t,0)}}}function l(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{return o(t)}catch(n){try{return o.call(null,t)}catch(n){return o.call(this,t)}}}(function(){try{r="function"===typeof setTimeout?setTimeout:u}catch(t){r=u}try{o="function"===typeof clearTimeout?clearTimeout:a}catch(t){o=a}})();var f,s=[],d=!1,m=-1;function g(){d&&f&&(d=!1,f.length?s=f.concat(s):m=-1,s.length&&h())}function h(){if(!d){var t=c(g);d=!0;var n=s.length;while(n){f=s,s=[];while(++m<n)f&&f[m].run();m=-1,n=s.length}f=null,d=!1,l(t)}}function p(t,n){this.fun=t,this.array=n}function v(){}i.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];s.push(new p(t,n)),1!==s.length||d||c(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(t,n,e){(function(t){(function(e){var r=setTimeout;function o(){}function i(t,n){return function(){t.apply(n,arguments)}}function u(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(t,this)}function a(t,n){while(3===t._state)t=t._value;0!==t._state?(t._handled=!0,u._immediateFn((function(){var e=1===t._state?n.onFulfilled:n.onRejected;if(null!==e){var r;try{r=e(t._value)}catch(o){return void l(n.promise,o)}c(n.promise,r)}else(1===t._state?c:l)(n.promise,t._value)}))):t._deferreds.push(n)}function c(t,n){try{if(n===t)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"===typeof n||"function"===typeof n)){var e=n.then;if(n instanceof u)return t._state=3,t._value=n,void f(t);if("function"===typeof e)return void d(i(e,n),t)}t._state=1,t._value=n,f(t)}catch(r){l(t,r)}}function l(t,n){t._state=2,t._value=n,f(t)}function f(t){2===t._state&&0===t._deferreds.length&&u._immediateFn((function(){t._handled||u._unhandledRejectionFn(t._value)}));for(var n=0,e=t._deferreds.length;n<e;n++)a(t,t._deferreds[n]);t._deferreds=null}function s(t,n,e){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof n?n:null,this.promise=e}function d(t,n){var e=!1;try{t((function(t){e||(e=!0,c(n,t))}),(function(t){e||(e=!0,l(n,t))}))}catch(r){if(e)return;e=!0,l(n,r)}}u.prototype["catch"]=function(t){return this.then(null,t)},u.prototype.then=function(t,n){var e=new this.constructor(o);return a(this,new s(t,n,e)),e},u.all=function(t){var n=Array.prototype.slice.call(t);return new u((function(t,e){if(0===n.length)return t([]);var r=n.length;function o(i,u){try{if(u&&("object"===typeof u||"function"===typeof u)){var a=u.then;if("function"===typeof a)return void a.call(u,(function(t){o(i,t)}),e)}n[i]=u,0===--r&&t(n)}catch(c){e(c)}}for(var i=0;i<n.length;i++)o(i,n[i])}))},u.resolve=function(t){return t&&"object"===typeof t&&t.constructor===u?t:new u((function(n){n(t)}))},u.reject=function(t){return new u((function(n,e){e(t)}))},u.race=function(t){return new u((function(n,e){for(var r=0,o=t.length;r<o;r++)t[r].then(n,e)}))},u._immediateFn="function"===typeof t?function(n){t(n)}:function(t){r(t,0)},u._unhandledRejectionFn=function(t){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},u._setImmediateFn=function(t){u._immediateFn=t},u._setUnhandledRejectionFn=function(t){u._unhandledRejectionFn=t},"undefined"!==typeof n&&n.exports?n.exports=u:e.Promise||(e.Promise=u)})(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,n,e){(function(n,r){var o=t("process/browser.js").nextTick,i=Function.prototype.apply,u=Array.prototype.slice,a={},c=0;function l(t,n){this._id=t,this._clearFn=n}e.setTimeout=function(){return new l(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new l(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,n){clearTimeout(t._idleTimeoutId),t._idleTimeout=n},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var n=t._idleTimeout;n>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),n))},e.setImmediate="function"===typeof n?n:function(t){var n=c++,r=!(arguments.length<2)&&u.call(arguments,1);return a[n]=!0,o((function(){a[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))})),n},e.clearImmediate="function"===typeof r?r:function(t){delete a[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,n,e){var r=t("promise-polyfill"),o=function(){return"undefined"!==typeof window?window:Function("return this;")()}();n.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))})(void 0,At,Ot,void 0);var Ct=Ot.exports.boltExport,Et=function(t){var e=N.none(),r=[],o=function(t){return Et((function(n){i((function(e){n(t(e))}))}))},i=function(t){a()?l(t):r.push(t)},u=function(t){e=N.some(t),c(r),r=[]},a=function(){return e.isSome()},c=function(t){q(t,l)},l=function(t){e.each((function(e){n.setTimeout((function(){t(e)}),0)}))};return t(u),{get:i,map:o,isReady:a}},St=function(t){return Et((function(n){n(t)}))},Pt={nu:Et,pure:St},Rt=function(t){n.setTimeout((function(){throw t}),0)},Dt=function(t){var n=function(n){t().then(n,Rt)},e=function(n){return Dt((function(){return t().then(n)}))},r=function(n){return Dt((function(){return t().then((function(t){return n(t).toPromise()}))}))},o=function(n){return Dt((function(){return t().then((function(){return n.toPromise()}))}))},i=function(){return Pt.nu(n)},u=function(){var n=null;return Dt((function(){return null===n&&(n=t()),n}))},a=t;return{map:e,bind:r,anonBind:o,toLazy:i,toCached:u,toPromise:a,get:n}},Nt=function(t){return Dt((function(){return new Ct(t)}))},It=function(t){return Dt((function(){return Ct.resolve(t)}))},jt={nu:Nt,pure:It},Ft=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ut=function(t,n,e){var r=t.selection.getRng();Ft.setEditorTimeout(t,(function(){t.windowManager.confirm(n,(function(n){t.selection.setRng(r),e(n)}))}))},Mt=function(t){var n=t.href,e=n.indexOf("@")>0&&-1===n.indexOf("//")&&-1===n.indexOf("mailto:");return e?N.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(t){return L(L({},t),{href:"mailto:"+n})}}):N.none()},zt=function(t,n){return function(e){var r=e.href,o=1===t&&!dt.hasProtocol(r)||0===t&&/^\s*www[\.|\d\.]/i.test(r);return o?N.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+n+":// prefix?",preprocess:function(t){return L(L({},t),{href:n+"://"+r})}}):N.none()}},qt=function(t,n){return V([Mt,zt(x.assumeExternalTargets(t),x.getDefaultLinkProtocol(t))],(function(t){return t(n)})).fold((function(){return jt.pure(n)}),(function(e){return jt.nu((function(r){Ut(t,e.message,(function(t){r(t?e.preprocess(n):n)}))}))}))},Bt={preprocess:qt},Kt=function(t){var n=t.dom.select("a:not([href])"),e=H(n,(function(t){var n=t.name||t.id;return n?[{text:n,value:"#"+n}]:[]}));return e.length>0?N.some([{text:"None",value:""}].concat(e)):N.none()},Ht={getAnchors:Kt},Vt=function(t){var n=x.getLinkClassList(t);return n.length>0?kt.sanitize(n):N.none()},Wt={getClasses:Vt},Gt=tinymce.util.Tools.resolve("tinymce.util.XHR"),Jt=function(t){try{return N.some(JSON.parse(t))}catch(n){return N.none()}},Qt=function(t){var n=function(n){return t.convertURL(n.value||n.url,"href")},e=x.getLinkList(t);return jt.nu((function(t){u(e)?Gt.send({url:e,success:function(n){return t(Jt(n))},error:function(n){return t(N.none())}}):l(e)?e((function(n){return t(N.some(n))})):t(N.from(e))})).map((function(t){return t.bind(kt.sanitizeWith(n)).map((function(t){return t.length>0?[{text:"None",value:""}].concat(t):t}))}))},$t={getLinks:Qt},Xt=function(t,n){var e=x.getRelList(t);if(e.length>0){var r=n.is("_blank"),o=!1===x.allowUnsafeLinkTarget(t),i=function(t){return dt.applyRelTargetRules(kt.getValue(t),r)},u=o?kt.sanitizeWith(i):kt.sanitize;return u(e)}return N.none()},Yt={getRels:Xt},Zt=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],tn=function(t){var n=x.getTargetList(t);return a(n)?kt.sanitize(n).orThunk((function(){return N.some(Zt)})):!1===n?N.none():N.some(Zt)},nn={getTargets:tn},en=function(t,n,e){var r=t.getAttrib(n,e);return null!==r&&r.length>0?N.some(r):N.none()},rn=function(t,n){var e=t.dom,r=dt.isOnlyTextSelected(t.selection.getContent()),o=r?N.some(dt.getAnchorText(t.selection,n)):N.none(),i=n?N.some(e.getAttrib(n,"href")):N.none(),u=n?N.from(e.getAttrib(n,"target")):N.none(),a=en(e,n,"rel"),c=en(e,n,"class"),l=en(e,n,"title");return{url:i,text:o,title:l,target:u,rel:a,linkClass:c}},on=function(t,n){return $t.getLinks(t).map((function(e){var r=rn(t,n);return{anchor:r,catalogs:{targets:nn.getTargets(t),rels:Yt.getRels(t,r.target),classes:Wt.getClasses(t),anchor:Ht.getAnchors(t),link:e},optNode:N.from(n),flags:{titleEnabled:x.shouldShowLinkTitle(t)}}}))},un={collect:on},an=function(t,n){return function(e){var r=e.getData();if(!r.url.value)return dt.unlink(t),void e.close();var o=function(t){return N.from(r[t]).filter((function(e){return!n.anchor[t].is(e)}))},i={href:r.url.value,text:o("text"),target:o("target"),rel:o("rel"),class:o("linkClass"),title:o("title")},u={href:r.url.value,attach:void 0!==r.url.meta&&r.url.meta.attach?r.url.meta.attach:function(){}};Bt.preprocess(t,i).get((function(n){dt.link(t,u,n)})),e.close()}},cn=function(t){var n=dt.getAnchorElement(t);return un.collect(t,n)},ln=function(t,n){return{url:{value:t.anchor.url.getOr(""),meta:{attach:function(){},text:t.anchor.url.fold((function(){return""}),(function(){return t.anchor.text.getOr("")})),original:{value:t.anchor.url.getOr("")}}},text:t.anchor.text.getOr(""),title:t.anchor.title.getOr(""),anchor:t.anchor.url.getOr(""),link:t.anchor.url.getOr(""),rel:t.anchor.rel.getOr(""),target:t.anchor.target.or(n).getOr(""),linkClass:t.anchor.linkClass.getOr("")}},fn=function(t,n,e){var r=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],o=t.anchor.text.map((function(){return{name:"text",type:"input",label:"Text to display"}})).toArray(),i=t.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],u=N.from(x.getDefaultLinkTarget(e)),a=ln(t,u),c=Lt.init(a,t),l=t.catalogs,f={type:"panel",items:K([r,o,i,mt([l.anchor.map(kt.createUi("anchor","Anchors")),l.rels.map(kt.createUi("rel","Rel")),l.targets.map(kt.createUi("target","Open link in...")),l.link.map(kt.createUi("link","Link list")),l.classes.map(kt.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:f,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:a,onChange:function(t,n){var e=n.name;c.onChange(t.getData,{name:e}).each((function(n){t.setData(n)}))},onSubmit:n}},sn=function(t){var n=cn(t);n.map((function(n){var e=an(t,n);return fn(n,e,t)})).get((function(n){t.windowManager.open(n)}))},dn={open:sn},mn=function(t,n){return t.dom.getParent(n,"a[href]")},gn=function(t){return mn(t,t.selection.getStart())},hn=function(t){return!0===t.altKey&&!1===t.shiftKey&&!1===t.ctrlKey&&!1===t.metaKey},pn=function(t,n){if(n){var e=dt.getHref(n);if(/^#/.test(e)){var r=t.$(e);r.length&&t.selection.scrollIntoView(r[0],!0)}else _.open(n.href)}},vn=function(t){return function(){dn.open(t)}},yn=function(t){return function(){pn(t,gn(t))}},kn=function(t){return function(n){var e,r,o;return!!(x.hasContextToolbar(t)&&dt.isLink(n)&&(e=t.selection,r=e.getRng(),o=r.startContainer,3===o.nodeType&&e.isCollapsed()&&r.startOffset>0&&r.startOffset<o.data.length))}},wn=function(t){t.on("click",(function(n){var e=mn(t,n.target);e&&r.metaKeyPressed(n)&&(n.preventDefault(),pn(t,e))})),t.on("keydown",(function(n){var e=gn(t);e&&13===n.keyCode&&hn(n)&&(n.preventDefault(),pn(t,e))}))},xn=function(t){return function(n){var e=function(e){return n.setActive(!t.mode.isReadOnly()&&!!dt.getAnchorElement(t,e.element))};return t.on("NodeChange",e),function(){return t.off("NodeChange",e)}}},Tn=function(t){return function(n){var e=t.dom.getParents(t.selection.getStart());n.setDisabled(!dt.hasLinks(e));var r=function(t){return n.setDisabled(!dt.hasLinks(t.parents))};return t.on("NodeChange",r),function(){return t.off("NodeChange",r)}}},bn={openDialog:vn,gotoSelectedLink:yn,leftClickedOnAHref:kn,setupGotoLinks:wn,toggleActiveState:xn,toggleEnabledState:Tn},_n=function(t){t.addCommand("mceLink",(function(){x.useQuickLink(t)?t.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):bn.openDialog(t)()}))},Ln={register:_n},An=function(t){t.addShortcut("Meta+K","",(function(){t.execCommand("mceLink")}))},On={setup:An},Cn=function(t){t.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:bn.openDialog(t),onSetup:bn.toggleActiveState(t)}),t.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:bn.gotoSelectedLink(t),onSetup:bn.toggleEnabledState(t)}),t.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return dt.unlink(t)},onSetup:bn.toggleEnabledState(t)})},En=function(t){t.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:bn.gotoSelectedLink(t),onSetup:bn.toggleEnabledState(t)}),t.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:bn.openDialog(t)}),t.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return dt.unlink(t)},onSetup:bn.toggleEnabledState(t)})},Sn=function(t){var n="link unlink openlink",e="link";t.ui.registry.addContextMenu("link",{update:function(r){return dt.hasLinks(t.dom.getParents(r,"a"))?n:e}})},Pn=function(t){var n=function(t){t.selection.collapse(!1)},e=function(n){var e=t.selection.getNode();return n.setDisabled(!dt.getAnchorElement(t,e)),function(){}};t.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:bn.toggleActiveState(t)},label:"Link",predicate:function(n){return!!dt.getAnchorElement(t,n)&&x.hasContextToolbar(t)},initValue:function(){var n=dt.getAnchorElement(t);return n?dt.getHref(n):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(n){var e=t.selection.getNode();return n.setActive(!!dt.getAnchorElement(t,e)),bn.toggleActiveState(t)(n)},onAction:function(e){var r=dt.getAnchorElement(t),o=e.getValue();if(r)t.dom.setAttrib(r,"href",o),n(t),e.hide();else{var i={href:o,attach:function(){}},u=dt.isOnlyTextSelected(t.selection.getContent()),a=u?N.some(dt.getAnchorText(t.selection,r)).filter((function(t){return t.length>0})).or(N.from(o)):N.none();dt.link(t,i,{href:o,text:a,title:N.none(),rel:N.none(),target:N.none(),class:N.none()}),e.hide()}}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:e,onAction:function(n){dt.unlink(t),n.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:e,onAction:function(n){bn.gotoSelectedLink(t)(),n.hide()}}]})},Rn={setupButtons:Cn,setupMenuItems:En,setupContextMenu:Sn,setupContextToolbars:Pn};function Dn(){e.add("link",(function(t){Rn.setupButtons(t),Rn.setupMenuItems(t),Rn.setupContextMenu(t),Rn.setupContextToolbars(t),bn.setupGotoLinks(t),Ln.register(t),On.setup(t)}))}Dn()})(window)}).call(this,e("c8ba"))}}]);