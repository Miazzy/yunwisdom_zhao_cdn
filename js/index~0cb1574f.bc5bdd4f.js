(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["index~0cb1574f"],{"1c34":function(e,t,n){"use strict";var a=n("b0d4"),i=n.n(a);i.a},"1da7":function(e,t,n){},"21fb":function(e,t,n){"use strict";var a=n("fbb2"),i=n.n(a);i.a},2308:function(e,t,n){},"344b":function(e,t,n){},"55f19":function(e,t,n){},5872:function(e,t,n){"use strict";var a=n("c1af"),i=n.n(a);i.a},"603b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-header"},[n("div",{staticClass:"page-header-index-wide"},[n("a-breadcrumb",{staticClass:"breadcrumb"},e._l(e.breadList,(function(t,a){return n("a-breadcrumb-item",{key:a},[t.name!=e.name?n("router-link",{attrs:{to:{path:t.path}}},[e._v("\n          "+e._s(t.meta.title)+"\n        ")]):n("span",[e._v(e._s(t.meta.title))])],1)})),1),n("div",{staticClass:"detail"},[e.$route.meta.hiddenHeaderContent?e._e():n("div",{staticClass:"main"},[n("div",{staticClass:"row"},[e.logo?n("img",{staticClass:"logo",attrs:{src:e.logo}}):e._e(),e.title?n("h1",{staticClass:"title"},[e._v(e._s(e.title))]):e._e(),n("div",{staticClass:"action"},[e._t("action")],2)]),n("div",{staticClass:"row"},[e.avatar?n("div",{staticClass:"avatar"},[n("a-avatar",{attrs:{src:e.avatar}})],1):e._e(),this.$slots.content?n("div",{staticClass:"headerContent"},[e._t("content")],2):e._e(),this.$slots.extra?n("div",{staticClass:"extra"},[e._t("extra")],2):e._e()]),n("div",[e._t("pageMenu")],2)])])],1)])},i=[],s=(n("ac6a"),n("7f7f"),n("e97b")),r={name:"PageHeader",components:{"s-breadcrumb":s["default"]},props:{title:{type:String,default:"",required:!1},breadcrumb:{type:Array,default:null,required:!1},logo:{type:String,default:"",required:!1},avatar:{type:String,default:"",required:!1}},data:function(){return{name:"",breadList:[]}},created:function(){this.getBreadcrumb()},methods:{getBreadcrumb:function(){var e=this;this.breadList=[],this.name=this.$route.name,this.$route.matched.forEach((function(t){e.breadList.push(t)}))}},watch:{$route:function(){this.getBreadcrumb()}}},o=r,l=(n("b5e4"),n("2877")),c=Object(l["a"])(o,a,i,!1,null,"c3445be0",null);t["default"]=c.exports},"630d":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.headerBarFixed?e._e():n("a-layout-header",{class:[e.fixedHeader&&"ant-header-fixedHeader",e.sidebarOpened?"ant-header-side-opened":"ant-header-side-closed"],style:{padding:"0"}},["sidemenu"===e.mode?n("div",{staticClass:"header",class:e.theme},["mobile"===e.device?n("a-icon",{staticClass:"trigger",attrs:{type:e.collapsed?"menu-fold":"menu-unfold"},on:{click:e.toggle}}):n("a-icon",{staticClass:"trigger",attrs:{type:e.collapsed?"menu-unfold":"menu-fold"},on:{click:e.toggle}}),(e.device,n("span")),n("user-menu",{attrs:{theme:e.theme}})],1):n("div",{class:["top-nav-header-index",e.theme]},[n("div",{staticClass:"header-index-wide"},[n("div",{staticClass:"header-index-left",style:e.topMenuStyle.headerIndexLeft},[n("logo",{staticClass:"top-nav-header",style:e.topMenuStyle.topNavHeader,attrs:{"show-title":"mobile"!==e.device}}),"mobile"!==e.device?n("div",{style:e.topMenuStyle.topSmenuStyle},[n("s-menu",{attrs:{mode:"horizontal",menu:e.menus,theme:e.theme}})],1):n("a-icon",{staticClass:"trigger",attrs:{type:e.collapsed?"menu-fold":"menu-unfold"},on:{click:e.toggle}})],1),n("user-menu",{staticClass:"header-index-right",style:e.topMenuStyle.headerIndexRight,attrs:{theme:e.theme}})],1)])])},i=[],s=n("8d4d"),r=n("955f"),o=n("a250"),l=n("ac0d"),c={name:"GlobalHeader",components:{UserMenu:s["default"],SMenu:r["a"],Logo:o["default"]},mixins:[l["a"]],props:{mode:{type:String,default:"sidemenu"},menus:{type:Array,required:!0},theme:{type:String,required:!1,default:"dark"},collapsed:{type:Boolean,required:!1,default:!1},device:{type:String,required:!1,default:"desktop"}},data:function(){return{headerBarFixed:!1,topMenuStyle:{headerIndexLeft:{},topNavHeader:{},headerIndexRight:{},topSmenuStyle:{}}}},watch:{device:function(){"topmenu"===this.mode&&this.buildTopMenuStyle()},mode:function(e){"topmenu"===e&&this.buildTopMenuStyle()}},mounted:function(){window.addEventListener("scroll",this.handleScroll),"topmenu"===this.mode&&this.buildTopMenuStyle()},methods:{handleScroll:function(){if(this.autoHideHeader){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.headerBarFixed=e>100}else this.headerBarFixed=!1},toggle:function(){this.$emit("toggle")},buildTopMenuStyle:function(){if("topmenu"===this.mode)if("mobile"===this.device)this.topMenuStyle.topNavHeader={},this.topMenuStyle.topSmenuStyle={},this.topMenuStyle.headerIndexRight={},this.topMenuStyle.headerIndexLeft={};else{var e="360px";this.topMenuStyle.topNavHeader={"min-width":"165px"},this.topMenuStyle.topSmenuStyle={width:"calc(100% - 165px)"},this.topMenuStyle.headerIndexRight={"min-width":e},this.topMenuStyle.headerIndexLeft={width:"calc(100% - ".concat(e,")")}}}}},u=c,d=(n("21fb"),n("2877")),p=Object(d["a"])(u,a,i,!1,null,"0ae63da2",null);t["default"]=p.exports},8415:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=this,n=t.$createElement,a=t._self._c||n;return a("a-layout",{staticClass:"layout",class:[t.device]},["sidemenu"===t.layoutMode?["mobile"===t.device?a("a-drawer",{attrs:{wrapClassName:"drawer-sider "+t.navTheme,placement:"left",closable:!1,visible:t.collapsed,width:"200px"},on:{close:function(){return e.collapsed=!1}}},[a("side-menu",{attrs:{mode:"inline",menus:t.menus,theme:t.navTheme,collapsed:!1,collapsible:!0},on:{menuSelect:t.menuSelect}})],1):a("side-menu",{attrs:{mode:"inline",menus:t.menus,theme:t.navTheme,collapsed:t.collapsed,collapsible:!0},on:{menuSelect:t.myMenuSelect}})]:["mobile"===t.device?a("a-drawer",{attrs:{wrapClassName:"drawer-sider "+t.navTheme,placement:"left",closable:!1,visible:t.collapsed,width:"200px"},on:{close:function(){return e.collapsed=!1}}},[a("side-menu",{attrs:{mode:"inline",menus:t.menus,theme:t.navTheme,collapsed:!1,collapsible:!0},on:{menuSelect:t.menuSelect}})],1):t._e()],a("a-layout",{class:[t.layoutMode,"content-width-"+t.contentWidth],style:{paddingLeft:t.fixSiderbar&&t.isDesktop()?(t.sidebarOpened?200:80)+"px":"0"}},[a("global-header",{attrs:{mode:t.layoutMode,menus:t.menus,theme:t.navTheme,collapsed:t.collapsed,device:t.device},on:{toggle:t.toggle}}),a("a-layout-content",{style:{height:"100%",paddingTop:t.fixedHeader?"59px":"0"}},[t._t("default")],2),a("a-layout-footer",{staticStyle:{padding:"0px"}},[a("global-footer")],1)],1)],2)},i=[],s=(n("8e6e"),n("456d"),n("ac4d"),n("8a81"),n("ac6a"),n("bd86")),r=n("e5f9"),o=n("630d"),l=n("911c"),c=n("ca00"),u=n("5880"),d=n("ac0d");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m={name:"GlobalLayout",components:{SideMenu:r["default"],GlobalHeader:o["default"],GlobalFooter:l["default"]},mixins:[d["a"],d["b"]],data:function(){return{collapsed:!1,activeMenu:{},menus:[]}},computed:h({},Object(u["mapState"])({mainRouters:function(e){return e.permission.addRouters},permissionMenuList:function(e){return e.user.permissionList}})),watch:{sidebarOpened:function(e){this.collapsed=!e}},created:function(){this.menus=this.permissionMenuList,console.log("----加载菜单逻辑----"),console.log(this.mainRouters),console.log(this.permissionMenuList),console.log("----navTheme------"+this.navTheme)},methods:h({},Object(u["mapActions"])(["setSidebar"]),{toggle:function(){this.collapsed=!this.collapsed,this.setSidebar(!this.collapsed),Object(c["s"])()},menuSelect:function(){this.isDesktop()||(this.collapsed=!1)},myMenuSelect:function(e){this.findMenuBykey(this.menus,e.key),this.$emit("dynamicRouterShow",e.key,this.activeMenu.meta.title);var t="route:title:"+this.activeMenu.path;this.$ls.set(t,this.activeMenu.meta.title)},findMenuBykey:function(e,t){var n=!0,a=!1,i=void 0;try{for(var s,r=e[Symbol.iterator]();!(n=(s=r.next()).done);n=!0){var o=s.value;o.path==t?this.activeMenu=h({},o):o.children&&o.children.length>0&&this.findMenuBykey(o.children,t)}}catch(l){a=!0,i=l}finally{try{n||null==r.return||r.return()}finally{if(a)throw i}}}})},f=m,y=(n("f491"),n("2877")),b=Object(y["a"])(f,a,i,!1,null,null,null);t["default"]=b.exports},"911c":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"footer"},[n("div",{staticClass:"links"}),n("div",{staticClass:"copyright"},[e._v("\n    Copyright\n    "),n("a-icon",{attrs:{type:"copyright"}}),e._v("\n    2019 - 2020\n  ")],1)])},i=[],s={name:"LayoutFooter"},r=s,o=(n("ec25"),n("2877")),l=Object(o["a"])(r,a,i,!1,null,"448791ed",null);t["default"]=l.exports},"91ad":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-menu",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"contextmenu",style:e.style,attrs:{selectedKeys:e.selectedKeys},on:{click:e.handleClick}},e._l(e.itemList,(function(t){return n("a-menu-item",{key:t.key},[t.icon?n("a-icon",{attrs:{role:"menuitemicon",type:t.icon}}):e._e(),e._v(e._s(t.text)+"\n  ")],1)})),1)},i=[],s={name:"Contextmenu",props:{visible:{type:Boolean,required:!1,default:!1},itemList:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{left:0,top:0,target:null,selectedKeys:[]}},computed:{style:function(){return{left:this.left+"px",top:this.top+"px"}}},created:function(){var e=this;window.addEventListener("mousedown",(function(t){return e.closeMenu(t)})),window.addEventListener("contextmenu",(function(t){return e.setPosition(t)}))},methods:{closeMenu:function(e){["menuitemicon","menuitem"].indexOf(e.target.getAttribute("role"))<0&&this.$emit("update:visible",!1)},setPosition:function(e){this.left=e.clientX,this.top=e.clientY,this.target=e.target},handleClick:function(e){var t=e.key;this.$emit("select",t,this.target),this.$emit("update:visible",!1)}}},r=s,o=(n("a73d"),n("2877")),l=Object(o["a"])(r,a,i,!1,null,"32e5b466",null);t["default"]=l.exports},"955f":function(e,t,n){"use strict";n("8e6e"),n("456d");var a=n("7618"),i=n("2638"),s=n.n(i),r=n("bd86"),o=(n("7f7f"),n("6762"),n("2fdb"),n("7514"),n("ac6a"),n("55f1")),l=n("0c63");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=o["a"].Item,p=o["a"].SubMenu;t["a"]={name:"SMenu",props:{menu:{type:Array,required:!0},theme:{type:String,required:!1,default:"dark"},mode:{type:String,required:!1,default:"inline"},collapsed:{type:Boolean,required:!1,default:!1}},data:function(){return{openKeys:[],selectedKeys:[],cachedOpenKeys:[]}},computed:{rootSubmenuKeys:function(e){var t=[];return e.menu.forEach((function(e){return t.push(e.path)})),t}},mounted:function(){this.updateMenu()},watch:{collapsed:function(e){e?(this.cachedOpenKeys=this.openKeys.concat(),this.openKeys=[]):this.openKeys=this.cachedOpenKeys},$route:function(){this.updateMenu()}},methods:{onOpenChange:function(e){var t=this;if("horizontal"!==this.mode){var n=e.find((function(e){return!t.openKeys.includes(e)}));this.rootSubmenuKeys.includes(n)?this.openKeys=n?[n]:[]:this.openKeys=e}else this.openKeys=e},updateMenu:function(){var e=this.$route.matched.concat(),t=this.$route.meta.hidden;e.length>=3&&t?(e.pop(),this.selectedKeys=[e[e.length-1].path]):this.selectedKeys=[e.pop().path];var n=[];"inline"===this.mode&&e.forEach((function(e){n.push(e.path)})),(!this.selectedKeys||this.selectedKeys[0].indexOf(":")<0)&&(this.collapsed?this.cachedOpenKeys=n:this.openKeys=n)},renderItem:function(e){return e.hidden?null:e.children&&!e.alwaysShow?this.renderSubMenu(e):this.renderMenuItem(e)},renderMenuItem:function(e){var t=this.$createElement,n=e.meta.target||null,a=n?"a":"router-link",i={to:{name:e.name}};e.route&&"0"===e.route&&(i={to:{path:e.path}});var r={href:e.path,target:e.meta.target};return e.children&&e.alwaysShow&&e.children.forEach((function(e){e.meta=Object.assign(e.meta,{hidden:!0})})),t(d,s()([{},{key:e.path}]),[t(a,{props:u({},i),attrs:u({},r)},[this.renderIcon(e.meta.icon),t("span",[e.meta.title])])])},renderSubMenu:function(e){var t=this,n=this.$createElement,a=[];return e.alwaysShow||e.children.forEach((function(e){return a.push(t.renderItem(e))})),n(p,s()([{},{key:e.path}]),[n("span",{slot:"title"},[this.renderIcon(e.meta.icon),n("span",[e.meta.title])]),a])},renderIcon:function(e){var t=this.$createElement;if("none"===e||void 0===e)return null;var n={};return"object"===Object(a["a"])(e)?n.component=e:n.type=e,t(l["a"],{props:u({},n)})}},render:function(){var e=this,t=arguments[0],n=this.mode,a=this.theme,i=this.menu,s={mode:n,theme:a,openKeys:this.openKeys},r={select:function(t){e.selectedKeys=t.selectedKeys,e.$emit("select",t)},openChange:this.onOpenChange},l=i.map((function(t){return t.hidden?null:e.renderItem(t)}));return t(o["a"],{props:u({},s),on:u({},r),model:{value:e.selectedKeys,callback:function(t){e.selectedKeys=t}}},[l])}}},"9eb9":function(e,t,n){},a73d:function(e,t,n){"use strict";var a=n("55f19"),i=n.n(a);i.a},b0d4:function(e,t,n){},b445:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:e.$route.meta.pageHeader?null:"margin: -10px -24px 0;"},[e.$route.meta.pageHeader?e._e():n("page-header",{attrs:{title:e.title,logo:e.logo,avatar:e.avatar}},[e._t("action",null,{slot:"action"}),e._t("headerContent",null,{slot:"content"}),!this.$slots.headerContent&&e.desc?n("div",{attrs:{slot:"content"},slot:"content"},[n("p",{staticStyle:{"font-size":"14px",color:"rgba(0,0,0,.65)"}},[e._v(e._s(e.desc))]),n("div",{staticClass:"link"},[e._l(e.linkList,(function(t,a){return[n("a",{key:a,attrs:{href:t.href}},[n("a-icon",{attrs:{type:t.icon}}),n("span",[e._v(e._s(t.title))])],1)]}))],2)]):e._e(),e._t("extra",null,{slot:"extra"}),n("div",{attrs:{slot:"pageMenu"},slot:"pageMenu"},[e.search?n("div",{staticClass:"page-menu-search"},[n("a-input-search",{staticStyle:{width:"80%","max-width":"522px"},attrs:{placeholder:"请输入...",size:"large",enterButton:"搜索"}})],1):e._e(),e.tabs&&e.tabs.items?n("div",{staticClass:"page-menu-tabs"},[n("a-tabs",{attrs:{tabBarStyle:{margin:0},activeKey:e.tabs.active()},on:{change:e.tabs.callback}},e._l(e.tabs.items,(function(e){return n("a-tab-pane",{key:e.key,attrs:{tab:e.title}})})),1)],1):e._e()])],2),n("div",{staticClass:"content"},[n("div",{class:["page-header-index-wide"]},[e._t("default")],2)])],1)},i=[],s=n("603b"),r={name:"LayoutContent",components:{PageHeader:s["default"]},props:{desc:{type:String,default:null},logo:{type:String,default:null},title:{type:String,default:null},avatar:{type:String,default:null},linkList:{type:Array,default:null},extraImage:{type:String,default:null},search:{type:Boolean,default:!1},tabs:{type:Object,default:function(){}}},methods:{}},o=r,l=(n("1c34"),n("2877")),c=Object(l["a"])(o,a,i,!1,null,"15dc04d7",null);t["default"]=c.exports},b5e4:function(e,t,n){"use strict";var a=n("9eb9"),i=n.n(a);i.a},c1af:function(e,t,n){},e5f9:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-layout-sider",{class:["sider",e.isDesktop()?null:"shadow",e.theme,e.fixSiderbar?"ant-fixed-sidemenu":null],attrs:{width:"200px",collapsible:e.collapsible,trigger:null},model:{value:e.collapsed,callback:function(t){e.collapsed=t},expression:"collapsed"}},[n("logo"),n("s-menu",{style:e.smenuStyle,attrs:{collapsed:e.collapsed,menu:e.menus,theme:e.theme,mode:e.mode},on:{select:e.onSelect}})],1)},i=[],s=n("1fca"),r=n("a250"),o=n("955f"),l=n("ac0d"),c={name:"SideMenu",components:{ALayoutSider:s["a"],Logo:r["default"],SMenu:o["a"]},mixins:[l["a"],l["b"]],props:{mode:{type:String,required:!1,default:"inline"},theme:{type:String,required:!1,default:"dark"},collapsible:{type:Boolean,required:!1,default:!1},collapsed:{type:Boolean,required:!1,default:!1},menus:{type:Array,required:!0}},computed:{smenuStyle:function(){var e={padding:"0"};return this.fixSiderbar&&(e["height"]="calc(100% - 59px)",e["overflow"]="auto",e["overflow-x"]="hidden"),e}},methods:{onSelect:function(e){this.$emit("menuSelect",e)}}},u=c,d=(n("5872"),n("f5ad"),n("2877")),p=Object(d["a"])(u,a,i,!1,null,"28232a4a",null);t["default"]=p.exports},ec25:function(e,t,n){"use strict";var a=n("2308"),i=n.n(a);i.a},f491:function(e,t,n){"use strict";var a=n("344b"),i=n.n(a);i.a},f5ad:function(e,t,n){"use strict";var a=n("1da7"),i=n.n(a);i.a},fbb2:function(e,t,n){}}]);