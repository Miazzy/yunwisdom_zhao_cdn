(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["index~e2e93592"],{0:function(e,n,t){e.exports=t("56d7")},"034f":function(e,n,t){"use strict";var r=t("64a9"),c=t.n(r);c.a},"1f27":function(e,n,t){"use strict";t.d(n,"e",(function(){return c})),t.d(n,"d",(function(){return a})),t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return i})),t.d(n,"f",(function(){return u})),t.d(n,"a",(function(){return s}));var r=t("22b6");function c(){return r["a"].post("project/index")}function a(){return r["a"].post("project/menu/menu")}function o(e){var n="project/menu/menuAdd";return e.id&&(n="project/menu/menuEdit"),r["a"].post(n,e)}function i(e,n){return r["a"].post("project/menu/menuForbid",{id:e,status:n})}function u(e,n){return r["a"].post("project/menu/menuResume",{id:e,status:n})}function s(e){return r["a"].post("project/menu/menuDel",{id:e})}},"22b6":function(e,n,t){"use strict";t("a481"),t("c5f6");var r=t("2f14"),c=t("68fe"),a=t("4360"),o=t("a18c"),i=t("97a8"),u=t("a078"),s=u["a"].HOME_PAGE,d=Object(c["a"])("currentOrganization",!0);d&&(s=s+"/"+d.code);var f=u["a"].crossDomain,l={};f&&(l.withCredentials=!0,l.crossDomain=!0);var m=axios.create(l);m.interceptors.request.use((function(e){if(e.url=r["c"](e.url),"post"===e.method){var n=t("b383");e.data=n.stringify(e.data)}var a=Object(c["a"])("tokenList",!0);if(a){var o=a.accessToken,i=a.tokenType;e.headers.Authorization="".concat(i," ").concat(o)}var u=Object(c["a"])("currentOrganization",!0);return u&&(e.headers.organizationCode=u.code),e}),(function(e){return Promise.reject(e)})),m.interceptors.response.use((function(e){switch(e=e.data,e.code=Number(e.code),e.code){case 200:return""!==e.msg&&Object(i["b"])(e.msg,"message","success"),Promise.resolve(e);case 401:return o["a"].replace("/member/login?redirect="+o["a"].currentRoute.fullPath),a["a"].dispatch("SET_LOGOUT"),Promise.resolve(e);case 403:return Object(i["b"])({title:""!==e.msg?e.msg:"无权限操作资源，访问被拒绝"},"notice","error",5),Promise.resolve(e);case 4031:return Object(i["b"])({title:""!==e.msg?e.msg:"无权限操作资源，访问被拒绝"},"notice","error",5),o["a"].replace(s),Promise.resolve(e);case 4041:return Object(i["b"])({title:""!==e.msg?e.msg:"资源不存在"},"notice","warning",5),o["a"].replace(s),Promise.resolve(e)}return 200===e.code?(Object(i["b"])({title:"请求错误 "+e.code,desc:e.msg},"notice","warning",5),Promise.resolve(e)):(""!==e.msg&&Object(i["b"])({title:e.msg},"notice","error",5),Promise.resolve(e))}),(function(e){var n=e.response.data;switch(console.log(n),n.code=Number(n.code),antd.message.destroy(),n.code){default:return""!==n.msg&&Object(i["b"])({title:n.msg},"notice","error",5),Promise.reject(e)}})),n["a"]=m},"2f14":function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return u})),t.d(n,"e",(function(){return s})),t.d(n,"g",(function(){return d})),t.d(n,"c",(function(){return f})),t.d(n,"h",(function(){return l})),t.d(n,"i",(function(){return m})),t.d(n,"d",(function(){return h})),t.d(n,"f",(function(){return p}));t("3b2b"),t("7618");var r=t("97a8"),c=t("a078"),a=t("68fe"),o=c["a"].PROD_URL,i=(c["a"].crossDomain,function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e.code,c=e.msg;return 200===t||(n&&Object(r["b"])(c),!1)}),u=function(e){var n=e.url;e.params&&(n+="/"+e.params);var r=e.url;return e.file_path&&(r=e.file_path),{name:e.id,path:n,component:function(e){return Promise.all([t.e("chunk-2d212b99"),t.e("chunk-2d0b8e09"),t.e("chunk-57f8c6e2"),t.e("chunk-5dcff207"),t.e("chunk-62f10711"),t.e("chunk-2d0be333"),t.e("chunk-27d56146"),t.e("chunk-2d0d5f54"),t.e("chunk-ef4a5428"),t.e("chunk-78d43caa"),t.e("chunk-0658382a"),t.e("chunk-7d4fb25e"),t.e("chunk-539e6b55"),t.e("chunk-2d21d807"),t.e("chunk-1c43de67"),t.e("chunk-203ddbda"),t.e("chunk-5b574b8c"),t.e("chunk-2d0c8f68"),t.e("chunk-0e8f6470"),t.e("chunk-b277f35e"),t.e("chunk-333c2682"),t.e("chunk-3a022804"),t.e("chunk-414234bb"),t.e("chunk-68c54e24"),t.e("chunk-35f4c73a"),t.e("chunk-1740f076"),t.e("chunk-2e6193dc"),t.e("chunk-1a26cb3e"),t.e("chunk-23832ffe"),t.e("chunk-13dabbfd"),t.e("chunk-b38b7564"),t.e("chunk-280adcb7"),t.e("chunk-de711990"),t.e("chunk-2d0b24b9"),t.e("chunk-2d0e59b3"),t.e("chunk-2d0a386f"),t.e("chunk-2d225822"),t.e("chunk-f90d96b8"),t.e("chunk-2d0b5978"),t.e("chunk-32393c05"),t.e("chunk-37a1802c"),t.e("chunk-4cb57cf6"),t.e("chunk-c900a6ee"),t.e("chunk-63388c92"),t.e("chunk-4787904f"),t.e("chunk-6326676d"),t.e("chunk-8e6bd502"),t.e("chunk-cb0398fe"),t.e("chunk-7defbe3b"),t.e("chunk-58147b04"),t.e("chunk-41bebdf8"),t.e("chunk-5e47a13e"),t.e("chunk-1dff8eba"),t.e("chunk-1263ff13"),t.e("chunk-2d0f0d74"),t.e("chunk-8de3a230"),t.e("chunk-890034fe"),t.e("chunk-355acd60"),t.e("chunk-1d8f903f"),t.e("chunk-041ac7f5"),t.e("chunk-521fd5c2"),t.e("chunk-98758694"),t.e("chunk-85f5711e"),t.e("chunk-1055cc1e"),t.e("chunk-37ad213c"),t.e("chunk-627a41b5"),t.e("chunk-0b9caf2f"),t.e("chunk-1dca0416"),t.e("chunk-3b190966"),t.e("chunk-fd1d3ae2"),t.e("chunk-4498d791"),t.e("chunk-782f34f4"),t.e("chunk-2190bfe2"),t.e("chunk-2d207f85"),t.e("chunk-43603d05"),t.e("chunk-7060fb44"),t.e("chunk-c398ed7a"),t.e("chunk-ba28c1f8"),t.e("chunk-341a6544"),t.e("chunk-5bd6c6b7"),t.e("chunk-725231d4"),t.e("chunk-004dfc7c"),t.e("chunk-7ec1d87a"),t.e("chunk-48887ad0"),t.e("chunk-ffa48496"),t.e("chunk-145b61a4"),t.e("chunk-7c48bb1e"),t.e("chunk-00cbf0e5"),t.e("chunk-064c0a1e"),t.e("chunk-dd3c6214"),t.e("chunk-ddef0a54"),t.e("chunk-487da7ff"),t.e("chunk-b89a7062"),t.e("chunk-5c291768"),t.e("chunk-d7eb89a6"),t.e("chunk-4410a403"),t.e("chunk-779c388f"),t.e("chunk-2011c0bd"),t.e("chunk-266527f2"),t.e("chunk-7e6b075c"),t.e("chunk-ea6da16c"),t.e("chunk-a52cf072"),t.e("chunk-f4cfad74"),t.e("chunk-3dc17e16"),t.e("chunk-6c017cd4"),t.e("chunk-463410bb"),t.e("chunk-6fc80668"),t.e("chunk-6ff0db68")]).then(function(){var n=[t("4b3b")("./"+r)];e.apply(null,n)}.bind(this)).catch(t.oe)},meta:{model:e.pid,info:e}}},s=function(e,n){var t=new FileReader;t.addEventListener("load",(function(){return n(t.result)})),t.readAsDataURL(e)},d=function(e){return o+"/"+e},f=function(e){return o+"/"+e},l=function(e){var n="";return n+f(e)};function m(){var e=new Date,n=e.getHours();return n<9?"早上好":n<=11?"上午好":n<=13?"中午好":n<20?"下午好":"晚上好"}function h(){var e=Object(a["a"])("tokenList",!0);if(e){var n=e.accessToken,t=e.tokenType;return{Authorization:"".concat(t," ").concat(n)}}return{}}var p=function(e,n){n=n||document,e=e||"*";var t=[];if(document.getElementsByClassName)return document.getElementsByClassName(e);for(var r=document.getElementsByTagName(n),c=new RegExp("(^|\\s)"+e+"(\\s|$)"),a=0;a<r.length;a++)c.test(r[a].className)&&t.push(r[a])};Array.prototype.each=function(e){try{if(this.i||(this.i=0),this.length>0&&e.constructor===Function)while(this.i<this.length){var n=this[this.i];n&&n.constructor===Array?n.each(e):e.call(n,n),this.i++}this.i=null}catch(t){console.log(t)}}},"365c":function(e,n,t){"use strict";var r={Login:"".concat(window._CONFIG["domainURL"],"/sys/login"),Logout:"".concat(window._CONFIG["domainURL"],"/sys/logout"),ForgePassword:"".concat(window._CONFIG["domainURL"],"/auth/forge-password"),Register:"".concat(window._CONFIG["domainURL"],"/auth/register"),SendSms:"".concat(window._CONFIG["domainURL"],"/account/sms"),UserInfo:"".concat(window._CONFIG["domainURL"],"/user/info")};n["a"]=r},"3dfd":function(e,n,t){"use strict";t.r(n);var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("a-locale-provider",{attrs:{locale:e.locale}},[t("div",{attrs:{id:"app"}},[t("router-view")],1)])},c=[],a=t("677e"),o=t.n(a),i=t("51e6"),u=(t("0fea"),{data:function(){return{locale:o.a}},created:function(){var e=this;Object(i["a"])((function(n){0===n?(e.$store.commit("TOGGLE_DEVICE","mobile"),e.$store.dispatch("setSidebar",!1)):1===n?(e.$store.commit("TOGGLE_DEVICE","mobile"),e.$store.dispatch("setSidebar",!1)):(e.$store.commit("TOGGLE_DEVICE","desktop"),e.$store.dispatch("setSidebar",!0))}))}}),s=u,d=(t("034f"),t("2877")),f=Object(d["a"])(s,r,c,!1,null,null,null);n["default"]=f.exports},"4ec3":function(e,n,t){"use strict";t.d(n,"f",(function(){return U})),t.d(n,"d",(function(){return c})),t.d(n,"q",(function(){return a})),t.d(n,"e",(function(){return i})),t.d(n,"r",(function(){return u})),t.d(n,"N",(function(){return s})),t.d(n,"z",(function(){return d})),t.d(n,"O",(function(){return o})),t.d(n,"s",(function(){return f})),t.d(n,"h",(function(){return l})),t.d(n,"g",(function(){return m})),t.d(n,"u",(function(){return b})),t.d(n,"c",(function(){return h})),t.d(n,"p",(function(){return p})),t.d(n,"J",(function(){return w})),t.d(n,"I",(function(){return _})),t.d(n,"R",(function(){return g})),t.d(n,"H",(function(){return k})),t.d(n,"v",(function(){return v})),t.d(n,"G",(function(){return O})),t.d(n,"C",(function(){return R})),t.d(n,"E",(function(){return x})),t.d(n,"S",(function(){return j})),t.d(n,"j",(function(){return L})),t.d(n,"a",(function(){return I})),t.d(n,"n",(function(){return N})),t.d(n,"b",(function(){return F})),t.d(n,"o",(function(){return C})),t.d(n,"k",(function(){return T})),t.d(n,"l",(function(){return G})),t.d(n,"t",(function(){return D})),t.d(n,"A",(function(){return A})),t.d(n,"M",(function(){return P})),t.d(n,"m",(function(){return q})),t.d(n,"L",(function(){return y}));var r=t("0fea"),c=function(e){return Object(r["postAction"])("".concat(window._CONFIG["domainURL"],"/sys/role/add"),e)},a=function(e){return Object(r["putAction"])("".concat(window._CONFIG["domainURL"],"/sys/role/edit"),e)},o=function(e){return Object(r["getAction"])("".concat(window._CONFIG["domainURL"],"/sys/role/queryall"),e)},i=function(e){return Object(r["postAction"])("".concat(window._CONFIG["domainURL"],"/sys/user/add"),e)},u=function(e){return Object(r["putAction"])("".concat(window._CONFIG["domainURL"],"/sys/user/edit"),e)},s=function(e){return Object(r["getAction"])("".concat(window._CONFIG["domainURL"],"/sys/user/queryUserRole"),e)},d=function(e){return Object(r["getAction"])("".concat(window._CONFIG["domainURL"],"/sys/user/list"),e)},f=function(e){return Object(r["putAction"])("".concat(window._CONFIG["domainURL"],"/sys/user/frozenBatch"),e)},l=function(e){return Object(r["getAction"])("".concat(window._CONFIG["domainURL"],"/sys/user/checkOnlyUser"),e)},m=function(e){return Object(r["putAction"])("".concat(window._CONFIG["domainURL"],"/sys/user/changPassword"),e)},h=function(e){return Object(r["postAction"])("".concat(window._CONFIG["domainURL"],"/sys/permission/add"),e)},p=function(e){return Object(r["putAction"])("".concat(window._CONFIG["domainURL"],"/sys/permission/edit"),e)},b=function(e){return Object(r["getAction"])("".concat(window._CONFIG["domainURL"],"/sys/permission/list"),e)},w=function(e){return Object(r["getAction"])("".concat(window._CONFIG["domainURL"],"/sys/permission/queryTreeList"),e)},y=function(e){return Object(r["getAction"])("".concat(window._CONFIG["domainURL"],"/sys/role/queryTreeList"),e)},_=function(e){return Object(r["getAction"])("".concat(window._CONFIG["domainURL"],"/sys/permission/queryRolePermission"),e)},g=function(e){return Object(r["postAction"])("".concat(window._CONFIG["domainURL"],"/sys/permission/saveRolePermission"),e)},k=function(e){return Object(r["getAction"])("".concat(window._CONFIG["domainURL"],"/sys/permission/getUserPermissionByToken"),e)},v=function(e){return Object(r["getAction"])("".concat(window._CONFIG["domainURL"],"/sys/permission/getPermRuleListByPermId"),e)},O=function(e){return Object(r["getAction"])("".concat(window._CONFIG["domainURL"],"/sys/permission/queryPermissionRule"),e)},R=function(e){return Object(r["getAction"])("".concat(window._CONFIG["domainURL"],"/sys/sysDepart/queryTreeList"),e)},x=function(e){return Object(r["getAction"])("".concat(window._CONFIG["domainURL"],"/sys/sysDepart/queryIdTree"),e)},j=function(e){return Object(r["getAction"])("".concat(window._CONFIG["domainURL"],"/sys/sysDepart/searchBy"),e)},L=function(e){return Object(r["deleteAction"])("".concat(window._CONFIG["domainURL"],"/sys/sysDepart/delete"),e)},I=function(e){return Object(r["postAction"])("".concat(window._CONFIG["domainURL"],"/sys/dict/add"),e)},N=function(e){return Object(r["putAction"])("".concat(window._CONFIG["domainURL"],"/sys/dict/edit"),e)},F=function(e){return Object(r["postAction"])("".concat(window._CONFIG["domainURL"],"/sys/dictItem/add"),e)},C=function(e){return Object(r["putAction"])("".concat(window._CONFIG["domainURL"],"/sys/dictItem/edit"),e)},U=function(e,n){return Object(r["getAction"])("".concat(window._CONFIG["domainURL"],"/sys/dict/getDictItems/").concat(e),n)},T=function(e){return Object(r["getAction"])("".concat(window._CONFIG["domainURL"],"/sys/annountCement/doReleaseData"),e)},G=function(e){return Object(r["getAction"])("".concat(window._CONFIG["domainURL"],"/sys/annountCement/doReovkeData"),e)},D=function(e){return Object(r["getAction"])("".concat(window._CONFIG["domainURL"],"/sys/loginfo"),e)},A=function(e){return Object(r["getAction"])("".concat(window._CONFIG["domainURL"],"/sys/visitInfo"),e)},P=function(e){return Object(r["getAction"])("".concat(window._CONFIG["domainURL"],"/sys/user/queryUserByDepId"),e)},q=function(e){return Object(r["getAction"])("".concat(window._CONFIG["domainURL"],"/sys/duplicate/check"),e)}},"64a9":function(e,n,t){},"68fe":function(e,n,t){"use strict";t.d(n,"c",(function(){return c})),t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return o}));t("28a5");var r="ep_",c=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!e)return!1;if(e=r+e,"string"!==typeof n&&(n=JSON.stringify(n)),t){var a=new Date;n+=c>0?"&"+(a.getTime()+3600*c*1e3):"&0",n+="&"+a.getTime()}window.localStorage.setItem(e,n)},a=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!e&&(e=r+e,n&&"string"==typeof window.localStorage.getItem(e)&&"undefined"!=window.localStorage.getItem(e)?JSON.parse(window.localStorage.getItem(e)):window.localStorage.getItem(e))},o=function(e){if(!e)return!1;e=r+e,window.localStorage.removeItem(e)}},"7ded":function(e,n,t){"use strict";t.d(n,"a",(function(){return c})),t.d(n,"c",(function(){return a})),t.d(n,"b",(function(){return o}));t("365c");var r=t("b775");function c(e){try{return Object(r["b"])({url:"".concat(window._CONFIG["domainURL"],"/sys/login"),method:"post",data:e})}catch(n){console.log(n)}}function a(e){try{return Object(r["b"])({url:"".concat(window._CONFIG["domainURL"],"/sys/phoneLogin"),method:"post",data:e})}catch(n){console.log(n)}}function o(e){try{return Object(r["b"])({url:"".concat(window._CONFIG["domainURL"],"/sys/logout"),method:"post",headers:{"Content-Type":"application/json;charset=UTF-8","X-Access-Token":e}})}catch(n){console.log(n)}}},"97a8":function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return c}));var r=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"message",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"warning",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bottomLeft";c();var o={};if(o.duration=r,"message"===n)switch(t){case"info":return antd.message.info(e,r);case"success":return antd.message.success(e,r);case"error":return antd.message.error(e,r);case"loading":return antd.message.loading(e,r);default:return antd.message.warning(e,r)}else switch(o.message=e.title,o.description=e.msg||"",o.placement=a,t){case"open":return antd.notification.open(o);case"info":return antd.notification.info(o);case"success":return antd.notification.success(o);case"error":return antd.notification.error(o);default:return antd.notification.warning(o)}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e?"message"===e?antd.message.destroy():antd.notification.destroy():(antd.message.destroy(),antd.notification.destroy())}},"9b19":function(e,n,t){e.exports=t.p+"assets/logo.d6db7fad.svg"},f36f:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"d",(function(){return s})),t.d(n,"c",(function(){return f})),t.d(n,"a",(function(){return _})),t.d(n,"e",(function(){return g}));t("7514"),t("7f7f"),t("aef6"),t("f559"),t("a481"),t("96cf"),t("6762"),t("2fdb");var r=t("3b8d"),c=t("0fea"),a=t("ca00"),o=t("5d2d");function i(e,n,t,r,c,a,o,i,s,d){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark((function e(n,t,o,i,u,s,d,f,l,h){var b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return b=null,e.prev=1,e.next=4,c["postTableData"]("BS_TRANSACTION",o);case 4:b=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),console.log("流程事务处理框架处理异常",e.t0);case 10:if(e.prev=10,null==i){e.next=15;break}return e.next=14,c["postProcessLog"](i);case 14:b=e.sent;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e["catch"](10),console.log("审批处理下一节点的审批信息",e.t1);case 20:if(e.prev=20,null==n||null==t||null==u||null==s){e.next=35;break}return e.next=24,c["postProcessLogHistory"](u);case 24:return b=e.sent,e.next=27,c["deleteProcessLog"](n,u);case 27:return b=e.sent,e.next=30,c["patchTableData"](n,t["business_data_id"],s);case 30:return b=e.sent,e.next=33,c["transFreeWflowHis"](t["business_data_id"]);case 33:b=e.sent,setTimeout(Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["patchTableData"](n,t["business_data_id"],s);case 2:b=e.sent;case 3:case"end":return e.stop()}}),e)}))),100);case 35:e.next=40;break;case 37:e.prev=37,e.t2=e["catch"](20),console.log("审批处理当前节点的审批信息",e.t2);case 40:return e.prev=40,d.audit_node=",".concat(d.audit_node,","),a["e"](f)&&!d.audit_node.includes(f)&&(d.audit_node=d.audit_node.replace(",".concat(h,","),",".concat(h,",").concat(f,","))),a["e"](l)&&!d.audit_node.includes(l)&&(d.audit_node=d.audit_node.replace(",".concat(h,","),",".concat(l,",").concat(h,","))),a["e"](l)&&d.audit_node.indexOf(h)!=d.audit_node.lastIndexOf(h)&&(d.audit_node=d.audit_node.replace(",".concat(h,","),",")),d.audit_node.startsWith(",")&&(d.audit_node=d.audit_node.substring(1)),d.audit_node.endsWith(",")&&(d.audit_node=d.audit_node.substring(0,d.audit_node.length-1)),e.next=49,c["patchTableData"]("bs_free_process",d["id"],{audit_node:d.audit_node});case 49:b=e.sent,e.next=55;break;case 52:e.prev=52,e.t3=e["catch"](40),console.log(e.t3);case 55:if(e.prev=55,"1"!=s.bpm_status){e.next=61;break}return e.next=59,m(n,t);case 59:e.next=69;break;case 61:if("4"!=s.bpm_status){e.next=66;break}return e.next=64,p(n,t);case 64:e.next=69;break;case 66:if("5"!=s.bpm_status){e.next=69;break}return e.next=69,w(n,t);case 69:e.next=74;break;case 71:e.prev=71,e.t4=e["catch"](55),console.log(e.t4);case 74:return console.log("加签用户："+f),console.log("会签用户："+l),e.abrupt("return",b);case 77:case"end":return e.stop()}}),e,null,[[1,7],[10,17],[20,37],[40,52],[55,71]])}))),u.apply(this,arguments)}function s(e,n,t,r,c,a){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark((function e(n,t,i,u,s,d){var f,l,m,h,p,b,w,y,_;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:f=null,l={bpm_status:d},m={};try{i.notify_node=i.notify_node.replace(/undefined/g,""),i.notify_node.startsWith(",")&&(i.notify_node=i.notify_node.substring(1)),i.notify_node.endsWith(",")&&(i.notify_node=i.notify_node.substring(0,i.notify_node.length-1))}catch(g){console.log(g)}return e.prev=4,h=(new Date).getTime(),p=a["m"](),b=o["e"]("cur_user"),e.next=10,c["queryTableData"](n,t.id);case 10:return w=e.sent,e.next=13,c["queryTableDataByField"]("v_table_name","id",n);case 13:y=e.sent;try{y=y[0]["name"]}catch(g){console.log(g)}_="<div><span>"+b["realname"]+'</span> 发起了 <a href="/workflow/view?table_name='.concat(n,"&id=").concat(t.id,"&user=").concat(b.username,'&type=notify">')+y+'</a> 的 <a href="/workflow/view?table_name='.concat(n,"&id=").concat(t.id,"&user=").concat(b.username,'&type=notify">流程申请</a> ')+"</div>",m={id:p,create_by:b["username"],create_time:a["i"](h,"yyyy-MM-dd hh:mm:ss"),update_by:b.username,title:_,content:_,main_key:t.id,main_table:n,main_data:JSON.stringify(w),relate_users:"".concat(i.audit_node,",").concat(i.approve_node,",").concat(i.notify_node,",").concat(b.username,",admin,")},i["main_data"]=JSON.stringify(w),e.next=23;break;case 20:e.prev=20,e.t0=e["catch"](4),console.log(e.t0);case 23:return e.prev=23,e.next=26,c["postProcessFreeNode"](i);case 26:return f=e.sent,e.next=29,c["postProcessLogHistory"](u);case 29:return f=e.sent,e.next=32,c["postProcessLog"](s);case 32:return f=e.sent,e.next=35,c["patchTableData"](n,t["id"],l);case 35:return f=e.sent,e.next=38,c["postTableData"]("bs_dynamic",m);case 38:f=e.sent,setTimeout(Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["patchTableData"](n,t["id"],l);case 2:f=e.sent;case 3:case"end":return e.stop()}}),e)}))),100),e.next=45;break;case 42:e.prev=42,e.t1=e["catch"](23),console.log("处理自由流程发起提交审批操作异常："+e.t1);case 45:return e.abrupt("return",f);case 46:case"end":return e.stop()}}),e,null,[[4,20],[23,42]])}))),d.apply(this,arguments)}function f(e,n,t){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(regeneratorRuntime.mark((function e(n,t,i){var u,s,d,f,l,m,h,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={},e.prev=1,d=(new Date).getTime(),f=a["m"](),l=o["e"]("cur_user"),e.next=7,c["queryTableData"](n,t.id);case 7:return m=e.sent,e.next=10,c["queryTableDataByField"]("v_table_name","id",n);case 10:h=e.sent;try{h=h[0]["name"]}catch(b){console.log(b)}p="<div><span>"+l["realname"]+'</span> 撤销了 <a href="/workflow/view?table_name='.concat(n,"&id=").concat(t.id,"&user=").concat(l.username,'&type=notify">')+h+'</a> 的 <a href="/workflow/view?table_name='.concat(n,"&id=").concat(t.id,"&user=").concat(l.username,'&type=notify">流程申请</a> ')+"</div>",s={id:f,create_by:l["username"],create_time:a["i"](d,"yyyy-MM-dd hh:mm:ss"),update_by:l.username,title:p,content:p,main_key:t.id,main_table:n,main_data:JSON.stringify(m),relate_users:",".concat(l.username,",admin,")},e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](1),console.log(e.t0);case 19:return e.prev=19,e.next=22,c["postProcessLogHistory"](i);case 22:return u=e.sent,e.next=25,c["deleteProcessLog"](n,i);case 25:return u=e.sent,e.next=28,c["patchTableData"](n,t["id"],{bpm_status:"1"});case 28:return u=e.sent,e.next=31,c["postTableData"]("bs_dynamic",s);case 31:u=e.sent,setTimeout(Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["patchTableData"](n,t["id"],{bpm_status:"1"});case 2:u=e.sent;case 3:case"end":return e.stop()}}),e)}))),100),e.next=38;break;case 35:e.prev=35,e.t1=e["catch"](19),console.log(e.t1);case 38:return e.abrupt("return",u);case 39:case"end":return e.stop()}}),e,null,[[1,16],[19,35]])}))),l.apply(this,arguments)}function m(e,n){return h.apply(this,arguments)}function h(){return h=Object(r["a"])(regeneratorRuntime.mark((function e(n,t){var r,i,u,s,d,f,l,m,h,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={},e.prev=1,u=(new Date).getTime(),s=a["m"](),d=o["e"]("cur_user"),e.next=7,c["queryUserName"]();case 7:return f=e.sent,e.next=10,c["queryTableData"](n,t.main_value);case 10:return l=e.sent,e.next=13,c["queryTableDataByField"]("v_table_name","id",n);case 13:m=e.sent;try{m=m[0]["name"]}catch(b){console.log(b)}return h=t.proponents,h=window.__.find(f,(function(e){return t.proponents==e.username})),p="<div><span>"+d["realname"]+"</span> 驳回了 <span>"+h.realname+'</span> 发起的 <a href="/workflow/view?table_name='.concat(n,"&id=").concat(t.main_value,"&user=").concat(d.username,'&type=notify">')+m+'</a> 的 <a href="/workflow/view?table_name='.concat(n,"&id=").concat(t.main_value,"&user=").concat(d.username,'&type=notify">流程申请</a> ')+"</div>",i={id:s,create_by:d["username"],create_time:a["i"](u,"yyyy-MM-dd hh:mm:ss"),update_by:h.username,title:p,content:p,main_key:t.main_value,main_table:n,main_data:JSON.stringify(l),relate_users:",".concat(d.username,",").concat(h.username,",admin,")},e.next=21,c["postTableData"]("bs_dynamic",i);case 21:r=e.sent,e.next=27;break;case 24:e.prev=24,e.t0=e["catch"](1),console.log(e.t0);case 27:return e.abrupt("return",r);case 28:case"end":return e.stop()}}),e,null,[[1,24]])}))),h.apply(this,arguments)}function p(e,n){return b.apply(this,arguments)}function b(){return b=Object(r["a"])(regeneratorRuntime.mark((function e(n,t){var r,i,u,s,d,f,l,m,h,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={},e.prev=1,u=(new Date).getTime(),s=a["m"](),d=o["e"]("cur_user"),e.next=7,c["queryUserName"]();case 7:return f=e.sent,e.next=10,c["queryTableData"](n,t.main_value);case 10:return l=e.sent,e.next=13,c["queryTableDataByField"]("v_table_name","id",n);case 13:m=e.sent;try{m=m[0]["name"]}catch(b){console.log(b)}return h=t.proponents,h=window.__.find(f,(function(e){return t.proponents==e.username})),p="<div><span>"+d["realname"]+"</span> 同意了 <span>"+h.realname+'</span> 发起的 <a href="/workflow/view?table_name='.concat(n,"&id=").concat(t.main_value,"&user=").concat(d.username,'&type=notify">')+m+'</a> 的 <a href="/workflow/view?table_name='.concat(n,"&id=").concat(t.main_value,"&user=").concat(d.username,'&type=notify">流程申请</a> ')+"</div>",i={id:s,create_by:d["username"],create_time:a["i"](u,"yyyy-MM-dd hh:mm:ss"),update_by:h.username,title:p,content:p,main_key:t.main_value,main_table:n,main_data:JSON.stringify(l),relate_users:",".concat(d.username,",").concat(h.username,",admin,")},e.next=21,c["postTableData"]("bs_dynamic",i);case 21:r=e.sent,e.next=27;break;case 24:e.prev=24,e.t0=e["catch"](1),console.log(e.t0);case 27:return e.abrupt("return",r);case 28:case"end":return e.stop()}}),e,null,[[1,24]])}))),b.apply(this,arguments)}function w(e,n){return y.apply(this,arguments)}function y(){return y=Object(r["a"])(regeneratorRuntime.mark((function e(n,t){var r,i,u,s,d,f,l,m,h,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={},e.prev=1,u=(new Date).getTime(),s=a["m"](),d=o["e"]("cur_user"),e.next=7,c["queryUserName"]();case 7:return f=e.sent,e.next=10,c["queryTableData"](n,t.main_value);case 10:return l=e.sent,e.next=13,c["queryTableDataByField"]("v_table_name","id",n);case 13:m=e.sent;try{m=m[0]["name"]}catch(b){console.log(b)}return h=t.proponents,h=window.__.find(f,(function(e){return t.proponents==e.username})),p="<div><span>"+h.realname+'</span> 发起的 <a href="/workflow/view?table_name='.concat(n,"&id=").concat(t.main_value,"&user=").concat(d.username,'&type=notify">')+m+'</a> 的 <a href="/workflow/view?table_name='.concat(n,"&id=").concat(t.main_value,"&user=").concat(d.username,'&type=notify" >流程申请</a> 流程走完且知会通知完毕')+"</div>",i={id:s,create_by:d["username"],create_time:a["i"](u,"yyyy-MM-dd hh:mm:ss"),update_by:h.username,title:p,content:p,main_key:t.main_value,main_table:n,main_data:JSON.stringify(l),relate_users:",".concat(d.username,",").concat(h.username,",admin,")},e.next=21,c["postTableData"]("bs_dynamic",i);case 21:r=e.sent,e.next=27;break;case 24:e.prev=24,e.t0=e["catch"](1),console.log(e.t0);case 27:return e.abrupt("return",r);case 28:case"end":return e.stop()}}),e,null,[[1,24]])}))),y.apply(this,arguments)}function _(e,n,t,r,c){try{if(""==a["e"](t)&&"workflowing"==r)return c({title:"温馨提示",content:"请选择审批用户!"}),!1;if(a["e"](t).includes(",")&&"workflowing"==r)return c({title:"温馨提示",content:"审批用户只能选择一个!"}),!1;if(""==a["e"](n)&&"notifying"==r)return c({title:"温馨提示",content:"请选择知会用户!"}),!1;if((","+e+",").includes(","+t+",")&&"workflowing"==r)return c({title:"温馨提示",content:"审批流程中，审批人员[".concat(t,"]不能出现在审核人员中!")}),!1}catch(o){console.log("check submit info error : "+o)}return!0}function g(e){return k.apply(this,arguments)}function k(){return k=Object(r["a"])(regeneratorRuntime.mark((function e(n){var t,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c["queryHisFreeWorkflow"](n);case 3:return r=e.sent,e.next=6,c["insertTableData"]("bs_free_process_h",r);case 6:return a=e.sent,e.next=9,c["deleteTableItem"]("bs_free_process",r);case 9:t=e.sent,console.log("result :"+t+" wcode :"+a),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),console.log("transfer free workflow node into history "+e.t0);case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),k.apply(this,arguments)}}}]);