(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8e6bd502"],{"0078":function(t,e,i){},"096e":function(t,e,i){},1542:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"editable-cell"},[t.editable?i("div",{staticClass:"editable-cell-input-wrapper"},[i("a-input",{attrs:{value:t.value},on:{change:t.handleChange,pressEnter:t.check}}),i("a-icon",{staticClass:"editable-cell-icon-check",attrs:{type:"check"},on:{click:t.check}})],1):i("div",{staticClass:"editable-cell-text-wrapper"},[t.value?i("span",[t._v(t._s(t.value))]):0==t.value?i("span",[t._v(t._s(t.value))]):i("span"),i("a-icon",{staticClass:"editable-cell-icon",attrs:{type:"edit"},on:{click:t.edit}})],1)])},o=[],a=(i("c5f6"),{name:"EditableCell",components:{"a-input":antd.Input,"a-icon":antd.Icon},props:{text:[String,Number],showEdit:{type:[Boolean]}},data:function(){return{value:this.text,editable:!1}},methods:{handleChange:function(t){var e=t.target.value;this.value=e},check:function(){this.editable=!1,this.$emit("change",this.value)},edit:function(){this.editable=!0}}}),n=a,r=(i("5092"),i("2877")),l=Object(r["a"])(n,s,o,!1,null,null,null);e["default"]=l.exports},"2ca2":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=this,i=e.$createElement,s=e._self._c||i;return s("a-modal",{attrs:{centered:"",maskClosable:!1},on:{cancel:e.handleCancel},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[s("div",{style:{textAlign:"center"},attrs:{slot:"title"},slot:"title"},[e._v("两步验证")]),s("template",{slot:"footer"},[s("div",{style:{textAlign:"center"}},[s("a-button",{key:"back",on:{click:e.handleCancel}},[e._v("返回")]),s("a-button",{key:"submit",attrs:{type:"primary",loading:e.stepLoading},on:{click:e.handleStepOk}},[e._v("\n        继续\n      ")])],1)]),s("a-spin",{attrs:{spinning:e.stepLoading}},[s("a-form",{attrs:{layout:"vertical","auto-form-create":function(e){t.form=e}}},[s("div",{staticClass:"step-form-wrapper"},[e.stepLoading?s("p",{staticStyle:{"text-align":"center"}},[e._v("正在验证.."),s("br"),e._v("请稍后")]):s("p",{staticStyle:{"text-align":"center"}},[e._v("请在手机中打开 Google Authenticator 或两步验证 APP"),s("br"),e._v("输入 6 位动态码")]),s("a-form-item",{style:{textAlign:"center"},attrs:{hasFeedback:"",fieldDecoratorId:"stepCode",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入 6 位动态码!",pattern:/^\d{6}$/,len:6}]}}},[s("a-input",{style:{textAlign:"center"},attrs:{placeholder:"000000"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleStepOk(t)}}})],1),s("p",{staticStyle:{"text-align":"center"}},[s("a",{on:{click:e.onForgeStepCode}},[e._v("遗失手机?")])])],1)])],1)],2)},o=[],a={props:{visible:{type:Boolean,default:!1}},data:function(){return{stepLoading:!1,form:null}},methods:{handleStepOk:function(){var t=this,e=this;this.stepLoading=!0,this.form.validateFields((function(i,s){if(!i)return console.log("values",s),void setTimeout((function(){e.stepLoading=!1,e.$emit("success",{values:s})}),2e3);t.stepLoading=!1,t.$emit("error",{err:i})}))},handleCancel:function(){this.visible=!1,this.$emit("cancel")},onForgeStepCode:function(){}}},n=a,r=(i("3aca"),i("2877")),l=Object(r["a"])(n,s,o,!1,null,"ab1e4d58",null);e["default"]=l.exports},"3aca":function(t,e,i){"use strict";var s=i("de70"),o=i.n(s);o.a},5092:function(t,e,i){"use strict";var s=i("0078"),o=i.n(s);o.a},"81d1":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"head-info",class:t.center&&"center"},[i("span",[t._v(t._s(t.title))]),i("p",[t._v(t._s(t.content))]),t.bordered?i("em"):t._e()])},o=[],a={name:"HeadInfo",props:{title:{type:String,default:""},content:{type:String,default:""},bordered:{type:Boolean,default:!1},center:{type:Boolean,default:!0}}},n=a,r=(i("c002"),i("2877")),l=Object(r["a"])(n,s,o,!1,null,"35671dcd",null);e["default"]=l.exports},8215:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-uploader",class:{"hidden-files":!t.showFiles,"hidden-uploader":!t.showUploader}},[i("a-card",{attrs:{title:t.uploaderTitle}},[i("div",{staticClass:"actions",attrs:{slot:"extra"},slot:"extra"},[i("a",{staticClass:"muted action-item",on:{click:function(e){t.showFiles=!t.showFiles}}},[i("a-icon",{directives:[{name:"show",rawName:"v-show",value:t.showFiles,expression:"showFiles"}],attrs:{type:"shrink"}}),i("a-icon",{directives:[{name:"show",rawName:"v-show",value:!t.showFiles,expression:"!showFiles"}],attrs:{type:"arrows-alt"}})],1),i("a",{staticClass:"muted action-item",on:{click:t.closeUploader}},[i("a-icon",{attrs:{type:"close"}})],1)]),i("uploader",{ref:"uploader",staticClass:"uploader-workplace",attrs:{options:t.options,autoStart:t.autoStart},on:{"files-submitted":t.filesSubmitted,"file-progress":t.fileProgress,"file-success":t.fileSuccess,"file-error":t.fileError,"file-complete":t.fileComplete,complete:t.complete}},[i("vue-scroll",[i("uploader-list",{scopedSlots:t._u([{key:"default",fn:function(e){return[i("ul",{staticClass:"uploader-wrapper"},t._l(e.fileList,(function(e){return i("uploader-file",{key:e.id,attrs:{file:e,list:!0},scopedSlots:t._u([{key:"default",fn:function(e){return[i("li",{staticClass:"uploader-item"},[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-info"},[i("div",{staticClass:"file-item"},[i("div",{staticClass:"file-icon"},[i("a-avatar",{attrs:{icon:"link",shape:"square",src:e.file.fileUrl}})],1),i("div",{staticClass:"file-info"},[i("div",{staticClass:"file-content"},[i("div",{staticClass:"file-title"},[i("a-tooltip",{attrs:{placement:"top",mouseEnterDelay:.3,title:e.file.name}},[t._v(t._s(e.file.name))])],1),i("div",{staticClass:"file-extra"},[i("span",[t._v(t._s(e.file.projectName?e.file.projectName:t.tempData.projectName))]),"success"==e.status?i("span",[t._v("("+t._s(e.formatedSize)+")")]):i("span",[t._v("("+t._s((Number(e.uploadedSize)/1024e3).toFixed(2))+"MB/"+t._s(e.formatedSize)+")")])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:"success"!=e.status,expression:"file.status != 'success'"}],staticClass:"uploader-progress"},[i("a-progress",{attrs:{strokeWidth:2,showInfo:!1,percent:100*e.progress}})],1)])])]),i("div",{staticClass:"item-status"},[i("a",{staticClass:"muted",on:{click:function(i){return t.cancelUpload(e)}}},[i("a-icon",{directives:[{name:"show",rawName:"v-show",value:"success"!=e.status,expression:"file.status != 'success'"}],attrs:{type:"close"}})],1),i("a-icon",{directives:[{name:"show",rawName:"v-show",value:"success"==e.status,expression:"file.status == 'success'"}],staticClass:"text-success",attrs:{type:"check"}})],1)])])]}}],null,!0)})})),1)]}}])})],1)],1)],1)],1)},o=[],a=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),n=i("2f14"),r=i("5880"),l=i("68fe"),c=i("97a8"),u=i("0610");function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var p={name:"v-uploader",props:{code:{type:[String],default:function(){return""}}},data:function(){return{loading:!1,showFiles:!1,showUploader:!1,progressTotal:0,completeTotal:0,options:{target:u["d"],testChunks:!1,query:function(){return Object(l["a"])("tempData",!0)},headers:function(){var t=Object(l["a"])("currentOrganization",!0),e=Object(n["d"])();return e.organizationcode=t.code,e}},attrs:{accept:"image/*"},autoStart:!0}},computed:h({},Object(r["mapState"])({uploader:function(t){return t.common.uploader},tempData:function(t){return t.common.tempData}}),{uploaderTitle:function(){if(!this.progressTotal)return"上传完成";var t=this.completeTotal+1;return t>this.progressTotal&&(t=this.progressTotal),"正在上传 ".concat(t,"/").concat(this.progressTotal)}}),watch:{code:function(){this.init()}},created:function(){this.init()},mounted:function(){var t=this;this.$nextTick((function(){window.uploader=t.$refs.uploader.uploader,t.$store.dispatch("setUploader",window.uploader),console.log(window.uploader)}))},methods:{init:function(){},closeUploader:function(){this.showUploader=!1,this.uploader.cancel()},filesSubmitted:function(t){this.showUploader=!0,this.showFiles=!0,this.progressTotal+=t.length,console.log("file submitted",t)},fileProgress:function(t,e,i){this.showUploader=!0,this.showFiles=!0,console.log("file progress",arguments)},fileSuccess:function(t,e,i,s){var o=JSON.parse(i);if(!Object(n["a"])(o))return Object(c["b"])({title:o.msg},"notice","error"),!1;t.projectName=o.data.projectName,t.fileUrl=o.data.url,console.log("file success",t),this.completeTotal++},fileError:function(t,e,i,s){this.completeTotal--;var o=JSON.parse(i);e.cancel(),t.projectName=o.data.projectName,console.log("file error",t),Object(c["b"])({title:o.msg},"notice","error")},fileComplete:function(t){console.log("file complete",t)},complete:function(){var t=this;console.log("complete",arguments),this.progressTotal=this.completeTotal=0,Object(c["b"])({title:"关联文件成功"},"notice","success"),setTimeout((function(){t.showFiles=!1}),3e3)},cancelUpload:function(t){console.log(t),this.progressTotal--,this.completeTotal--,t.file.cancel()},filterList:function(t){return t},testSomeThing:function(){console.log(this.uploader.fileList),this.uploader.fileList[0].resume()}}},f=p,m=(i("f7fb"),i("2877")),g=Object(m["a"])(f,s,o,!1,null,null,null);e["default"]=g.exports},a532:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{style:t.styleObject},[i("div",{ref:"editor",style:t.styleObject,attrs:{id:t.id}})])},o=[],a=(i("28a5"),i("a481"),i("ac6a"),i("1a0b")),n=i.n(a),r=i("2ef0"),l=i.n(r),c={name:"editor",props:["id","value","width","height","uploadImgServer","disabled","menus","mapKey","menuFixed","pasteFilter","codeDefaultLang","hideLinkImg","uploadImgParams","uploadImgHeaders","isRealtime","disabledMenus","uploadFileName","uploadImgShowBase64"],data:function(){return{styleObject:{width:"auto",height:"auto"},editor:null}},methods:{initSize:function(){this.width&&(this.styleObject.width=this.width+"px"),this.height&&(this.styleObject.height=this.height+"px")},createEditor:function(){this.editor=new n.a(document.getElementById(this.id)),this.initConfig(),this.editor.create()},initConfig:function(){this.editor.customConfig.uploadFileName=this.uploadFileName?this.uploadFileName:"image[]",this.editor.customConfig.uploadImgServer=this.uploadImgServer,this.editor.customConfig.uploadImgShowBase64=!!this.uploadImgShowBase64&&this.uploadImgShowBase64,this.editor.customConfig.uploadImgFileName="file",this.editor.customConfig.pasteFilter=!1,void 0!=this.mapKey&&(this.editor.customConfig.mapAk=this.mapKey),void 0!=this.menus&&this.menus instanceof Array&&this.menus.length?this.editor.customConfig.menus=this.filterMenu(this.menus):this.disabledMenus&&(this.editor.customConfig.menus=this.filterDisabledMenu(this.editor.customConfig.menus,this.disabledMenus)),void 0!=this.menuFixed&&(this.editor.customConfig.menuFixed=this.menuFixed),void 0!=this.pasteFilter&&(this.editor.customConfig.pasteFilter=this.pasteFilter),void 0!=this.codeDefaultLang&&(this.editor.customConfig.codeDefaultLang=this.codeDefaultLang),void 0!=this.hideLinkImg&&(this.editor.customConfig.hideLinkImg=this.hideLinkImg),void 0!=this.uploadImgParams&&this.uploadImgParams instanceof Object&&(this.editor.customConfig.uploadImgParams=this.uploadImgParams),void 0!=this.uploadImgHeaders&&this.uploadImgHeaders instanceof Object&&(this.editor.customConfig.uploadImgHeaders=this.uploadImgHeaders),this.value&&this.setHtml(this.value),this.disabled&&this.disable(),this.listenChange()},filterMenu:function(t){return window.__.map(t,(function(t,e){return"source"===t?null:t}))},filterDisabledMenu:function(t,e){var i=t.join(",");return l()(e).forEach((function(t){i=i.replace(t,"").replace(",,",",")})),i.length&&","==i[0]&&i.substr(1,i.length),i.split(",")},insertImg:function(t){this.editor.command(null,"insertHtml","<img src="+t+' style="max-width:100%;"/>')},getHtml:function(){return this.editor.txt.html()},getText:function(){return this.editor.txt.text()},setHtml:function(t){this.editor.txt.html(t)},appendHtml:function(t){this.editor.txt.append(t)},clear:function(){this.editor.clear()},enable:function(){this.editor.enable()},disable:function(){this.editor.disable()},destroy:function(){this.editor.destroy()},undestroy:function(){this.editor.undestroy()},listenChange:function(){var t=this;this.editor.onchange=function(){t.$emit("change");var e="";t.getText()||(e=t.getHtml()),!1!==t.isRealtime&&t.$emit("input",e)}}},mounted:function(){var t=this;this.initSize(),setTimeout((function(){t.createEditor()}),100)}},u=c,d=i("2877"),h=Object(d["a"])(u,s,o,!1,null,null,null);e["default"]=h.exports},bdbd:function(t,e,i){"use strict";var s=i("d91d"),o=i.n(s);o.a},c002:function(t,e,i){"use strict";var s=i("facf"),o=i.n(s);o.a},c984:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"toolbar"},[i("div",{staticStyle:{float:"left"}},[t._t("extra")],2),i("div",{staticStyle:{float:"right"}},[t._t("default")],2)])},o=[],a={name:"FooterToolBar"},n=a,r=(i("bdbd"),i("2877")),l=Object(r["a"])(n,s,o,!1,null,"1809f484",null);e["default"]=l.exports},cef1:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div")},o=[],a=i("68fe"),n=i("017e"),r=i("a078"),l={data:function(){return{websocket:null}},methods:{threadPoxi:function(){var t={uid:this.$store.state.userInfo.id};if(this.websocket.readyState===this.websocket.OPEN)this.websocketSend(t);else if(this.websocket.readyState===this.websocket.CONNECTING){var e=this;setTimeout((function(){e.websocketSend(t)}),300)}else{this.initWebSocket();var i=this;setTimeout((function(){i.websocketSend(t)}),500)}},initWebSocket:function(){try{var t=r["a"].WS_URI;this.websocket=new WebSocket(t),this.websocket.onmessage=this.websocketOnMessage,this.websocket.onclose=this.websocketClose,Vue.prototype.$websocket=this.websocket}catch(e){console.log(e)}},websocketOnMessage:function(t){var e=JSON.parse(t.data);if("ping"!=e.action&&(console.log(e),this.$store.commit("catchSocketAction",e)),"connect"===e.action&&e.data.client_id&&!this.$store.state.boundClient){Object(a["c"])("client_id",e.data.client_id);var i=Object(a["a"])("userInfo",!0),s=i?i.code:"";s&&(Object(n["a"])(e.data.client_id,s),this.$store.dispatch("setBoundClient",!0))}},websocketSend:function(t){console.log("发送消息："),console.log(t),this.websocket.send(t)},websocketClose:function(t){console.log("connection closed ("+t.code+")")}},created:function(){this.initWebSocket()}},c=l,u=i("2877"),d=Object(u["a"])(c,s,o,!1,null,null,null);e["default"]=d.exports},d91d:function(t,e,i){},de70:function(t,e,i){},e8c4:function(t,e,i){"use strict";i("8e6e"),i("456d"),i("ac6a");var s=i("bd86"),o=(i("6762"),i("2fdb"),i("7f7f"),i("c5f6"),i("372e")),a=i("c832"),n=i.n(a);function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}e["a"]={data:function(){return{needTotalList:[],selectedRows:[],selectedRowKeys:[],localLoading:!1,localDataSource:[],localPagination:Object.assign({},o["a"].props.pagination)}},props:Object.assign({},o["a"].props,{rowKey:{type:[String,Function],default:"id"},data:{type:Function,required:!0},pageNum:{type:Number,default:1},pageSize:{type:Number,default:10},showSizeChanger:{type:Boolean,default:!0},showAlertInfo:{type:Boolean,default:!1},showPagination:{default:"auto"}}),watch:{"localPagination.current":function(t){this.$router.push({name:this.$route.name,params:Object.assign({},this.$route.params,{pageNo:t})})},pageNum:function(t){Object.assign(this.localPagination,{current:t})},pageSize:function(t){console.log("pageSize:",t),Object.assign(this.localPagination,{pageSize:t})},showSizeChanger:function(t){console.log("showSizeChanger",t),Object.assign(this.localPagination,{showSizeChanger:t})}},created:function(){this.localPagination=["auto",!0].includes(this.showPagination)&&Object.assign({},this.localPagination,{current:this.pageNum,pageSize:this.pageSize,showSizeChanger:this.showSizeChanger}),this.needTotalList=this.initTotalList(this.columns),this.loadData()},methods:{refresh:function(){this.loadData()},loadData:function(t,e,i){var s=this;this.localLoading=!0;var o=this.data(Object.assign({pageNo:t&&t.current||this.localPagination.current,pageSize:t&&t.pageSize||this.localPagination.pageSize},i&&i.field&&{sortField:i.field}||{},i&&i.order&&{sortOrder:i.order}||{},l({},e)));o instanceof Promise&&o.then((function(e){s.localPagination=Object.assign({},s.localPagination,{current:e.pageNo,total:e.totalCount,showSizeChanger:s.showSizeChanger,pageSize:t&&t.pageSize||s.localPagination.pageSize}),!e.totalCount&&["auto",!1].includes(s.showPagination)&&(s.localPagination=!1),s.localDataSource=e.data,s.localLoading=!1}))},initTotalList:function(t){var e=[];return t&&t instanceof Array&&t.forEach((function(t){t.needTotal&&e.push(l({},t,{total:0}))})),e},updateSelect:function(t,e){this.selectedRowKeys=t,this.selectedRows=e;var i=this.needTotalList;this.needTotalList=i.map((function(t){return l({},t,{total:e.reduce((function(e,i){var s=e+n()(i,t.dataIndex);return isNaN(s)?0:s}),0)})}))},updateEdit:function(){this.selectedRows=[]},onClearSelected:function(){this.selectedRowKeys=[],this.updateSelect([],[])},renderMsg:function(t){var e=this,i=[];return i.push(t("span",{style:{marginRight:"12px"}},["已选择 ",t("a",{style:{fontWeight:600}},this.selectedRows.length)])),this.needTotalList.map((function(e){i.push(t("span",{style:{marginRight:"12px"}},["".concat(e.title,"总计 "),t("a",{style:{fontWeight:600}},"".concat(e.customRender?e.customRender(e.total):e.total))]))})),i.push(t("a",{style:{marginLeft:"24px"},on:{click:e.onClearSelected}},"清空")),i},renderAlert:function(t){return t("span",{slot:"message"},this.renderMsg(t))}},render:function(t){var e=this,i={},s=Object.keys(this.$data);return Object.keys(o["a"].props).forEach((function(t){var o="local".concat(t.substring(0,1).toUpperCase()).concat(t.substring(1));return s.includes(o)?i[t]=e[o]:i[t]=e[t]})),this.showAlertInfo?(i.rowSelection={selectedRowKeys:this.selectedRowKeys,onChange:function(t,i){e.updateSelect(t,i),e.$emit("onSelect",{selectedRowKeys:t,selectedRows:i})}},t("div",{},[t("a-alert",{style:{marginBottom:"16px"},props:{type:"info",showIcon:!0}},[e.renderAlert(t)]),t("a-table",{tag:"component",attrs:i,on:{change:e.loadData},scopedSlots:this.$scopedSlots},this.$slots.default)])):t("a-table",{tag:"component",attrs:i,on:{change:e.loadData},scopedSlots:this.$scopedSlots},this.$slots.default)}}},f7fb:function(t,e,i){"use strict";var s=i("096e"),o=i.n(s);o.a},facf:function(t,e,i){}}]);