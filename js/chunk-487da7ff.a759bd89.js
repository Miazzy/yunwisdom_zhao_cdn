(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-487da7ff","chunk-487da7ff"],{7864:function(t,a,e){"use strict";var o=e("e3a4"),r=e.n(o);r.a},"7ad9":function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"project-archive-index"},[o("wrapper-content",{attrs:{showHeader:!1}},[o("div",{staticStyle:{display:"flex","justify-content":"center"}},[o("img",{directives:[{name:"show",rawName:"v-show",value:!t.dataSource.length,expression:"!dataSource.length"}],staticStyle:{height:"250px"},attrs:{src:e("326f"),alt:""}})]),o("a-list",{staticClass:"project-list",attrs:{loading:t.loading,itemLayout:"horizontal",dataSource:t.dataSource,locale:{emptyText:""}},scopedSlots:t._u([{key:"renderItem",fn:function(a,e){return o("a-list-item",{},[o("span",{attrs:{slot:"actions"},slot:"actions"},[o("a-tooltip",{attrs:{title:"恢复项目"},on:{click:function(o){return t.doAction(a,"recoveryArchive",e)}}},[o("a-icon",{attrs:{type:"undo"}})],1)],1),o("span",{attrs:{slot:"actions"},on:{click:function(o){return t.doAction(a,"del",e)}},slot:"actions"},[o("a-tooltip",{attrs:{title:"移至回收站"}},[o("a-icon",{attrs:{type:"delete"}})],1)],1),o("a-list-item-meta",{attrs:{description:a.description}},[o("router-link",{attrs:{slot:"title",to:"/project/space/task/"+a.code},slot:"title"},[t._v(t._s(a.name))]),o("a-avatar",{attrs:{slot:"avatar",icon:"user",src:a.cover},slot:"avatar"})],1),o("div",{staticClass:"other-info muted"},[o("div",{staticClass:"info-item"},[o("span",[t._v("移动日期")]),o("span",[t._v(t._s(t.moment(a.archive_time).format("YYYY-MM-DD")))])])])],1)}}])},[t.showLoadingMore?o("div",{style:{textAlign:"center",marginTop:"12px",height:"32px",lineHeight:"32px"},attrs:{slot:"loadMore"},slot:"loadMore"},[t.loadingMore?o("a-spin"):o("a-button",{on:{click:t.onLoadMore}},[t._v("查看更多项目")])],1):t._e()])],1)],1)},r=[],n=(e("7f7f"),e("6be7")),i=(e("2f14"),e("1b80")),s={mixins:[i["a"]],data:function(){return{dataSource:[],loading:!0,showLoadingMore:!1,loadingMore:!1,showInviteMember:!1,currentProject:{},currentProjectId:0,newData:{id:0}}},created:function(){this.init()},methods:{moment:moment,init:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=this;t&&(this.dataSource=[],this.pagination.page=1,this.pagination.pageSize=1e3,this.showLoadingMore=!1),this.requestData.archive=1,this.requestData.type="other",a.loading=!0,Object(n["f"])(a.requestData).then((function(t){a.dataSource=a.dataSource.concat(t.data.list),a.pagination.total=t.data.total,a.showLoadingMore=a.pagination.total>a.dataSource.length,a.loading=!1,a.loadingMore=!1}))},onLoadMore:function(){this.loadingMore=!0,this.pagination.page++,this.init(!1)},inviteProjectMember:function(t){this.currentProject=t,this.currentProjectId=t.id,this.showInviteMember=!0},doAction:function(t,a,e){this.currentProject=t;var o=this;o.newData={id:0},"recoveryArchive"==a?this.$confirm({title:"取消归档项目？",content:"取消归档「".concat(this.currentProject.name,"」后就可以正常使用了"),okText:"取消归档",okType:"primary",cancelText:"再想想",onOk:function(){return Object(n["j"])(t.code).then((function(){o.dataSource.splice(e,1)})),Promise.resolve()}}):"del"==a&&this.$confirm({title:"确定放入回收站？",content:"一旦将项目「".concat(this.currentProject.name,"」放入回收站，所有与项目有关的信息将会被放入回收站"),okText:"放入回收站",okType:"danger",cancelText:"再想想",onOk:function(){return Object(n["k"])(t.code).then((function(){o.dataSource.splice(e,1)})),Promise.resolve()}})}}},c=s,l=(e("d2e6"),e("2877")),d=Object(l["a"])(c,o,r,!1,null,null,null);a["default"]=d.exports},a97c:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"analysis-index"},[e("div",{staticClass:"page-wrapper"},[e("a-row",{attrs:{gutter:24}},[e("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[e("chart-card",{attrs:{loading:t.loading,title:"项目总数",total:t._f("NumberFormat")(t.projectData.count)}},[e("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[e("a-icon",{attrs:{type:"info-circle-o"}})],1),e("div",{staticClass:"chart-wrapper"},[e("ve-histogram",{attrs:{data:t.projectData.chartData,settings:t.projectData.chartSettings,extend:t.chartExtend,"legend-visible":!1,height:"55px"}})],1),e("template",{slot:"footer"},[t._v("\n            本月立项\n            "),e("span",[t._v("3")])])],2)],1),e("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[e("chart-card",{attrs:{loading:t.loading,title:"任务总数",total:t._f("NumberFormat")(t.taskData.count)}},[e("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[e("a-icon",{attrs:{type:"info-circle-o"}})],1),e("div",[e("div",{staticClass:"chart-wrapper"},[e("ve-line",{attrs:{data:t.taskData.chartData,settings:t.taskData.chartSettings,extend:t.chartExtend,"legend-visible":!1,height:"55px"}})],1)]),e("template",{slot:"footer"},[t._v("\n            今日任务\n            "),e("span",[t._v(t._s(t._f("NumberFormat")("8")))])])],2)],1),e("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[e("chart-card",{attrs:{loading:t.loading,title:"逾期任务",total:t._f("NumberFormat")(t.taskData.taskOverdueCount)}},[e("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[e("a-icon",{attrs:{type:"info-circle-o"}})],1),e("div",[e("trend",{staticStyle:{"margin-right":"16px"},attrs:{flag:"up"}},[e("span",{attrs:{slot:"term"},slot:"term"},[t._v("周同比")]),t._v("\n              12%\n            ")]),e("trend",{attrs:{flag:"down"}},[e("span",{attrs:{slot:"term"},slot:"term"},[t._v("日同比")]),t._v("\n              11%\n            ")])],1),e("template",{slot:"footer"},[t._v("\n            逾期率\n            "),e("span",[t._v(t._s(t.taskData.taskOverduePercent)+"%")])])],2)],1),e("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[e("chart-card",{attrs:{loading:t.loading,title:"整体进度",total:t.projectData.projectSchedule+"%"}},[e("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[e("a-icon",{attrs:{type:"info-circle-o"}})],1),e("div",[e("mini-progress",{attrs:{color:"#ffd401",target:80,percentage:t.projectData.projectSchedule,height:"8px"}})],1),e("template",{slot:"footer"},[e("trend",{staticStyle:{"margin-right":"16px"},attrs:{flag:"down"}},[e("span",{attrs:{slot:"term"},slot:"term"},[t._v("周同比")]),t._v("\n              12%\n            ")]),e("trend",{attrs:{flag:"up"}},[e("span",{attrs:{slot:"term"},slot:"term"},[t._v("日环比")]),t._v("\n              80%\n            ")])],1)],2)],1)],1),e("a-card",{attrs:{loading:t.loading,bordered:!1,"body-style":{padding:"0"}}},[e("div",{staticClass:"salesCard"},[e("a-tabs",{attrs:{"default-active-key":"1",size:"large","tab-bar-style":{marginBottom:"24px",paddingLeft:"16px"}}},[e("div",{staticClass:"extra-wrapper",attrs:{slot:"tabBarExtraContent"},slot:"tabBarExtraContent"},[e("div",{staticClass:"extra-item"},[e("a",[t._v("今日")]),e("a",[t._v("本周")]),e("a",[t._v("本月")]),e("a",[t._v("本年")])]),e("a-range-picker",{style:{width:"256px"}})],1),e("a-tab-pane",{key:"1",attrs:{forceRender:"",tab:"项目数"}},[e("a-row",[e("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[e("div",{staticClass:"chart-wrappers-single"},[e("ve-histogram",{attrs:{data:t.projectTotalData.chartData,settings:t.projectTotalData.chartSettings,extend:t.projectTotalData.chartExtend,"legend-visible":!1,height:"300px"}})],1)]),e("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[e("rank-list",{attrs:{title:"项目数排行榜",list:t.rankList}})],1)],1)],1),e("a-tab-pane",{key:"2",attrs:{forceRender:"",tab:"任务数"}},[e("a-row",[e("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[e("div",{staticClass:"chart-wrappers-single"},[e("ve-histogram",{attrs:{data:t.projectTotalData.chartData,settings:t.projectTotalData.chartSettings,extend:t.projectTotalData.chartExtend,"legend-visible":!1,height:"300px"}})],1)]),e("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[e("rank-list",{attrs:{title:"任务数排行榜",list:t.rankList}})],1)],1)],1)],1)],1)]),e("a-row",{attrs:{gutter:12}},[e("a-col",{attrs:{xl:12,lg:24,md:24,sm:24,xs:24}},[e("a-card",{style:{marginTop:"24px"},attrs:{loading:t.loading,bordered:!1,title:"我的项目"}},[e("a-dropdown",{attrs:{slot:"extra",trigger:["click"],placement:"bottomLeft"},slot:"extra"},[e("a",{staticClass:"ant-dropdown-link",attrs:{href:"#"}},[e("a-icon",{attrs:{type:"ellipsis"}})],1),e("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[e("a-menu-item",[e("a",{attrs:{href:"javascript:;"}},[t._v("操作一")])]),e("a-menu-item",[e("a",{attrs:{href:"javascript:;"}},[t._v("操作二")])])],1)],1),t._l(t.projectList,(function(a){return e("p",{key:a.id},[t._v(t._s(a.name))])})),e("a-pagination",{attrs:{total:t.projectTotal,size:"small"},on:{change:t.pageChange},model:{value:t.pagination.page,callback:function(a){t.$set(t.pagination,"page",a)},expression:"pagination.page"}})],2)],1),e("a-col",{attrs:{xl:12,lg:24,md:24,sm:24,xs:24}},[e("a-card",{style:{marginTop:"24px"},attrs:{loading:t.loading,bordered:!1,title:"任务优先级分布"}},[e("a-dropdown",{attrs:{slot:"extra",trigger:["click"],placement:"bottomLeft"},slot:"extra"},[e("a",{staticClass:"ant-dropdown-link",attrs:{href:"#"}},[e("a-icon",{attrs:{type:"ellipsis"}})],1),e("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[e("a-menu-item",[e("a",{attrs:{href:"javascript:;"}},[t._v("操作一")])]),e("a-menu-item",[e("a",{attrs:{href:"javascript:;"}},[t._v("操作二")])])],1)],1),e("p",[t._v("card content")]),e("p",[t._v("card content")]),e("p",[t._v("card content")])],1)],1)],1)],1)])},r=[],n=(e("8e6e"),e("ac6a"),e("456d"),e("bd86")),i=e("5880"),s=e("c3da"),c=e.n(s),l=e("d768"),d=e.n(l),p=e("2cc5"),u=e("611e"),m=e("bf13"),f=e("0923"),g=e("1b80"),h=e("6be7");function v(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,o)}return e}function b(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?v(Object(e),!0).forEach((function(a){Object(n["a"])(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):v(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}for(var j=[],x=0;x<7;x++)j.push({name:"XX公司 "+(x+1)+" 号员工",total:1234.56-100*x});for(var w=[],y=1;y<20;y++)w.push({"日期":"1月".concat(y,"日"),"任务":(10*Math.random()+1).toFixed(0)});for(var D=[],k=1;k<13;k++)D.push({"日期":"".concat(k,"月"),"数量":(10*Math.random()+1).toFixed(0)});var O={components:{VeLine:c.a,VeHistogram:d.a,ChartCard:p["default"],MiniProgress:m["default"],Trend:u["a"],RankList:f["default"]},mixins:[g["a"]],data:function(){return{loading:!1,rankList:j,chartExtend:{grid:{left:"-25",right:"0",top:"10",bottom:"-15"},series:{barWidth:15},xAxis:{show:!1},yAxis:{show:!1},tooltip:{backgroundColor:"#fff",textStyle:{color:"#333"},borderWidth:1,borderColor:"#e8e8e8"},axisPointer:{lineStyle:{width:0}}},projectData:{count:0,projectSchedule:0,chartData:{columns:["日期","数量"],rows:D},chartSettings:{itemStyle:{color:"#1890ff"}}},taskData:{count:0,taskOverdueCount:0,taskOverduePercent:0,chartData:{columns:["日期","任务"],rows:w},chartSettings:{area:!0,itemStyle:{color:"#b68eec"},areaStyle:{color:"#b68eec"}}},projectTotalData:{chartData:{columns:["日期","数量"],rows:D},chartSettings:{itemStyle:{color:"#1890ff"}},chartExtend:{grid:{left:"30",right:"0",top:"15",bottom:"0"},series:{barWidth:45}}},projectList:[],projectTotal:0,projectLoading:!1}},computed:b({},Object(i["mapState"])({userInfo:function(t){return t.userInfo}})),created:function(){this.init()},methods:{init:function(){var t=this,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object(h["c"])({type:1}).then((function(a){t.projectData.count=a.data.projectCount,t.projectData.projectSchedule=a.data.projectSchedule,t.projectData.chartData.rows=a.data.projectList,t.projectTotalData.chartData.rows=a.data.projectList,t.taskData.count=a.data.taskCount,t.taskData.taskOverdueCount=a.data.taskOverdueCount,t.taskData.taskOverduePercent=a.data.taskOverduePercent,t.taskData.chartData.rows=a.data.taskList})),a&&(this.pagination.page=1,this.pagination.pageSize=10),this.getProjectList(!0)},getProjectList:function(t){var a=this;t&&(this.projectLoading=!0),Object(h["l"])(this.requestData).then((function(t){a.projectList=t.data.list,a.projectTotal=t.data.total,a.projectLoading=!1}))},pageChange:function(t,a){this.pagination.page=t,this.getProjectList(!0)}}},S=O,_=(e("7864"),e("2877")),C=Object(_["a"])(S,o,r,!1,null,null,null);a["default"]=C.exports},aab3:function(t,a,e){},d2e6:function(t,a,e){"use strict";var o=e("aab3"),r=e.n(o);r.a},dbff:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=this,e=a.$createElement,o=a._self._c||e;return o("div",{staticClass:"house-index"},[o("wrapper-content",[o("a-table",{attrs:{columns:a.columns,dataSource:a.dataSource,loading:a.loading,rowKey:"id",pagination:a.pagination},on:{change:a.pageChange},scopedSlots:a._u([{key:"action",fn:function(t,e,r){return[e.owner_code==a.userInfo.code?o("a",{on:{click:function(t){return a.rowClick(e,"edit")}}},[a._v("编辑")]):a._e(),e.owner_code!=a.userInfo.code?o("a",{on:{click:function(t){return a.rowClick(e,"quit")}}},[a._v("退出")]):a._e()]}}])})],1),o("a-modal",{attrs:{width:800,title:a.actionInfo.modalTitle,bodyStyle:{paddingBottom:"1px"},footer:null},model:{value:a.actionInfo.modalStatus,callback:function(t){a.$set(a.actionInfo,"modalStatus",t)},expression:"actionInfo.modalStatus"}},[o("a-form",{attrs:{autoFormCreate:function(a){t.form=a}},on:{submit:function(t){return t.preventDefault(),a.handleSubmit(t)}}},[o("a-form-item",{attrs:{form:a.form,label:"组织名称",labelCol:{span:3},wrapperCol:{span:21},fieldDecoratorId:"name",fieldDecoratorOptions:{rules:[{required:!0,message:"组织名称"}]},help:"必填，请填写组织名称"}},[o("a-input",{attrs:{placeholder:"组织名称"}})],1),o("a-form-item",{attrs:{label:"详细地址",labelCol:{span:3},wrapperCol:{span:21},fieldDecoratorId:"address",help:"详细地址"}},[o("a-input")],1),o("a-form-item",{attrs:{wrapperCol:{span:21,offset:3}}},[o("div",{staticClass:"action-btn"},[o("a-button",{staticClass:"middle-btn",attrs:{type:"primary",htmlType:"submit",loading:a.actionInfo.confirmLoading}},[a._v("保存")]),o("a-button",{staticClass:"middle-btn",on:{click:function(t){a.actionInfo.modalStatus=!1}}},[a._v("取消")])],1)])],1)],1)],1)},r=[],n=(e("8e6e"),e("ac6a"),e("456d"),e("6b54"),e("7f7f"),e("bd86")),i=e("5880"),s=e("d368"),c=e("2f14"),l=e("1b80");function d(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,o)}return e}function p(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?d(Object(e),!0).forEach((function(a){Object(n["a"])(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):d(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}var u=[{title:"组织名称",dataIndex:"name",width:"30%"},{title:"操作",scopedSlots:{customRender:"action"}}],m={mixins:[l["a"]],data:function(){return{columns:u,dataSource:[],loading:!0,newData:{code:0},form:{},searchForm:{},actionInfo:{modalStatus:!1,confirmLoading:!1,modalTitle:"编辑组织",okText:"保存",cancelText:"放弃"},showMap:!1,options:[]}},computed:p({},Object(i["mapState"])({userInfo:function(t){return t.userInfo}})),created:function(){this.init()},methods:{moment:moment,init:function(t){var a=this;a.loading=!0,Object(s["c"])(a.requestData).then((function(e){a.dataSource=e.data.list,a.pagination.total=e.data.total,a.loading=!1,t&&a.$store.dispatch("setCurrentOrganization",e.data.list[0]),a.$store.dispatch("setOrganizationList",e.data.list)}))},rowClick:function(t,a){var e=this;e.newData={code:""},"add"==a||"edit"==a||"new"==a?(setTimeout((function(){e.form&&e.form.resetFields()}),0),e.actionInfo.modalStatus=!0,e.actionInfo.modalTitle="添加组织","edit"==a&&setTimeout((function(){e.actionInfo.modalTitle="编辑组织",e.form.setFieldsValue({name:t.name,areas:[t.province.toString(),t.city.toString(),t.area.toString()],address:t.address}),e.newData=t}),0)):"quit"==a&&this.$confirm({title:"确定要退出此组织?",okText:"退出",okType:"danger",cancelText:"再想想",onOk:function(){return Object(s["a"])({organizationCode:t.code}).then((function(t){Object(c["a"])(t)&&e.init(!0)})),Promise.resolve()}})},handleSubmit:function(){var t=this;t.form.validateFields((function(a,e){a||t.handleOk()}))},handleOk:function(){var t=this;t.actionInfo.confirmLoading=!0;var a=t.form.getFieldsValue();a.areas=JSON.stringify(a.areas),console.log(t.newData),t.newData.code?(t.newData.organizationCode=t.newData.code,a.organizationCode=t.newData.code):Object.assign(a,t.newData),Object(s["b"])(a).then((function(e){t.actionInfo.confirmLoading=!1,Object(c["a"])(e)&&(t.newData.code?(t.newData.name=a.name,t.newData.address=a.address):t.dataSource.push(e.data),t.form.resetFields(),t.newData={code:0},t.actionInfo.modalStatus=!1,t.init())}))}}},f=m,g=e("2877"),h=Object(g["a"])(f,o,r,!1,null,null,null);a["default"]=h.exports},e3a4:function(t,a,e){}}]);