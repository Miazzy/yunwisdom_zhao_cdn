(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b24b9","chunk-2d0b24b9","chunk-2d0b24b9"],{2401:function(e,t){(function(e){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(){},r=function(e){return function(){return e}},o=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},i=r(!1),u=r(!0),s=function(){return a},a=function(){var e=function(e){return e.isNone()},t=function(e){return e()},o=function(e){return e},a={fold:function(e,t){return e()},is:i,isSome:i,isNone:u,getOr:o,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:o,orThunk:t,map:s,each:n,bind:s,exists:i,forall:u,filter:s,equals:e,equals_:e,toArray:function(){return[]},toString:r("none()")};return Object.freeze&&Object.freeze(a),a}(),c=function(e){var t=r(e),n=function(){return s},o=function(t){return t(e)},s={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:u,isNone:i,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return c(t(e))},each:function(t){t(e)},bind:o,exists:o,forall:o,filter:function(t){return t(e)?s:a},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(i,(function(t){return n(e,t)}))}};return s},f=function(e){return null===e||void 0===e?a:c(e)},d={some:c,none:s,from:f},l=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},m=function(e){return function(t){return l(t)===e}},g=m("string"),p=m("array"),v=m("boolean"),h=m("function"),N=m("number"),y=Array.prototype.slice,O=Array.prototype.push,C=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},S=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}},b=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},L=function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,u=e.length;i<u;i++){var s=e[i],a=t(s);a!==n&&(r.push(o),o=[]),n=a,o.push(s)}return 0!==o.length&&r.push(o),r},T=function(e,t,n){return S(e,(function(e){n=t(n,e)})),n},k=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return d.some(o)}return d.none()},E=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!p(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);O.apply(t,e[n])}return t},D=function(e,t){return E(C(e,t))},w=function(e){var t=y.call(e,0);return t.reverse(),t},B=function(e){return 0===e.length?d.none():d.some(e[0])},x=function(e){return 0===e.length?d.none():d.some(e[e.length-1])},A=(h(Array.from)&&Array.from,function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)}),R=function(t,n){return A(t,n,e.Node.DOCUMENT_POSITION_PRECEDING)},I=function(t,n){return A(t,n,e.Node.DOCUMENT_POSITION_CONTAINED_BY)},P={documentPositionPreceding:R,documentPositionContainedBy:I},_=function(){return _=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_.apply(this,arguments)},M=function(e){var t=e,n=function(){return t},r=function(e){t=e},o=function(){return M(n())};return{get:n,set:r,clone:o}},U=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},F=function(e,t){var n=U(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return H(r(1),r(2))},z=function(e,t){var n=String(t).toLowerCase();return 0===e.length?j():F(e,n)},j=function(){return H(0,0)},H=function(e,t){return{major:e,minor:t}},$={nu:H,detect:z,unknown:j},W="Edge",q="Chrome",V="IE",K="Opera",Q="Firefox",X="Safari",Y=function(e,t){return function(){return t===e}},G=function(){return J({current:void 0,version:$.unknown()})},J=function(e){var t=e.current,n=e.version;return{current:t,version:n,isEdge:Y(W,t),isChrome:Y(q,t),isIE:Y(V,t),isOpera:Y(K,t),isFirefox:Y(Q,t),isSafari:Y(X,t)}},Z={unknown:G,nu:J,edge:r(W),chrome:r(q),ie:r(V),opera:r(K),firefox:r(Q),safari:r(X)},ee="Windows",te="iOS",ne="Android",re="Linux",oe="OSX",ie="Solaris",ue="FreeBSD",se="ChromeOS",ae=function(e,t){return function(){return t===e}},ce=function(){return fe({current:void 0,version:$.unknown()})},fe=function(e){var t=e.current,n=e.version;return{current:t,version:n,isWindows:ae(ee,t),isiOS:ae(te,t),isAndroid:ae(ne,t),isOSX:ae(oe,t),isLinux:ae(re,t),isSolaris:ae(ie,t),isFreeBSD:ae(ue,t),isChromeOS:ae(se,t)}},de={unknown:ce,nu:fe,windows:r(ee),ios:r(te),android:r(ne),linux:r(re),osx:r(oe),solaris:r(ie),freebsd:r(ue),chromeos:r(se)},le=function(e,t,n,o){var i=e.isiOS()&&!0===/ipad/i.test(n),u=e.isiOS()&&!i,s=e.isiOS()||e.isAndroid(),a=s||o("(pointer:coarse)"),c=i||!u&&s&&o("(min-device-width:768px)"),f=u||s&&!c,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),l=!f&&!c&&!d;return{isiPad:r(i),isiPhone:r(u),isTablet:r(c),isPhone:r(f),isTouch:r(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:r(d),isDesktop:r(l)}},me=function(e,t){var n=String(t).toLowerCase();return k(e,(function(e){return e.search(n)}))},ge=function(e,t){return me(e,t).map((function(e){var n=$.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},pe=function(e,t){return me(e,t).map((function(e){var n=$.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},ve={detectBrowser:ge,detectOs:pe},he=function(e,t){return-1!==e.indexOf(t)},Ne=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ye=function(e){return function(t){return he(t,e)}},Oe=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return he(e,"edge/")&&he(e,"chrome")&&he(e,"safari")&&he(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ne],search:function(e){return he(e,"chrome")&&!he(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return he(e,"msie")||he(e,"trident")}},{name:"Opera",versionRegexes:[Ne,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ye("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ye("firefox")},{name:"Safari",versionRegexes:[Ne,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(he(e,"safari")||he(e,"mobile/"))&&he(e,"applewebkit")}}],Ce=[{name:"Windows",search:ye("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return he(e,"iphone")||he(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ye("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ye("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ye("linux"),versionRegexes:[]},{name:"Solaris",search:ye("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ye("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ye("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Se={browsers:r(Oe),oses:r(Ce)},be=function(e,t){var n=Se.browsers(),r=Se.oses(),o=ve.detectBrowser(n,e).fold(Z.unknown,Z.nu),i=ve.detectOs(r,e).fold(de.unknown,de.nu),u=le(i,o,e,t);return{browser:o,os:i,deviceType:u}},Le={detect:be},Te=function(t){return e.window.matchMedia(t).matches},ke=M(Le.detect(e.navigator.userAgent,Te)),Ee=function(){return ke.get()},De=function(t,n){var r=n||e.document,o=r.createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return xe(o.childNodes[0])},we=function(t,n){var r=n||e.document,o=r.createElement(t);return xe(o)},Be=function(t,n){var r=n||e.document,o=r.createTextNode(t);return xe(o)},xe=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:r(e)}},Ae=function(e,t,n){var r=e.dom();return d.from(r.elementFromPoint(t,n)).map(xe)},Re={fromHtml:De,fromTag:we,fromText:Be,fromDom:xe,fromPoint:Ae},Ie=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE,e.Node.DOCUMENT_NODE,e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE),Pe=(e.Node.TEXT_NODE,e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,Ie),_e=function(e,t){var n=e.dom();if(n.nodeType!==Pe)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Me=function(e,t){return e.dom()===t.dom()},Ue=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},Fe=function(e,t){return P.documentPositionContainedBy(e.dom(),t.dom())},ze=Ee().browser,je=ze.isIE()?Fe:Ue,He=_e,$e=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),We=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),qe=tinymce.util.Tools.resolve("tinymce.util.VK"),Ve=function(e,t,n){return e.isSome()&&t.isSome()?d.some(n(e.getOrDie(),t.getOrDie())):d.none()},Ke=function(t,n){var r=n||e.document,o=r.createDocumentFragment();return S(t,(function(e){o.appendChild(e.dom())})),Re.fromDom(o)},Qe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var o={};return S(e,(function(e,n){o[e]=r(t[n])})),o}},Xe=Object.keys,Ye=function(e,t){for(var n=Xe(e),r=0,o=n.length;r<o;r++){var i=n[r],u=e[i];t(u,i)}},Ge=function(e){return d.from(e.dom().parentNode).map(Re.fromDom)},Je=function(e){return C(e.dom().childNodes,Re.fromDom)},Ze=function(e,t){var n=e.dom().childNodes;return d.from(n[t]).map(Re.fromDom)},et=function(e){return Ze(e,0)},tt=function(e){return Ze(e,e.dom().childNodes.length-1)},nt=(Qe("element","offset"),function(e,t){var n=Ge(e);n.each((function(n){n.dom().insertBefore(t.dom(),e.dom())}))}),rt=function(e,t){e.dom().appendChild(t.dom())},ot=function(e,t){S(t,(function(t){nt(e,t)}))},it=function(e,t){S(t,(function(t){rt(e,t)}))},ut=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},st=function(e,t,n){return e.fire("ListMutation",{action:t,element:n})},at="undefined"!==typeof e.window?e.window:Function("return this;")(),ct=function(e,t){for(var n=void 0!==t&&null!==t?t:at,r=0;r<e.length&&void 0!==n&&null!==n;++r)n=n[e[r]];return n},ft=function(e,t){var n=e.split(".");return ct(n,t)},dt=function(e,t){return ft(e,t)},lt=function(e,t){var n=dt(e,t);if(void 0===n||null===n)throw new Error(e+" not available on this browser");return n},mt={getOrDie:lt},gt=function(e){return mt.getOrDie("HTMLElement",e)},pt=function(e){var t=ft("ownerDocument.defaultView",e);return gt(t).prototype.isPrototypeOf(e)},vt={isPrototypeOf:pt},ht=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Nt=tinymce.util.Tools.resolve("tinymce.util.Tools"),yt=function(e){return e&&3===e.nodeType},Ot=function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)},Ct=function(e){return e&&/^(OL|UL)$/.test(e.nodeName)},St=function(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName)},bt=function(e){return e&&/^(DT|DD)$/.test(e.nodeName)},Lt=function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},Tt=function(e){return e&&"BR"===e.nodeName},kt=function(e){return e.parentNode.firstChild===e},Et=function(e){return e.parentNode.lastChild===e},Dt=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},wt=function(e,t){return e&&e.nodeName in t},Bt=function(e,t){return!!Tt(t)&&!(!e.isBlock(t.nextSibling)||Tt(t.previousSibling))},xt=function(e,t,n){var r=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&r},At=function(e,t){return e.isChildOf(t,e.getRoot())},Rt={isTextNode:yt,isListNode:Ot,isOlUlNode:Ct,isDlItemNode:bt,isListItemNode:St,isTableCellNode:Lt,isBr:Tt,isFirstChild:kt,isLastChild:Et,isTextBlock:Dt,isBlock:wt,isBogusBr:Bt,isEmpty:xt,isChildOfBody:At},It=function(e){var t=e.selection.getStart(!0);return e.dom.getParent(t,"OL,UL,DL",jt(e,t))},Pt=function(e,t){return e&&1===t.length&&t[0]===e},_t=function(e){return Nt.grep(e.querySelectorAll("ol,ul,dl"),(function(e){return Rt.isListNode(e)}))},Mt=function(e){var t=It(e),n=e.selection.getSelectedBlocks();return Pt(t,n)?_t(t):Nt.grep(n,(function(e){return Rt.isListNode(e)&&t!==e}))},Ut=function(e,t){var n=Nt.map(t,(function(t){var n=e.dom.getParent(t,"li,dd,dt",jt(e,t));return n||t}));return ht.unique(n)},Ft=function(e){var t=e.selection.getSelectedBlocks();return Nt.grep(Ut(e,t),(function(e){return Rt.isListItemNode(e)}))},zt=function(e){return b(Ft(e),Rt.isDlItemNode)},jt=function(e,t){var n=e.dom.getParents(t,"TD,TH"),r=n.length>0?n[0]:e.getBody();return r},Ht=function(e,t){var n=e.dom.getParents(t,"ol,ul",jt(e,t));return x(n)},$t=function(e){var t=Ht(e,e.selection.getStart()),n=b(e.selection.getSelectedBlocks(),Rt.isOlUlNode);return t.toArray().concat(n)},Wt=function(e){var t=$t(e);return qt(e,t)},qt=function(e,t){var n=C(t,(function(t){return Ht(e,t).getOr(t)}));return ht.unique(n)},Vt=function(e){var t=It(e);return vt.isPrototypeOf(t)},Kt={isList:Vt,getParentList:It,getSelectedSubLists:Mt,getSelectedListItems:Ft,getClosestListRootElm:jt,getSelectedDlItems:zt,getSelectedListRoots:Wt},Qt=function(e){return e.getParam("lists_indent_on_tab",!0)},Xt=function(e){var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},Yt=function(e){return e.getParam("forced_root_block_attrs",{})},Gt={shouldIndentOnTab:Qt,getForcedRootBlock:Xt,getForcedRootBlockAttrs:Yt},Jt=function(e,t){var n,r,o,i=e.dom,u=e.schema.getBlockElements(),s=i.createFragment(),a=Gt.getForcedRootBlock(e);if(a&&(r=i.create(a),r.tagName===a.toUpperCase()&&i.setAttribs(r,Gt.getForcedRootBlockAttrs(e)),Rt.isBlock(t.firstChild,u)||s.appendChild(r)),t)while(n=t.firstChild){var c=n.nodeName;o||"SPAN"===c&&"bookmark"===n.getAttribute("data-mce-type")||(o=!0),Rt.isBlock(n,u)?(s.appendChild(n),r=null):a?(r||(r=i.create(a),s.appendChild(r)),r.appendChild(n)):s.appendChild(n)}return a?o||r.appendChild(i.create("br",{"data-mce-bogus":"1"})):s.appendChild(i.create("br")),s},Zt=function(e){var t=e.dom().nodeName;return t.toLowerCase()},en=function(e){return e.dom().nodeType},tn=function(e){return function(t){return en(t)===e}},nn=tn(Ie),rn=function(t,n,r){if(!(g(r)||v(r)||N(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},on=function(e,t){var n=e.dom();Ye(t,(function(e,t){rn(n,t,e)}))},un=function(e){return T(e.dom().attributes,(function(e,t){return e[t.name]=t.value,e}),{})},sn=function(e){return void 0!==e.style&&h(e.style.getPropertyValue)},an=function(t,n,r){if(!g(r))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);sn(t)&&t.style.setProperty(n,r)},cn=function(e,t,n){var r=e.dom();an(r,t,n)},fn=function(e,t){return Re.fromDom(e.dom().cloneNode(t))},dn=function(e){return fn(e,!0)},ln=function(e,t){var n=Re.fromTag(t),r=un(e);return on(n,r),n},mn=function(e,t){var n=ln(e,t);nt(e,n);var r=Je(e);return it(n,r),ut(e),n},gn=function(e,t){rt(e.item,t.list)},pn=function(e){for(var t=1;t<e.length;t++)gn(e[t-1],e[t])},vn=function(e,t){Ve(x(e),B(t),gn)},hn=function(e,t){var n={list:Re.fromTag(t,e),item:Re.fromTag("li",e)};return rt(n.list,n.item),n},Nn=function(e,t,n){for(var r=[],o=0;o<n;o++)r.push(hn(e,t.listType));return r},yn=function(e,t){for(var n=0;n<e.length-1;n++)cn(e[n].item,"list-style-type","none");x(e).each((function(e){on(e.list,t.listAttributes),on(e.item,t.itemAttributes),it(e.item,t.content)}))},On=function(e,t){Zt(e.list)!==t.listType&&(e.list=mn(e.list,t.listType)),on(e.list,t.listAttributes)},Cn=function(e,t,n){var r=Re.fromTag("li",e);return on(r,t),it(r,n),r},Sn=function(e,t){rt(e.list,t),e.item=t},bn=function(e,t,n){var r=t.slice(0,n.depth);return x(r).each((function(t){var r=Cn(e,n.itemAttributes,n.content);Sn(t,r),On(t,n)})),r},Ln=function(e,t,n){var r=Nn(e,n,n.depth-t.length);return pn(r),yn(r,n),vn(t,r),t.concat(r)},Tn=function(e,t){var n=T(t,(function(t,n){return n.depth>t.length?Ln(e,t,n):bn(e,t,n)}),[]);return B(n).map((function(e){return e.list}))},kn=function(e){return He(e,"OL,UL")},En=function(e){return et(e).map(kn).getOr(!1)},Dn=function(e){return tt(e).map(kn).getOr(!1)},wn=function(e){return e.depth>0},Bn=function(e){return e.isSelected},xn=function(e){var t=Je(e),n=Dn(e)?t.slice(0,-1):t;return C(n,dn)},An=function(e,t,n){return Ge(e).filter(nn).map((function(r){return{depth:t,isSelected:n,content:xn(e),itemAttributes:un(e),listAttributes:un(r),listType:Zt(r)}}))},Rn=function(e,t){switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}},In=function(e,t){e.listType=t.listType,e.listAttributes=_({},t.listAttributes)},Pn=function(e,t){for(var n=e[t].depth,r=t-1;r>=0;r--){if(e[r].depth===n)return d.some(e[r]);if(e[r].depth<n)break}return d.none()},_n=function(e){S(e,(function(t,n){Pn(e,n).each((function(e){In(t,e)}))}))},Mn=function(e,t,n,r){return et(r).filter(kn).fold((function(){t.each((function(e){Me(e.start,r)&&n.set(!0)}));var o=An(r,e,n.get());t.each((function(e){Me(e.end,r)&&n.set(!1)}));var i=tt(r).filter(kn).map((function(r){return Un(e,t,n,r)})).getOr([]);return o.toArray().concat(i)}),(function(r){return Un(e,t,n,r)}))},Un=function(e,t,n,r){return D(Je(r),(function(r){var o=kn(r)?Un:Mn,i=e+1;return o(i,t,n,r)}))},Fn=function(e,t){var n=M(!1),r=0;return C(e,(function(e){return{sourceList:e,entries:Un(r,t,n,e)}}))},zn=function(e,t){return C(t,(function(t){var n=Ke(t.content);return Re.fromDom(Jt(e,n.dom()))}))},jn=function(e,t){return _n(t),Tn(e.contentDocument,t).toArray()},Hn=function(e,t){return D(L(t,wn),(function(t){var n=B(t).map(wn).getOr(!1);return n?jn(e,t):zn(e,t)}))},$n=function(e,t){S(b(e,Bn),(function(e){return Rn(t,e)}))},Wn=function(e){var t=C(Kt.getSelectedListItems(e),Re.fromDom);return Ve(k(t,o(En)),k(w(t),o(En)),(function(e,t){return{start:e,end:t}}))},qn=function(e,t,n){var r=Fn(t,Wn(e));S(r,(function(t){$n(t.entries,n);var r=Hn(e,t.entries);S(r,(function(t){st(e,"Indent"===n?"IndentList":"OutdentList",t.dom())})),ot(t.sourceList,r),ut(t.sourceList)}))},Vn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Kn=Vn.DOM,Qn=function(e,t,n){var r,o,i,u,s,a=function(e){Nt.each(i,(function(t){e.parentNode.insertBefore(t,n.parentNode)})),Kn.remove(e)};for(i=Kn.select('span[data-mce-type="bookmark"]',t),s=Jt(e,n),r=Kn.createRng(),r.setStartAfter(n),r.setEndAfter(t),o=r.extractContents(),u=o.firstChild;u;u=u.firstChild)if("LI"===u.nodeName&&e.dom.isEmpty(u)){Kn.remove(u);break}e.dom.isEmpty(o)||Kn.insertAfter(o,t),Kn.insertAfter(s,t),Rt.isEmpty(e.dom,n.parentNode)&&a(n.parentNode),Kn.remove(n),Rt.isEmpty(e.dom,t)&&Kn.remove(t)},Xn={splitList:Qn},Yn=function(e,t){He(t,"dd")?mn(t,"dt"):He(t,"dt")&&Ge(t).each((function(n){return Xn.splitList(e,n.dom(),t.dom())}))},Gn=function(e){He(e,"dt")&&mn(e,"dd")},Jn=function(e,t,n){S(n,"Indent"===t?Gn:function(t){return Yn(e,t)})},Zn=function(e,t){if(Rt.isTextNode(e))return{container:e,offset:t};var n=$e.getNode(e,t);return Rt.isTextNode(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&Rt.isTextNode(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&Rt.isTextNode(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},er=function(e){var t=e.cloneRange(),n=Zn(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var r=Zn(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},tr={getNormalizedPoint:Zn,normalizeRange:er},nr=function(e,t){var n=C(Kt.getSelectedListRoots(e),Re.fromDom),r=C(Kt.getSelectedDlItems(e),Re.fromDom),o=!1;if(n.length||r.length){var i=e.selection.getBookmark();qn(e,n,t),Jn(e,t,r),e.selection.moveToBookmark(i),e.selection.setRng(tr.normalizeRange(e.selection.getRng())),e.nodeChanged(),o=!0}return o},rr=function(e){return nr(e,"Indent")},or=function(e){return nr(e,"Outdent")},ir=function(e){return nr(e,"Flatten")},ur=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),sr=Vn.DOM,ar=function(e){var t={},n=function(n){var r,o,i;o=e[n?"startContainer":"endContainer"],i=e[n?"startOffset":"endOffset"],1===o.nodeType&&(r=sr.create("span",{"data-mce-type":"bookmark"}),o.hasChildNodes()?(i=Math.min(i,o.childNodes.length-1),n?o.insertBefore(r,o.childNodes[i]):sr.insertAfter(r,o.childNodes[i])):o.appendChild(r),o=r,i=0),t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=i};return n(!0),e.collapsed||n(),t},cr=function(e){function t(t){var n,r,o,i=function(e){var t=e.parentNode.firstChild,n=0;while(t){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1};n=o=e[t?"startContainer":"endContainer"],r=e[t?"startOffset":"endOffset"],n&&(1===n.nodeType&&(r=i(n),n=n.parentNode,sr.remove(o),!n.hasChildNodes()&&sr.isBlock(n)&&n.appendChild(sr.create("br"))),e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=r)}t(!0),t();var n=sr.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),tr.normalizeRange(n)},fr={createBookmark:ar,resolveBookmark:cr},dr=function(e){return/\btox\-/.test(e.className)},lr=function(e){switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},mr=function(e,t,n){var r=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",r)},gr=function(e,t){Nt.each(t,(function(t,n){e.setAttribute(n,t)}))},pr=function(e,t,n){gr(t,n["list-attributes"]),Nt.each(e.select("li",t),(function(e){gr(e,n["list-item-attributes"])}))},vr=function(e,t,n){mr(e,t,n),pr(e,t,n)},hr=function(e,t,n){Nt.each(n,(function(n){var r;return e.setStyle(t,(r={},r[n]="",r))}))},Nr=function(e,t,n,r){var o,i;o=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"],1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!n&&Rt.isBr(o.nextSibling)&&(o=o.nextSibling);while(o.parentNode!==r){if(Rt.isTextBlock(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o},yr=function(e,t,n){for(var r,o=[],i=e.dom,u=Nr(e,t,!0,n),s=Nr(e,t,!1,n),a=[],c=u;c;c=c.nextSibling)if(a.push(c),c===s)break;return Nt.each(a,(function(t){if(Rt.isTextBlock(e,t))return o.push(t),void(r=null);if(i.isBlock(t)||Rt.isBr(t))return Rt.isBr(t)&&i.remove(t),void(r=null);var u=t.nextSibling;ur.isBookmarkNode(t)&&(Rt.isTextBlock(e,u)||!u&&t.parentNode===n)?r=null:(r||(r=i.create("p"),t.parentNode.insertBefore(r,t),o.push(r)),r.appendChild(t))})),o},Or=function(e,t,n){var r=e.getStyle(t,"list-style-type"),o=n?n["list-style-type"]:"";return o=null===o?"":o,r===o},Cr=function(e,t,n){void 0===n&&(n={});var r,o=e.selection.getRng(!0),i="LI",u=Kt.getClosestListRootElm(e,e.selection.getStart(!0)),s=e.dom;"false"!==s.getContentEditable(e.selection.getNode())&&(t=t.toUpperCase(),"DL"===t&&(i="DT"),r=fr.createBookmark(o),Nt.each(yr(e,o,u),(function(r){var o,u;u=r.previousSibling,u&&Rt.isListNode(u)&&u.nodeName===t&&Or(s,u,n)?(o=u,r=s.rename(r,i),u.appendChild(r)):(o=s.create(t),r.parentNode.insertBefore(o,r),o.appendChild(r),r=s.rename(r,i)),hr(s,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),vr(s,o,n),kr(e.dom,o)})),e.selection.setRng(fr.resolveBookmark(r)))},Sr=function(e,t){return e&&t&&Rt.isListNode(e)&&e.nodeName===t.nodeName},br=function(e,t,n){var r=e.getStyle(t,"list-style-type",!0),o=e.getStyle(n,"list-style-type",!0);return r===o},Lr=function(e,t){return e.className===t.className},Tr=function(e,t,n){return Sr(t,n)&&br(e,t,n)&&Lr(t,n)},kr=function(e,t){var n,r;if(n=t.nextSibling,Tr(e,t,n)){while(r=n.firstChild)t.appendChild(r);e.remove(n)}if(n=t.previousSibling,Tr(e,t,n)){while(r=n.lastChild)t.insertBefore(r,t.firstChild);e.remove(n)}},Er=function(e,t,n,r){if(t.nodeName!==n){var o=e.dom.rename(t,n);vr(e.dom,o,r),st(e,lr(n),o)}else vr(e.dom,t,r),st(e,lr(n),t)},Dr=function(e,t,n,r,o){if(t.nodeName!==r||wr(o)){var i=fr.createBookmark(e.selection.getRng(!0));Nt.each([t].concat(n),(function(t){Er(e,t,r,o)})),e.selection.setRng(fr.resolveBookmark(i))}else ir(e)},wr=function(e){return"list-style-type"in e},Br=function(e,t,n,r){if(t!==e.getBody())if(t)if(t.nodeName!==n||wr(r)||dr(t)){var o=fr.createBookmark(e.selection.getRng(!0));vr(e.dom,t,r);var i=e.dom.rename(t,n);kr(e.dom,i),e.selection.setRng(fr.resolveBookmark(o)),st(e,lr(n),i)}else ir(e);else Cr(e,n,r),st(e,lr(n),t)},xr=function(e,t,n){var r=Kt.getParentList(e),o=Kt.getSelectedSubLists(e);n=n||{},r&&o.length>0?Dr(e,r,o,t,n):Br(e,r,t,n)},Ar={toggleList:xr,mergeWithAdjacentLists:kr},Rr=Vn.DOM,Ir=function(e,t){var n,r=t.parentNode;"LI"===r.nodeName&&r.firstChild===t&&(n=r.previousSibling,n&&"LI"===n.nodeName?(n.appendChild(t),Rt.isEmpty(e,r)&&Rr.remove(r)):Rr.setStyle(r,"listStyleType","none")),Rt.isListNode(r)&&(n=r.previousSibling,n&&"LI"===n.nodeName&&n.appendChild(t))},Pr=function(e,t){Nt.each(Nt.grep(e.select("ol,ul",t)),(function(t){Ir(e,t)}))},_r={normalizeList:Ir,normalizeLists:Pr},Mr=function(e,t,n,r){var o=t.startContainer,i=t.startOffset;if(Rt.isTextNode(o)&&(n?i<o.data.length:i>0))return o;var u=e.schema.getNonEmptyElements();1===o.nodeType&&(o=$e.getNode(o,i));var s=new We(o,r);n&&Rt.isBogusBr(e.dom,o)&&s.next();while(o=s[n?"next":"prev2"]()){if("LI"===o.nodeName&&!o.hasChildNodes())return o;if(u[o.nodeName])return o;if(Rt.isTextNode(o)&&o.data.length>0)return o}},Ur=function(e,t){var n=t.childNodes;return 1===n.length&&!Rt.isListNode(n[0])&&e.isBlock(n[0])},Fr=function(e,t){Ur(e,t)&&e.remove(t.firstChild,!0)},zr=function(e,t,n){var r,o;if(o=Ur(e,n)?n.firstChild:n,Fr(e,t),!Rt.isEmpty(e,t,!0))while(r=t.firstChild)o.appendChild(r)},jr=function(e,t,n){var r,o,i=t.parentNode;if(Rt.isChildOfBody(e,t)&&Rt.isChildOfBody(e,n)){Rt.isListNode(n.lastChild)&&(o=n.lastChild),i===n.lastChild&&Rt.isBr(i.previousSibling)&&e.remove(i.previousSibling),r=n.lastChild,r&&Rt.isBr(r)&&t.hasChildNodes()&&e.remove(r),Rt.isEmpty(e,n,!0)&&e.$(n).empty(),zr(e,t,n),o&&n.appendChild(o);var u=je(Re.fromDom(n),Re.fromDom(t)),s=u?e.getParents(t,Rt.isListNode,n):[];e.remove(t),S(s,(function(t){Rt.isEmpty(e,t)&&t!==e.getRoot()&&e.remove(t)}))}},Hr=function(e,t,n){e.dom.$(n).empty(),jr(e.dom,t,n),e.selection.setCursorLocation(n)},$r=function(e,t,n,r){var o=e.dom;if(o.isEmpty(r))Hr(e,n,r);else{var i=fr.createBookmark(t);jr(o,n,r),e.selection.setRng(fr.resolveBookmark(i))}},Wr=function(e,t,n,r){var o=fr.createBookmark(t);jr(e.dom,n,r);var i=fr.resolveBookmark(o);e.selection.setRng(i)},qr=function(e,t){var n=e.dom,r=e.selection,o=r.getStart(),i=Kt.getClosestListRootElm(e,o),u=n.getParent(r.getStart(),"LI",i);if(u){var s=u.parentNode;if(s===e.getBody()&&Rt.isEmpty(n,s))return!0;var a=tr.normalizeRange(r.getRng()),c=n.getParent(Mr(e,a,t,i),"LI",i);if(c&&c!==u)return e.undoManager.transact((function(){t?$r(e,a,c,u):Rt.isFirstChild(u)?or(e):Wr(e,a,u,c)})),!0;if(!c&&!t&&0===a.startOffset&&0===a.endOffset)return e.undoManager.transact((function(){ir(e)})),!0}return!1},Vr=function(e,t,n){var r=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)},Kr=function(e,t){var n=e.dom,r=e.selection.getStart(),o=Kt.getClosestListRootElm(e,r),i=n.getParent(r,n.isBlock,o);if(i&&n.isEmpty(i)){var u=tr.normalizeRange(e.selection.getRng()),s=n.getParent(Mr(e,u,t,o),"LI",o);if(s)return e.undoManager.transact((function(){Vr(n,i,o),Ar.mergeWithAdjacentLists(n,s.parentNode),e.selection.select(s,!0),e.selection.collapse(t)})),!0}return!1},Qr=function(e,t){return qr(e,t)||Kr(e,t)},Xr=function(e){var t=e.selection.getStart(),n=Kt.getClosestListRootElm(e,t),r=e.dom.getParent(t,"LI,DT,DD",n);return!!(r||Kt.getSelectedListItems(e).length>0)&&(e.undoManager.transact((function(){e.execCommand("Delete"),_r.normalizeLists(e.dom,e.getBody())})),!0)},Yr=function(e,t){return e.selection.isCollapsed()?Qr(e,t):Xr(e)},Gr=function(e){e.on("keydown",(function(t){t.keyCode===qe.BACKSPACE?Yr(e,!1)&&t.preventDefault():t.keyCode===qe.DELETE&&Yr(e,!0)&&t.preventDefault()}))},Jr={setup:Gr,backspaceDelete:Yr},Zr=function(e){return{backspaceDelete:function(t){Jr.backspaceDelete(e,t)}}},eo={get:Zr},to=function(e,t){return function(){var n=e.dom.getParent(e.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===t}},no=function(e){e.on("BeforeExecCommand",(function(t){var n=t.command.toLowerCase();"indent"===n?rr(e):"outdent"===n&&or(e)})),e.addCommand("InsertUnorderedList",(function(t,n){Ar.toggleList(e,"UL",n)})),e.addCommand("InsertOrderedList",(function(t,n){Ar.toggleList(e,"OL",n)})),e.addCommand("InsertDefinitionList",(function(t,n){Ar.toggleList(e,"DL",n)})),e.addCommand("RemoveList",(function(){ir(e)})),e.addQueryStateHandler("InsertUnorderedList",to(e,"UL")),e.addQueryStateHandler("InsertOrderedList",to(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",to(e,"DL"))},ro={register:no},oo=function(e){e.on("keydown",(function(t){t.keyCode!==qe.TAB||qe.metaKeyPressed(t)||e.undoManager.transact((function(){(t.shiftKey?or(e):rr(e))&&t.preventDefault()}))}))},io=function(e){Gt.shouldIndentOnTab(e)&&oo(e),Jr.setup(e)},uo={setup:io},so=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t(r))return n}return-1},ao=function(e,t){return function(n){var r=function(e){var r=so(e.parents,Rt.isTableCellNode),o=-1!==r?e.parents.slice(0,r):e.parents,i=Nt.grep(o,Rt.isListNode);n.setActive(i.length>0&&i[0].nodeName===t&&!dr(i[0]))};return e.on("NodeChange",r),function(){return e.off("NodeChange",r)}}},co=function(e){var t=function(e,t){var n=e.settings.plugins?e.settings.plugins:"";return-1!==Nt.inArray(n.split(/[ ,]/),t)},n=function(t){return function(){return e.execCommand(t)}};t(e,"advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:n("InsertOrderedList"),onSetup:ao(e,"OL")}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:n("InsertUnorderedList"),onSetup:ao(e,"UL")}))},fo={register:co};function lo(){t.add("lists",(function(e){return uo.setup(e),fo.register(e),ro.register(e),eo.get(e)}))}lo()})(window)}}]);