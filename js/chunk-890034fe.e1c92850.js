(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-890034fe","chunk-589d93e4","chunk-2d0e4e51","chunk-2d0aecfc","chunk-2d209ae6"],{"0c3f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-list",{attrs:{itemLayout:"horizontal",dataSource:e.data}})},r=[],n={data:function(){return{data:[]}},methods:{}},s=n,o=a("2877"),u=Object(o["a"])(s,i,r,!1,null,"2019a4fb",null);t["default"]=u.exports},1725:function(e,t,a){},2436:function(e,t,a){},2482:function(e,t,a){"use strict";var i=a("1725"),r=a.n(i);r.a},"33e6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"account-settings-info-view"},[a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{md:24,lg:16}},[a("a-form",{attrs:{layout:"vertical"}},[a("a-form-item",{attrs:{label:"真实姓名"}},[a("a-input",{attrs:{placeholder:e.userinfo.realname,readonly:""},model:{value:e.fdata.realname,callback:function(t){e.$set(e.fdata,"realname",t)},expression:"fdata.realname"}})],1),a("a-form-item",{attrs:{label:"昵称",required:!0}},[a("a-input",{attrs:{placeholder:e.userinfo.nickname},model:{value:e.fdata.nickname,callback:function(t){e.$set(e.fdata,"nickname",t)},expression:"fdata.nickname"}})],1),a("a-form-item",{attrs:{label:"头像",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-upload",{staticClass:"avatar-uploader",attrs:{listType:"picture-card",showUploadList:!1,action:e.uploadAction,data:{isup:1},headers:e.headers,beforeUpload:e.beforeUpload},on:{change:e.handleChange}},[e.picUrl?a("img",{staticStyle:{height:"104px","max-width":"300px"},attrs:{src:e.getAvatarView(),alt:"头像"}}):a("div",[a("a-icon",{attrs:{type:e.uploadLoading?"loading":"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v("上传")])],1)])],1),a("a-form-item",{attrs:{label:"签名",required:!0}},[a("a-textarea",{attrs:{rows:"4",placeholder:e.userinfo.bio},model:{value:e.fdata.bio,callback:function(t){e.$set(e.fdata,"bio",t)},expression:"fdata.bio"}})],1),a("a-form-item",{attrs:{label:"手机",required:!0}},[a("a-input",{attrs:{placeholder:e.userinfo.phone},model:{value:e.fdata.phone,callback:function(t){e.$set(e.fdata,"phone",t)},expression:"fdata.phone"}})],1),a("a-form-item",{attrs:{label:"邮件 (格式example@xxx.xxx)",required:!0}},[a("a-input",{attrs:{placeholder:e.userinfo.email},model:{value:e.fdata.email,callback:function(t){e.$set(e.fdata,"email",t)},expression:"fdata.email"}})],1),a("a-form-item",{attrs:{label:"生日 (格式yyyy-MM-dd)",required:!0}},[a("a-input",{attrs:{placeholder:e.userinfo.birthday},model:{value:e.fdata.birthday,callback:function(t){e.$set(e.fdata,"birthday",t)},expression:"fdata.birthday"}})],1),a("a-form-item",{attrs:{label:"地址 (当前所在地址)",required:!0}},[a("a-input",{attrs:{placeholder:e.userinfo.address},model:{value:e.fdata.address,callback:function(t){e.$set(e.fdata,"address",t)},expression:"fdata.address"}})],1),a("a-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{label:"身份证号",required:!0}},[a("a-input",{attrs:{placeholder:e.userinfo.idcard},model:{value:e.fdata.idcard,callback:function(t){e.$set(e.fdata,"idcard",t)},expression:"fdata.idcard"}})],1),a("a-form-item",[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.postUserInfo()}}},[e._v("提交")])],1)],1)],1),a("a-col",{style:{minHeight:"180px"},attrs:{md:24,lg:8}},[a("div",{staticClass:"ant-upload-preview"},[a("img",{attrs:{src:e.avatar}})])])],1),a("avatar-modal",{ref:"modal"})],1)},r=[],n=(a("96cf"),a("3b8d")),s=a("8d90"),o=a("9fb0"),u=a("0fea"),c=(a("4ec3"),a("c82c"),a("ca00")),l=a("5d2d"),d={components:{AvatarModal:s["default"]},data:function(){return{preview:{},option:{img:"",info:!0,size:1,outputType:"jpeg",canScale:!1,autoCrop:!0,autoCropWidth:180,autoCropHeight:180,fixedBox:!0,fixed:!0,fixedNumber:[1,1]},avatar:"",userinfo:{},fdata:{},model:{},uploadLoading:!1,confirmLoading:!1,picUrl:"",url:{fileUpload:c["e"](window._CONFIG["uploadURL"])+"/sys/common/upload",imgerver:window._CONFIG["imgDomainURL"],userWithDepart:"".concat(window._CONFIG["domain"],"/sys/user/userDepartList"),userId:"".concat(window._CONFIG["domain"],"/sys/user/generateUserId"),syncUserByUserName:"".concat(window._CONFIG["domain"],"/jeecg-boot/process/extActProcess/doSyncUserByUserName")}}},computed:{userInfo:function(){return this.$store.getters.userInfo},uploadAction:function(){return this.url.fileUpload}},created:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Vue.ls.get(o["a"]),this.headers={"X-Access-Token":t},e.next=4,this.loadData();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{loadData:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return l["c"]("system_v_user_info@username$".concat(this.userInfo.username)),e.next=3,u["queryUserInfoByView"](this.userInfo.username);case 3:return this.v_user=e.sent,this.avatar=this.option.img=window._CONFIG["imgDomainURL"]+"/"+this.v_user[0]["avatar"],this.userinfo.id=this.v_user[0]["id"],this.userinfo.realname=this.v_user[0]["realname"],this.userinfo.nickname=this.v_user[0]["nickname"],this.userinfo.bio=this.v_user[0]["bio"],this.userinfo.phone=this.v_user[0]["phone"],this.userinfo.email=this.v_user[0]["email"],this.userinfo.address=this.v_user[0]["address"],this.userinfo.idcard=this.v_user[0]["idcard"],this.userinfo.avatar=this.model.avatar,this.userinfo.birthday=c["i"](this.v_user[0]["birthday"],"yyyy-MM-dd"),e.next=17,this.cloneData(this.fdata,this.userinfo);case 17:this.fdata=e.sent;case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cloneData:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={id:a.id,nickname:c["e"](t.nickname,a.nickname),bio:c["e"](t.bio,a.bio),phone:c["e"](t.phone,a.phone),email:c["e"](t.email,a.email),birthday:c["e"](t.birthday,a.birthday),address:c["e"](t.address,a.address),avatar:c["e"](t.avatar,a.avatar),idcard:c["e"](t.idcard,a.idcard)},e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),postUserInfo:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.userinfo.avatar=this.model.avatar,e.next=4,this.cloneData(this.fdata,this.userinfo);case 4:return this.fdata=e.sent,e.next=7,u["patchTableData"]("sys_user",this.userinfo.id,this.fdata);case 7:return e.next=9,u["queryUserInfoByView"](this.userInfo.username);case 9:this.v_user=e.sent,this.v_user[0]=Object.assign({},this.v_user[0],this.fdata),l["g"]("system_v_user_info@username$".concat(this.userInfo.username),this.v_user,86400),console.log("user info :"+JSON.stringify(this.v_user[0])),this.$message.success("保存信息成功！"),this.$emit("ok"),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));function t(){return e.apply(this,arguments)}return t}(),getAvatarView:function(){return this.url.imgerver+"/"+this.model.avatar},beforeUpload:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.type,!(a.indexOf("image")<0)){e.next=4;break}return this.$message.warning("请上传图片"),e.abrupt("return",!1);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleChange:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.picUrl="","uploading"!==t.file.status){e.next=4;break}return this.uploadLoading=!0,e.abrupt("return");case 4:if("done"!==t.file.status){e.next=18;break}if(a=t.file.response,this.uploadLoading=!1,console.log("上传后头像返回信息："+a),console.log("上传后头像返回信息："+JSON.stringify(a)),!a.success){e.next=17;break}return this.model.avatar=a.message,this.avatar=this.option.img=window._CONFIG["imgDomainURL"]+"/"+a.message,e.next=14,this.postUserInfo();case 14:this.picUrl="Has no pic url yet",e.next=18;break;case 17:this.$message.warning(a.message);case 18:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},f=d,h=(a("e18f"),a("2877")),p=Object(h["a"])(f,i,r,!1,null,"1508930a",null);t["default"]=p.exports},"55c3":function(e,t,a){"use strict";a.r(t);var i,r,n=a("5976"),s=a("160c"),o=a("fe2b"),u=a("a6b6"),c=a("ac0d"),l=u["a"].Meta,d={components:{AListItem:u["a"],AList:o["b"],ASwitch:s["a"],Meta:l},mixins:[c["a"]],data:function(){return{}},filters:{themeFilter:function(e){var t={dark:"暗色",light:"白色"};return t[e]}},methods:{colorFilter:function(e){var t=n["a"].filter((function(t){return t.color===e}))[0];return t&&t.key},onChange:function(e){e?this.$store.dispatch("ToggleTheme","dark"):this.$store.dispatch("ToggleTheme","light")}},render:function(){var e=arguments[0];return e(o["b"],{attrs:{itemLayout:"horizontal"}},[e(u["a"],[e(l,[e("a",{slot:"title"},["风格配色"]),e("span",{slot:"description"},["整体风格配色设置"])]),e("div",{slot:"actions"},[e(s["a"],{attrs:{checkedChildren:"暗色",unCheckedChildren:"白色",defaultChecked:"dark"===this.navTheme},on:{change:this.onChange}})])]),e(u["a"],[e(l,[e("a",{slot:"title"},["主题色"]),e("span",{slot:"description"},["页面风格配色： ",e("a",{domProps:{innerHTML:this.colorFilter(this.primaryColor)}})])])])])}},f=d,h=a("2877"),p=Object(h["a"])(f,i,r,!1,null,"6ab256a2",null);t["default"]=p.exports},"7b8a":function(e,t,a){},"89b0":function(e,t,a){"use strict";var i=a("7b8a"),r=a.n(i);r.a},"8d90":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{visible:e.visible,title:"修改头像",maskClosable:!1,confirmLoading:e.confirmLoading,width:800}},[a("a-row",[a("a-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[a("vue-cropper",{ref:"cropper",attrs:{img:e.options.img,info:!0,autoCrop:e.options.autoCrop,autoCropWidth:e.options.autoCropWidth,autoCropHeight:e.options.autoCropHeight,fixedBox:e.options.fixedBox},on:{realTime:e.realTime}})],1),a("a-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[a("div",{staticClass:"avatar-upload-preview"},[a("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:e.cancelHandel}},[e._v("取消")]),a("a-button",{key:"submit",attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.okHandel}},[e._v("保存")])],1)],2)},r=[],n=a("7e79"),s={components:{VueCropper:n["VueCropper"]},data:function(){return{visible:!1,id:null,confirmLoading:!1,options:{img:"/avatar2.jpg",autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedBox:!0},previews:{}}},methods:{edit:function(e){this.visible=!0,this.id=e},close:function(){this.id=null,this.visible=!1},cancelHandel:function(){this.close()},okHandel:function(){var e=this;e.confirmLoading=!0,setTimeout((function(){e.confirmLoading=!1,e.close(),e.$message.success("上传头像成功")}),2e3)},realTime:function(e){this.previews=e}}},o=s,u=(a("89b0"),a("2877")),c=Object(u["a"])(o,i,r,!1,null,"17f9d473",null);t["default"]=c.exports},"91be":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-list",{attrs:{itemLayout:"horizontal",dataSource:e.data}})},r=[],n={data:function(){return{data:[]}},methods:{}},s=n,o=a("2877"),u=Object(o["a"])(s,i,r,!1,null,"e454e91e",null);t["default"]=u.exports},a9a9:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-list",{attrs:{itemLayout:"horizontal",dataSource:e.data},scopedSlots:e._u([{key:"renderItem",fn:function(t,i){return a("a-list-item",{key:i},[a("a-list-item-meta",[a("a",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))]),a("span",{attrs:{slot:"description"},slot:"description"},[a("span",{staticClass:"security-list-description"},[e._v(e._s(t.description))]),t.value?a("span",[e._v(":")]):e._e(),a("span",{staticClass:"security-list-value"},[e._v(e._s(t.value))])])]),t.actions?[a("a",{attrs:{slot:"actions"},on:{click:t.actions.callback},slot:"actions"},[e._v(e._s(t.actions.title))])]:e._e()],2)}}])}),a("a-row",{staticStyle:{"margin-top":"25px"},attrs:{gutter:16}},[a("a-col",{attrs:{md:24,lg:16}},[a("a-form",{attrs:{layout:"vertical"}},[a("a-form-item",{attrs:{label:"手机",required:!0}},[a("a-input",{attrs:{placeholder:e.userinfo.phone},model:{value:e.fdata.phone,callback:function(t){e.$set(e.fdata,"phone",t)},expression:"fdata.phone"}})],1),a("a-form-item",{attrs:{label:"邮件 (格式example@xxx.xxx)",required:!0}},[a("a-input",{attrs:{placeholder:e.userinfo.email},model:{value:e.fdata.email,callback:function(t){e.$set(e.fdata,"email",t)},expression:"fdata.email"}})],1),a("a-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{label:"身份证号",required:!0}},[a("a-input",{attrs:{placeholder:e.userinfo.idcard},model:{value:e.fdata.idcard,callback:function(t){e.$set(e.fdata,"idcard",t)},expression:"fdata.idcard"}})],1),a("a-form-item",[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.postUserInfo()}}},[e._v("提交")])],1)],1)],1)],1)],1)},r=[],n=(a("96cf"),a("3b8d")),s=a("0fea"),o=(a("ca00"),a("5d2d")),u={data:function(){return{data:[],fdata:{},userinfo:{}}},computed:{userInfo:function(){return this.$store.getters.userInfo}},created:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadData();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{loadData:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o["c"]("system_v_user_info@username$".concat(this.userInfo.username)),e.next=3,s["queryUserInfoByView"](this.userInfo.username);case 3:this.v_user=e.sent,this.userinfo.phone=this.v_user[0]["phone"],this.userinfo.email=this.v_user[0]["email"],this.userinfo.idcard=this.v_user[0]["idcard"],this.fdata=Object.assign({},this.userinfo),this.data=[{title:"账户密码",description:"当前密码强度",value:"强"},{title:"密保手机",description:"已绑定手机",value:this.userinfo.phone},{title:"密保邮箱",description:"已绑定邮箱",value:this.userinfo.email},{title:"身份证号",description:"已绑定身份证号码",value:this.userinfo.idcard},{title:"密保问题",description:"未设置密保问题，密保问题可有效保护账户安全",value:""}];case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),postUserInfo:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s["patchTableData"]("sys_user",this.userinfo.id,this.fdata);case 3:return e.next=5,s["queryUserInfoByView"](this.userInfo.username);case 5:this.v_user=e.sent,this.v_user[0]=Object.assign({},this.v_user[0],this.fdata),o["g"]("system_v_user_info@username$".concat(this.userInfo.username),this.v_user,86400),console.log("user info :"+JSON.stringify(this.v_user[0])),this.$message.success("保存信息成功！"),this.$emit("ok"),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));function t(){return e.apply(this,arguments)}return t}()}},c=u,l=a("2877"),d=Object(l["a"])(c,i,r,!1,null,"232ae2e1",null);t["default"]=d.exports},cd07:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-header-index-wide"},[a("a-card",{style:{height:"100%"},attrs:{bordered:!1,bodyStyle:{padding:"16px 0",height:"100%"}}},[a("div",{staticClass:"account-settings-info-main",class:e.device,style:"min-height:"+e.mainInfoHeight},[a("div",{staticClass:"account-settings-info-left"},[a("a-menu",{style:{border:"0",width:"mobile"==e.device?"560px":"auto"},attrs:{mode:"mobile"==e.device?"horizontal":"inline",defaultSelectedKeys:e.defaultSelectedKeys,type:"inner"},on:{openChange:e.onOpenChange}},[a("a-menu-item",{key:"/account/settings/base"},[a("router-link",{attrs:{to:{name:"account-settings-base"}}},[e._v("基本设置")])],1),a("a-menu-item",{key:"/account/settings/security"},[a("router-link",{attrs:{to:{name:"account-settings-security"}}},[e._v("安全设置")])],1),a("a-menu-item",{key:"/account/settings/custom"},[a("router-link",{attrs:{to:{name:"account-settings-custom"}}},[e._v("个性化")])],1),a("a-menu-item",{key:"/account/settings/binding"},[a("router-link",{attrs:{to:{name:"account-settings-binding"}}},[e._v("账户绑定")])],1),a("a-menu-item",{key:"/account/settings/notification"},[a("router-link",{attrs:{to:{name:"account-settings-notification"}}},[e._v("新消息通知")])],1)],1)],1),a("div",{staticClass:"account-settings-info-right"},[a("div",{staticClass:"account-settings-info-title"},[a("span",[e._v(e._s(e.$route.meta.title))])]),a("route-view")],1)])])],1)},r=[],n=a("b445"),s=a("501f"),o=a("ac0d"),u={components:{RouteView:s["default"],PageLayout:n["default"]},mixins:[o["b"]],data:function(){return{mode:"inline",mainInfoHeight:"100%",openKeys:[],defaultSelectedKeys:[],preview:{},option:{img:"/avatar2.jpg",info:!0,size:1,outputType:"jpeg",canScale:!1,autoCrop:!0,autoCropWidth:180,autoCropHeight:180,fixedBox:!0,fixed:!0,fixedNumber:[1,1]},pageTitle:""}},computed:{userInfo:function(){return this.$store.getters.userInfo}},created:function(){this.updateMenu()},mounted:function(){this.mainInfoHeight=window.innerHeight-285+"px"},methods:{onOpenChange:function(e){this.openKeys=e},updateMenu:function(){var e=this.$route.matched.concat();this.defaultSelectedKeys=[e.pop().path]}}},c=u,l=(a("2482"),a("2877")),d=Object(l["a"])(c,i,r,!1,null,"8dd60706",null);t["default"]=d.exports},e18f:function(e,t,a){"use strict";var i=a("2436"),r=a.n(i);r.a}}]);